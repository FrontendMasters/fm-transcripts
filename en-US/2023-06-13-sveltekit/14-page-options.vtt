WEBVTT

1
00:00:00.000 --> 00:00:03.485
All right, so we've got all of this
trending movies data that we're

2
00:00:03.485 --> 00:00:06.565
not using at the moment,
we're only displaying one movie.

3
00:00:06.565 --> 00:00:10.688
And we'd like to show a whole bunch
of trending movies beneath it in that

4
00:00:10.688 --> 00:00:12.485
carousel that we saw earlier.

5
00:00:12.485 --> 00:00:15.933
So to do this, because we're gonna
be repeating this a couple of times,

6
00:00:15.933 --> 00:00:20.013
we're gonna add a carousel component that
we can reuse throughout our application.

7
00:00:22.874 --> 00:00:28.336
So let's go over to the lib folder,
we'll create a new directory components.

8
00:00:28.336 --> 00:00:33.278
This is where we'll put components
that are gonna be repeated

9
00:00:33.278 --> 00:00:38.042
multiple times in the app,
and create Carousel.svelte.

10
00:00:38.042 --> 00:00:43.420
Okay, so we're gonna create a script
element and we're gonna export

11
00:00:43.420 --> 00:00:49.087
a movies prop, first we're gonna add
the lang = ts attribute as always.

12
00:00:50.908 --> 00:00:56.789
And our movies prop is gonna be
an array of MovieListResult objects.

13
00:00:58.350 --> 00:01:00.447
If we look at that definition,

14
00:01:00.447 --> 00:01:04.166
you can see all of the things
that exist on that object.

15
00:01:04.166 --> 00:01:09.836
Including usefully for our purposes, the
poster_path, which is that image there and

16
00:01:09.836 --> 00:01:14.294
the id, which is gonna enable us to
link to an individual movie page.

17
00:01:17.862 --> 00:01:21.382
We'll begin by creating a div
with a class of carousel.

18
00:01:25.441 --> 00:01:29.850
And then inside there, we're just gonna
render a whole bunch of poster images.

19
00:01:29.850 --> 00:01:33.378
So for each of our movies in the array,

20
00:01:33.378 --> 00:01:38.682
each movies as movie,
we're gonna create a link element

21
00:01:40.858 --> 00:01:46.333
That points to /movie/movie.id.

22
00:01:50.250 --> 00:01:52.964
And inside there,

23
00:01:52.964 --> 00:01:58.905
we are gonna render the movie's poster.

24
00:02:06.439 --> 00:02:10.808
Like with our hero component,
we're gonna use the media helper.

25
00:02:10.808 --> 00:02:18.177
We're gonna pass in the movie.poster_path
that we saw, with a width of 500.

26
00:02:22.337 --> 00:02:24.727
Let's see how that looks.

27
00:02:24.727 --> 00:02:29.431
Okay, so we're gonna need to use
the carousel component in our page,

28
00:02:29.431 --> 00:02:31.597
so let's open that component.

29
00:02:31.597 --> 00:02:36.490
Okay, so we've started building
our carrousel component,

30
00:02:36.490 --> 00:02:38.569
let's add it to our page.

31
00:02:38.569 --> 00:02:43.681
Start typing carousel, auto input that,

32
00:02:43.681 --> 00:02:52.205
and the movies that we're gonna
pass are the data.trending results.

33
00:02:53.925 --> 00:02:56.468
You can see that it's now
rendering that entire list.

34
00:02:56.468 --> 00:02:59.590
Obviously, it's a little bit chunky,
this isn't quite what we want.

35
00:02:59.590 --> 00:03:05.216
So let's go into carousel.svelte,

36
00:03:05.216 --> 00:03:07.861
and add some CSS.

37
00:03:19.359 --> 00:03:20.980
First thing we're gonna do, as so often,

38
00:03:20.980 --> 00:03:23.064
is we're gonna turn this
into a display flex element.

39
00:03:23.064 --> 00:03:27.434
I find I use display flex more
than pretty much any other

40
00:03:27.434 --> 00:03:29.907
display property these days.

41
00:03:32.465 --> 00:03:39.476
And we're gonna give this a maximum height
of, for now let's just say 10 rems.

42
00:03:39.476 --> 00:03:43.932
And you can see that the footer has now
appeared above the carousel because we

43
00:03:43.932 --> 00:03:46.234
need to shrink the images down as well.

44
00:03:46.234 --> 00:03:53.920
So we're gonna say that the eight elements
inside have a maximum height of 100%,

45
00:03:53.920 --> 00:03:58.950
and the same for
the images inside the anchor elements.

46
00:03:58.950 --> 00:04:04.099
Right, it's starting to look a little bit
more like a carousel now, so add a gap.

47
00:04:06.469 --> 00:04:09.835
Space them out a little bit.

48
00:04:09.835 --> 00:04:14.500
And we wanna make the carousel
scrollable without making

49
00:04:14.500 --> 00:04:17.900
the entire page scroll along with it, and

50
00:04:17.900 --> 00:04:23.747
that's easy enough to do with
the overflow-x: scroll CSS property.

51
00:04:26.125 --> 00:04:30.736
But you'll notice on the original,
when we scroll,

52
00:04:30.736 --> 00:04:36.472
we ended up with the posters perfectly
lined up with the one below,

53
00:04:36.472 --> 00:04:42.525
and that's because we're using
something called scroll snapping.

54
00:04:42.525 --> 00:04:44.732
So let's add some scroll
snaps to the carousel.

55
00:04:45.813 --> 00:04:50.556
The property is called scroll-snap-type.

56
00:04:50.556 --> 00:04:55.002
And the value is mandatory,
in other words,

57
00:04:55.002 --> 00:05:01.437
we always insist that the image
line up with the left-hand edge.

58
00:05:01.437 --> 00:05:09.695
But we need to add some padding before
this will behave the way we want.

59
00:05:09.695 --> 00:05:18.382
And we can use the, The site value
that we declared in our global CSS.

60
00:05:21.468 --> 00:05:26.868
But we need to add it both to the scroll
padding and the element padding,

61
00:05:26.868 --> 00:05:30.828
so scroll padding left is
gonna be var --padding.

62
00:05:30.828 --> 00:05:37.676
And then, the padding on the carousel
is gonna have that on both sides.

63
00:05:40.882 --> 00:05:45.157
Now you can see it's now slightly offset.

64
00:05:54.572 --> 00:05:59.871
One other thing that we'll
need to add to get rid

65
00:05:59.871 --> 00:06:05.038
of the ugly scroll bar on
some platforms is this

66
00:06:05.038 --> 00:06:11.533
pseudo selector
.carousel::-webkit-scrollbar,

67
00:06:11.533 --> 00:06:16.054
and that's gonna get a display of none.

68
00:06:23.237 --> 00:06:29.316
Now, this is all starting to take shape,
but this big image is too big.

69
00:06:29.316 --> 00:06:34.348
We want it to be constrained to that
column width that we specified for

70
00:06:34.348 --> 00:06:39.320
the navigation and for that header
element that we have on the page.

71
00:06:39.320 --> 00:06:44.707
Unfortunately, we can't just use
the column class on this carousel,

72
00:06:44.707 --> 00:06:50.810
because then we wouldn't be able to scroll
the elements to the left of that view,

73
00:06:50.810 --> 00:06:53.629
they would get cut off by the column.

74
00:06:53.629 --> 00:06:58.970
So instead, we're gonna need to use
a little bit of maths in our CSS.

75
00:06:58.970 --> 00:07:03.292
Bear with me for
a minute while we type this out.

76
00:07:03.292 --> 00:07:08.569
The padding on the side of
the carousel is gonna be the maximum

77
00:07:08.569 --> 00:07:13.505
of that side custom property, And

78
00:07:13.505 --> 00:07:16.608
the calculated value of,

79
00:07:18.843 --> 00:07:24.731
The --side property plus
the full width of the page,

80
00:07:24.731 --> 00:07:28.445
100vw minus the column width.

81
00:07:34.880 --> 00:07:41.707
I'm just gonna group those values and
then divide the whole thing by 2.

82
00:07:41.707 --> 00:07:44.481
And if we have set that out correctly,

83
00:07:44.481 --> 00:07:48.129
that will now max out when
we make the page bigger.

84
00:07:48.129 --> 00:07:52.067
So you can see now it's getting a little
extra padding there on the side.

85
00:07:52.067 --> 00:07:55.201
So then we can see these on the screen
when it's zoomed in like this.

86
00:07:55.201 --> 00:08:00.002
I'm actually gonna go into my styles.css
and change that column width to say 60.

87
00:08:00.002 --> 00:08:03.482
And now when we drag this page out,

88
00:08:03.482 --> 00:08:07.933
we'll see that that happened much sooner.

89
00:08:07.933 --> 00:08:10.815
We need to do the same thing for
the hero image now.

90
00:08:10.815 --> 00:08:16.367
So open the hero Svelte component, and
we'll set a max width on that a element.

91
00:08:16.367 --> 00:08:21.502
In fact, let's just add the column class.

92
00:08:24.191 --> 00:08:26.515
Right, and
that is now similarly constrained.


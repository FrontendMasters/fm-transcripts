WEBVTT

1
00:00:00.160 --> 00:00:03.172
&gt;&gt; Student: How does Claude know that
it should ask the MCP server about

2
00:00:03.172 --> 00:00:04.640
the weather?

3
00:00:04.640 --> 00:00:05.840
&gt;&gt; Brian Holt: It's a good question.

4
00:00:05.840 --> 00:00:09.883
So when Claude Desktop is starting up,

5
00:00:09.883 --> 00:00:15.280
it goes through its MCP config file,
which is this.

6
00:00:15.280 --> 00:00:18.880
It sees that it has Demo Server and
Weather Server.

7
00:00:18.880 --> 00:00:22.331
It runs both of these commands to get
both of these MCP servers running in

8
00:00:22.331 --> 00:00:23.200
the background.

9
00:00:24.640 --> 00:00:26.960
Then can we scroll up and still see it?

10
00:00:28.690 --> 00:00:30.370
We don't have it up here,
but it calls that.

11
00:00:30.370 --> 00:00:32.707
Do you remember where
we called Tools list,

12
00:00:32.707 --> 00:00:36.258
where it listed out all of the various
different tools that it has?

13
00:00:36.258 --> 00:00:41.433
And so, Claude is just given just
this box of tools when it starts up.

14
00:00:41.433 --> 00:00:43.599
And then it decides at the beginning,

15
00:00:43.599 --> 00:00:47.810
someone asked me what the current weather
is, how am I going to go find it?

16
00:00:47.810 --> 00:00:49.810
It makes a plan for
how it's going to go do that.

17
00:00:51.490 --> 00:00:53.505
If we didn't give it the weather tool,

18
00:00:53.505 --> 00:00:56.009
it would probably just go
search on the Open Web,

19
00:00:56.009 --> 00:01:00.610
what's the current weather in Minneapolis,
and just use whatever it found there.

20
00:01:00.610 --> 00:01:02.170
But it sees that it has a tool and

21
00:01:02.170 --> 00:01:05.290
it has a strong preference to
use tools that it has available,

22
00:01:05.290 --> 00:01:09.010
that it has a tool for finding local
weather and it'll decide to use that.

23
00:01:10.450 --> 00:01:14.838
So, it's always terrifying giving live
demos with LLMs because you just don't

24
00:01:14.838 --> 00:01:17.650
know what's gonna happen, right?

25
00:01:17.650 --> 00:01:20.761
There's a strong probability that at least
one of these times it's going to be like,

26
00:01:20.761 --> 00:01:22.850
yeah, I have a tool for that,
but I don't like that guy.

27
00:01:22.850 --> 00:01:24.690
I'm going to just go use the Open Web for
this.

28
00:01:26.600 --> 00:01:27.840
Luckily, so far that's not been the case.

29
00:01:27.840 --> 00:01:29.160
And I look really smart right now.

30
00:01:30.760 --> 00:01:35.000
Have you ever seen the temperature for
an LLM?

31
00:01:35.000 --> 00:01:38.280
Like, whenever you're invoking an LLM,
you have to give it a temperature.

32
00:01:38.280 --> 00:01:44.120
That's basically telling it how much
chaos can you introduce into your system?

33
00:01:44.120 --> 00:01:45.800
If you give it a temperature of one,

34
00:01:45.800 --> 00:01:50.120
it's just always going to choose the very
best result and it will have no variance.

35
00:01:50.120 --> 00:01:53.440
So, in theory, if you call something
twice with a one temperature,

36
00:01:53.440 --> 00:01:56.490
you should get the same thing both times,
not always the case.

37
00:01:56.490 --> 00:01:59.989
But if you call it with like a 0.6 or
a 0.8, I think most people recommend like

38
00:01:59.989 --> 00:02:03.435
a 0.8, which is like, hey, have a little
bit of variance in how you respond to

39
00:02:03.435 --> 00:02:06.690
these things so
that everything's a little bit different.

40
00:02:06.690 --> 00:02:09.922
So that's where that temperature
can kind of start coming in of,

41
00:02:09.922 --> 00:02:13.914
I should use the MCP tool that I have
available to me, but I'm not gonna, right,

42
00:02:13.914 --> 00:02:15.890
I'm gonna go do something different.

43
00:02:17.580 --> 00:02:21.285
So that's probably a bit more of an answer
than you expected, but that's in theory,

44
00:02:21.285 --> 00:02:22.940
it should have a tool available to it.

45
00:02:22.940 --> 00:02:26.164
It should be strongly biased
towards choosing the tool and

46
00:02:26.164 --> 00:02:29.580
it should use the tool that
it has to find weather.

47
00:02:29.580 --> 00:02:32.660
&gt;&gt; Student: How well does
the LLM handle collisions?

48
00:02:32.660 --> 00:02:37.236
If we had a similar weather type of
function in our tool in our other server

49
00:02:37.236 --> 00:02:40.700
and we had both of them enabled,
does it get confused?

50
00:02:40.700 --> 00:02:41.980
Does it ask for clarification?

51
00:02:43.610 --> 00:02:45.050
&gt;&gt; Brian Holt: The answer to
your question is just yes.

52
00:02:46.330 --> 00:02:48.250
Poor results is the answer
to your question.

53
00:02:48.250 --> 00:02:49.850
We'll talk about this a bit later on.

54
00:02:51.370 --> 00:02:55.610
You want to expose as few tools as
possible to Claude, because it does.

55
00:02:55.610 --> 00:02:59.852
Even if you have things like find
the weather or find animal facts,

56
00:02:59.852 --> 00:03:04.570
the fact that you have multiple tools
to choose from just adds confusion.

57
00:03:04.570 --> 00:03:08.660
If you have a tool that you just know it's
not going to use, just don't expose it.

58
00:03:08.660 --> 00:03:10.300
And the way you do that with Claude.

59
00:03:11.420 --> 00:03:16.255
Where's Claude is I would go in here and
I would just,

60
00:03:16.255 --> 00:03:19.700
I would turn off getweather, right?

61
00:03:19.700 --> 00:03:21.900
If I'm not gonna use that,
I just would turn it off.

62
00:03:21.900 --> 00:03:23.006
And then it's not even exposed.

63
00:03:23.006 --> 00:03:26.420
It's not even causing problems,
cause you get kind of two problems here.

64
00:03:26.420 --> 00:03:30.452
One, it adds confusion if you're
asking it about animal facts and

65
00:03:30.452 --> 00:03:35.290
you have a weather function there
until you're just wasting tokens.

66
00:03:35.290 --> 00:03:38.573
Because every time that you're
providing this whole context

67
00:03:38.573 --> 00:03:41.854
to the anthropic model of,
here's all the tools that I have,

68
00:03:41.854 --> 00:03:45.513
here's all the parameters, they expect,
all that kind of stuff and

69
00:03:45.513 --> 00:03:50.090
it's just wasted context and wasted tokens
because that all counts as input tokens.

70
00:03:51.930 --> 00:03:56.954
Claude, as of right now, this will
definitely change as time goes on,

71
00:03:56.954 --> 00:04:00.237
really can't deal with more than 40 tools.

72
00:04:00.237 --> 00:04:04.708
There's kind of like an upper limit there
where things start getting wacky above

73
00:04:04.708 --> 00:04:05.700
that many tools.

74
00:04:06.900 --> 00:04:11.025
So yeah, especially if you have
two things that do the same thing,

75
00:04:11.025 --> 00:04:13.380
it's going to pick one.

76
00:04:13.380 --> 00:04:15.700
That would be my guess.

77
00:04:15.700 --> 00:04:19.686
It might give up, but usually it's going
to try and it might even try both,

78
00:04:19.686 --> 00:04:20.980
which would be worse.

79
00:04:20.980 --> 00:04:21.860
Right.

80
00:04:21.860 --> 00:04:26.104
&gt;&gt; Student: Could you instruct the LLM
to specify which tools to use in various

81
00:04:26.104 --> 00:04:29.230
scenarios, like a system prompt?

82
00:04:29.230 --> 00:04:30.331
&gt;&gt; Brian Holt: Yeah.
So, I mean,

83
00:04:30.331 --> 00:04:34.371
you can see here the reason why I did that
is because frequently if you say, hey,

84
00:04:34.371 --> 00:04:38.708
I want you to add two and seven, it'll be
like, yeah, it's nine, what do you want,

85
00:04:38.708 --> 00:04:39.470
right [LAUGH]?

86
00:04:41.869 --> 00:04:45.083
So sometimes I will get very
specific of like in these cases,

87
00:04:45.083 --> 00:04:46.350
be sure to use the tool.

88
00:04:46.350 --> 00:04:51.231
Actually, I have one of
these directly in my course,

89
00:04:51.231 --> 00:04:54.600
which let me show you here at the end.

90
00:04:58.440 --> 00:05:00.722
It's in the vibe coding one.

91
00:05:00.722 --> 00:05:04.680
So, this is for Claude code.

92
00:05:04.680 --> 00:05:12.200
You can see here, Neon Auth, it's like
auth writer, clerk or something like that.

93
00:05:13.320 --> 00:05:16.760
I've noticed a lot of times that
the LLMs will get this wrong.

94
00:05:16.760 --> 00:05:21.512
And so I will say, please use Context7,
which is an MCP server that I will show

95
00:05:21.512 --> 00:05:25.832
you here momentarily to make sure that
you have up to date docs on this and

96
00:05:25.832 --> 00:05:26.770
this fixes it.

97
00:05:26.770 --> 00:05:29.492
As long as I tell,
it's like please use docs for this, and

98
00:05:29.492 --> 00:05:32.450
that's what Context7 does,
it provides docs dynamically.

99
00:05:34.130 --> 00:05:37.770
That helps quite a bit right here.

100
00:05:37.770 --> 00:05:40.770
Again, please use context 7 liberally
to make sure you have latest docs.

101
00:05:42.210 --> 00:05:45.450
Then this one,
which goes on everything that I use.

102
00:05:45.450 --> 00:05:47.650
Do not write migrations yourself.

103
00:05:47.650 --> 00:05:51.099
Please use Drizzle or else it won't,
use it every single time, right?

104
00:05:51.099 --> 00:05:56.590
And so, you have to get really specific of
what MCP servers you want it to use when.

105
00:05:56.590 --> 00:05:59.027
Because otherwise this will just try and
write,

106
00:05:59.027 --> 00:06:01.470
it'll just YOLO SQL every single time,
right?

107
00:06:03.550 --> 00:06:07.190
So yes, I do that all the time,
in these cases, please use the MCP server.

108
00:06:07.190 --> 00:06:09.150
Do not try and do this yourself.

109
00:06:09.150 --> 00:06:10.865
Yeah.
&gt;&gt; Student: I might be getting ahead here,

110
00:06:10.865 --> 00:06:14.426
but the Context seven thing, if you're
pulling in docs like Chad CN docs or

111
00:06:14.426 --> 00:06:17.476
something that's taking up
your context window, right?

112
00:06:17.476 --> 00:06:19.750
&gt;&gt; Brian Holt: Yeah, okay, 100%.

113
00:06:22.630 --> 00:06:25.750
The key here is to find someone else's
credit card to put in there, not yours.

114
00:06:28.470 --> 00:06:31.921
No, I mean, I'm giving you some hints and
tips and tricks around here,

115
00:06:31.921 --> 00:06:34.550
how to optimize your tokens a little bit.

116
00:06:34.550 --> 00:06:37.844
Unless you're coding a lot and
doing this 100% through these,

117
00:06:37.844 --> 00:06:40.230
generally there's enough
tokens to go around.

118
00:06:40.230 --> 00:06:44.658
I wouldn't worry too much about fine
tuning what's getting loaded when.

119
00:06:44.658 --> 00:06:49.299
This can make a big difference if you're
like a massive scale company of what

120
00:06:49.299 --> 00:06:51.270
you're putting into context.

121
00:06:51.270 --> 00:06:55.110
But if you're just coding yourself,
should be okay.

122
00:06:55.110 --> 00:06:57.750
So don't have a panic attack about it.

123
00:06:57.750 --> 00:07:00.390
It's what I'm trying to say,
don't try and over optimize this problem.


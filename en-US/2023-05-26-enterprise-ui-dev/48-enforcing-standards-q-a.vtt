WEBVTT

1
00:00:00.000 --> 00:00:03.225
Now, how do I convince my
team to do all this stuff?

2
00:00:03.225 --> 00:00:05.616
&gt;&gt; That's-
&gt;&gt; It's a question I always have.

3
00:00:05.616 --> 00:00:07.243
&gt;&gt; Yeah, I mean,
let's talk about that a little bit.

4
00:00:07.243 --> 00:00:11.438
That's a tricky question cuz
every team is different, right?

5
00:00:11.438 --> 00:00:15.227
I have had the secret advantage of,

6
00:00:15.227 --> 00:00:21.049
I've been able to pull rank for
a really long time now.

7
00:00:21.049 --> 00:00:22.444
Do you know what I mean?

8
00:00:22.444 --> 00:00:27.169
So I am not the best person to answer
that question unfortunately because

9
00:00:27.169 --> 00:00:31.980
I've either been the most senior
engineer or everyone's boss, right?

10
00:00:31.980 --> 00:00:36.235
That's a new, previously,
I was just, whatever,

11
00:00:36.235 --> 00:00:39.263
at least had no actual authority, but

12
00:00:39.263 --> 00:00:44.099
at least a title that made people
think that I had some power.

13
00:00:44.099 --> 00:00:47.198
I had no power as the frontend
architect at Twilio.

14
00:00:47.198 --> 00:00:50.422
It was mostly me kinda
trying to salesmanship and

15
00:00:50.422 --> 00:00:55.452
charisma my way to getting stuff done,
but there was probably an illusion,

16
00:00:55.452 --> 00:00:58.454
right, that I was fancier
than I really was.

17
00:00:58.454 --> 00:01:00.828
So it not always depends on the team.

18
00:01:00.828 --> 00:01:03.435
But I think part of it is, to be honest,

19
00:01:03.435 --> 00:01:08.734
cuz I was anticipating a question like
this, so I thought about it on the plane.

20
00:01:08.734 --> 00:01:13.206
I think part of it is,
I have worked on teams

21
00:01:13.206 --> 00:01:17.820
where the person who
wants to have the most,

22
00:01:20.880 --> 00:01:24.063
Ambitious lint rules, how about that?

23
00:01:24.063 --> 00:01:29.549
And there the person wants to have
a 90% code coverage enforced thing.

24
00:01:32.035 --> 00:01:36.728
Not always the exemplars on the team,
right?

25
00:01:36.728 --> 00:01:38.322
And so it's hard to make that.

26
00:01:38.322 --> 00:01:43.380
And so I think part of it is leading
by example is my way of saying that,

27
00:01:43.380 --> 00:01:48.441
which is like, hey, I'm willing to
hold myself to this standard and

28
00:01:48.441 --> 00:01:50.649
look at the positive change.

29
00:01:50.649 --> 00:01:58.218
And understanding change management is
a whole thing in and of itself, right?

30
00:01:58.218 --> 00:02:02.615
You don't want a New Year's resolution,
this stuff, which is, you know what,

31
00:02:02.615 --> 00:02:05.499
new rule,
we're gonna have all of these lint rules.

32
00:02:05.499 --> 00:02:09.909
You add one, one after an incident.

33
00:02:09.909 --> 00:02:11.274
You know what I mean?

34
00:02:11.274 --> 00:02:16.037
One after we caught something, and then
you add a second one a little bit later,

35
00:02:16.037 --> 00:02:16.544
right?

36
00:02:16.544 --> 00:02:20.796
And you slowly, people don't want
the world changed out from beneath them,

37
00:02:20.796 --> 00:02:22.129
they have jobs to do.

38
00:02:22.129 --> 00:02:25.557
Yes, everyone wants to work
in a healthy code base and

39
00:02:25.557 --> 00:02:29.225
everyone wants to be fit and
all of these things, right?

40
00:02:29.225 --> 00:02:33.541
And the answer is not necessarily like
you're gonna immediately change everything

41
00:02:33.541 --> 00:02:37.792
all of a sudden, it's like maybe you just
put on your running shoes in the morning,

42
00:02:37.792 --> 00:02:39.699
you don't even have to go over a run.

43
00:02:39.699 --> 00:02:43.369
All right, and all that stuff that you
read in books from the airport applies to

44
00:02:43.369 --> 00:02:44.714
your code base too, right?

45
00:02:44.714 --> 00:02:48.572
And I think that kind of small
change management getting people

46
00:02:48.572 --> 00:02:50.692
on board because there is a value.

47
00:02:50.692 --> 00:02:56.016
These patterns and practices don't
exist for the fun of it, right?

48
00:02:56.016 --> 00:03:00.238
They exist because they work,
but sometimes you people need to,

49
00:03:00.238 --> 00:03:04.329
you start with something small,
people see the value in that.

50
00:03:04.329 --> 00:03:07.044
You kind of move the Overton
window a little bit, and

51
00:03:07.044 --> 00:03:08.905
then you do the next thing, right?

52
00:03:08.905 --> 00:03:13.567
And then slowly, everyone's like,
remember when we had to manually test

53
00:03:13.567 --> 00:03:17.859
every PR for two hours every Friday so
we could release on a Monday?

54
00:03:17.859 --> 00:03:21.414
Yeah, that was bad, good thing we
don't have to do that anymore.

55
00:03:21.414 --> 00:03:24.751
And you're like, let me tell you
about enforcing rules on commit

56
00:03:24.751 --> 00:03:28.952
messages to automate the release notes so
that I don't have to write them by hand.

57
00:03:28.952 --> 00:03:30.286
That one's gonna be a harder sell.

58
00:03:30.286 --> 00:03:32.346
They all said yes, but
I haven't done it yet.

59
00:03:32.346 --> 00:03:33.099
Do you know what I mean?

60
00:03:33.099 --> 00:03:37.748
I think that when like, because I do
it all the commits against whatever.

61
00:03:37.748 --> 00:03:40.136
You start with like let's
have a more maintainable,

62
00:03:40.136 --> 00:03:41.949
you start with those playwright tests.

63
00:03:41.949 --> 00:03:43.829
Boom, right?

64
00:03:43.829 --> 00:03:47.822
Yeah, they're slow cuz they clicked
everything on the app and they're like two

65
00:03:47.822 --> 00:03:51.473
of them, but then they caught a thing
that we didn't ship to production.

66
00:03:51.473 --> 00:03:54.851
[LAUGH] Dope, right?

67
00:03:54.851 --> 00:03:59.653
Let's do the accessibility checks on just
the design system components, right?

68
00:03:59.653 --> 00:04:02.546
Unless maybe just as
warnings to the beginning,

69
00:04:02.546 --> 00:04:05.392
now we have fully accessible and
compliant things.

70
00:04:05.392 --> 00:04:10.138
And then you hope that the reason I
found the lint issues is I had a bike,

71
00:04:10.138 --> 00:04:15.694
two people from sales and two people
from solution architecture going like,

72
00:04:15.694 --> 00:04:17.730
just a question, what is it?

73
00:04:17.730 --> 00:04:20.308
What is it, w?

74
00:04:20.308 --> 00:04:21.876
&gt;&gt; CIG, okay?

75
00:04:21.876 --> 00:04:26.020
&gt;&gt; Yeah, are we that compliant?

76
00:04:26.020 --> 00:04:29.440
And I'm like, let me check, and
that's when I found out the issue.

77
00:04:29.440 --> 00:04:32.498
I was like, no, but we could be like,
no, it's not a big deal,

78
00:04:32.498 --> 00:04:34.283
I was just asking cuz someone asked.

79
00:04:34.283 --> 00:04:37.461
And I was like the third time
someone in a week asked me that,

80
00:04:37.461 --> 00:04:39.763
I'm like I understand how this plays out.

81
00:04:39.763 --> 00:04:42.657
Three months now,
they wanna sign a contract, and

82
00:04:42.657 --> 00:04:46.777
they have our stipulation and
now we're pulling all hands on deck move.

83
00:04:46.777 --> 00:04:49.991
So we just slowly dealt with them,
and that hasn't happened yet.

84
00:04:49.991 --> 00:04:52.717
But my suspicion is that in
a month when it does happen and

85
00:04:52.717 --> 00:04:55.385
we're like, yeah, we're ready,
that value add for

86
00:04:55.385 --> 00:04:58.759
the team is there that we didn't
have to go through that death march.

87
00:04:58.759 --> 00:05:01.947
In order to do it, I think that stuff
starts to accumulate over time, and

88
00:05:01.947 --> 00:05:03.427
that's how you make the change.

89
00:05:03.427 --> 00:05:07.501
You don't come in like, yo,
I went to this workshop for two days and

90
00:05:07.501 --> 00:05:11.094
I think we should lint all the things and
break everything.

91
00:05:11.094 --> 00:05:13.877
Code coverage, it's gonna be 1,000,

92
00:05:13.877 --> 00:05:17.919
you are not gonna be everyone's
favorite person, [LAUGH] right?

93
00:05:17.919 --> 00:05:20.225
And it's about figuring out the long term,

94
00:05:20.225 --> 00:05:22.664
the quote that I think
a lot about just as a gen.

95
00:05:22.664 --> 00:05:25.780
If you wanna end this on life philosophy,
here's the quote I think a lot about,

96
00:05:25.780 --> 00:05:27.516
it's pretty true to six different people.

97
00:05:27.516 --> 00:05:30.275
Let's take your favorite pick,

98
00:05:30.275 --> 00:05:35.003
which is people overestimate
what they can do in a year and

99
00:05:35.003 --> 00:05:40.535
drastically underestimate what
they can do in ten years, right?

100
00:05:40.535 --> 00:05:42.318
And those small changes add up.

101
00:05:42.318 --> 00:05:45.742
&gt;&gt; How do you manage testing components
where you have to navigate to

102
00:05:45.742 --> 00:05:48.614
a particular route in order
to render that component?

103
00:05:48.614 --> 00:05:49.921
&gt;&gt; You have two choices, right?

104
00:05:49.921 --> 00:05:53.656
One is you can take the browser and
go for it, right?

105
00:05:53.656 --> 00:05:55.857
But that's probably not
the answer that you wanted.

106
00:05:55.857 --> 00:06:00.806
The other piece then is it comes
down to the doing the work to

107
00:06:00.806 --> 00:06:06.176
break out the components so
you can lift it out of the codebase.

108
00:06:06.176 --> 00:06:10.249
And that's where a component has,
yeah, there's so much stuff happening,

109
00:06:10.249 --> 00:06:12.669
marking out the entire
world is gonna be hard.

110
00:06:12.669 --> 00:06:16.347
At that point, with a certain
amount of passing the dependencies,

111
00:06:16.347 --> 00:06:19.507
can you get to the point where
everything that it needed for

112
00:06:19.507 --> 00:06:21.716
where it was lodged into that code base?

113
00:06:21.716 --> 00:06:25.735
Can you pass those things in and
then pass them in there and

114
00:06:25.735 --> 00:06:28.759
then lift it out and
then pass in a similar?

115
00:06:28.759 --> 00:06:33.248
And I TypeScript here makes it a little bit
easier to because you will get yelled

116
00:06:33.248 --> 00:06:36.203
at if it is not a compliant
function lifted out.

117
00:06:36.203 --> 00:06:39.725
And then that's where I might choose
to use a component test, right, so

118
00:06:39.725 --> 00:06:42.522
that I don't have to navigate
all the way there, right?

119
00:06:42.522 --> 00:06:46.219
But it's tricky cuz it's very easy to talk
about in the abstract, it's very easy.

120
00:06:46.219 --> 00:06:48.589
You just left out your component testing.

121
00:06:48.589 --> 00:06:51.211
Yeah, I tried to do that for two or
three of the examples here, and

122
00:06:51.211 --> 00:06:54.135
I found out that even in my code base,
a little bit easier said than done.

123
00:06:54.135 --> 00:06:57.527
In all fairness, I had to weigh,
I'm not lifting this out for

124
00:06:57.527 --> 00:06:59.364
anything other than an example.

125
00:06:59.364 --> 00:07:04.445
And I had to weigh it against what's
faster writing a fictitious example or

126
00:07:04.445 --> 00:07:08.088
lifting this out for
no actual value other than that.

127
00:07:08.088 --> 00:07:10.696
And so yeah, there was that,
but even in my own code base,

128
00:07:10.696 --> 00:07:13.917
it's like I understand that a lot of
the stuff is easier said than done.

129
00:07:13.917 --> 00:07:19.402
To my point earlier is you wanna do
all these things tomorrow, right?

130
00:07:19.402 --> 00:07:22.657
With the entire tool set
that we talked about,

131
00:07:22.657 --> 00:07:27.086
there's probably something
that seems the easiest, right?

132
00:07:27.086 --> 00:07:28.072
Start with that,

133
00:07:28.072 --> 00:07:32.482
slowly improve the code base over the next
year, don't try to fix it next week.

134
00:07:32.482 --> 00:07:35.991
&gt;&gt; What does the translation
layer look like in code?

135
00:07:35.991 --> 00:07:38.303
&gt;&gt; So the concept I stole from Ember,

136
00:07:38.303 --> 00:07:43.651
it is whatever garbage deeply nested
object that some backend engineer thought

137
00:07:43.651 --> 00:07:49.021
was a good idea cuz they just stitched it
together from a bunch of other objects.

138
00:07:49.021 --> 00:07:53.875
Cuz they're used to, yeah,
I need a flat thing to have some props

139
00:07:53.875 --> 00:07:57.869
that I wanna dig down,
whatever, like gnarly.

140
00:07:57.869 --> 00:08:05.194
Objects were, the thing that I need for
the H1 or the H2 is seven layers deep.

141
00:08:05.194 --> 00:08:07.426
And in every component where I need it,
I'm going down there.

142
00:08:07.426 --> 00:08:11.507
It is literally not different from
that ESLint rule that we saw.

143
00:08:11.507 --> 00:08:14.993
But it is literally a thing that takes
these gross objects that I'm used

144
00:08:14.993 --> 00:08:17.895
to dealing with all the time and
makes it into a nice, flat,

145
00:08:17.895 --> 00:08:20.704
easy object where everything's
formatted correctly.

146
00:08:20.704 --> 00:08:24.507
That is almost the perfect example
of what you could unit test.

147
00:08:24.507 --> 00:08:29.659
You grab the JSON, you go into Chrome,
you go to your network tab,

148
00:08:29.659 --> 00:08:34.359
you hit copy response,
you paste it into unit test, right?

149
00:08:34.359 --> 00:08:39.382
Then you expect it to be what
you wish that your API was.

150
00:08:39.382 --> 00:08:41.876
And then you start doing
things until it is.

151
00:08:41.876 --> 00:08:46.440
And now, instead of calling fetch,
you call that request from API,

152
00:08:46.440 --> 00:08:48.894
you call get whatever is in your app.

153
00:08:48.894 --> 00:08:54.369
Everything passes through there, right,
and gets formatted the way you want,

154
00:08:54.369 --> 00:08:57.599
and you never think about
your gross API again.


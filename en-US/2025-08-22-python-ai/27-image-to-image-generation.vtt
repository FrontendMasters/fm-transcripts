WEBVTT

1
00:00:00.640 --> 00:00:05.120
&gt;&gt; Steve Kinney: So text image is
interesting, but we've all seen it before.

2
00:00:05.120 --> 00:00:06.720
What about image to image?

3
00:00:08.480 --> 00:00:11.305
This involves taking two pipelines,

4
00:00:11.305 --> 00:00:16.864
involves taking a text to image pipeline
in our case, then you can actually

5
00:00:16.864 --> 00:00:22.000
use an image as the baseline to then
further adjust the image as well.

6
00:00:24.080 --> 00:00:26.229
So you will in this case in
the example we're gonna see,

7
00:00:26.229 --> 00:00:29.830
we're gonna have a stable diffusion
pipeline, which is text to image model.

8
00:00:29.830 --> 00:00:34.122
And then we will have an image to
image pipeline where we'll instead,

9
00:00:34.122 --> 00:00:37.990
I don't know why I'm explaining
to you what those words mean.

10
00:00:37.990 --> 00:00:39.990
Text to image takes text to image.

11
00:00:39.990 --> 00:00:45.873
Image to image does image to image, clear?

12
00:00:45.873 --> 00:00:50.281
And again, strength is kinda
the parameter that we want here,

13
00:00:50.281 --> 00:00:55.937
which is like our temperature earlier and
our guidance later of, and actually,

14
00:00:55.937 --> 00:01:01.367
in this one, it was earlier in the day
on whatever weekend I was working on it.

15
00:01:01.367 --> 00:01:04.664
So I actually will show you across
three different ones without having to

16
00:01:04.664 --> 00:01:05.320
generate it.

17
00:01:07.160 --> 00:01:11.766
And yeah, low will stay very close to
the original image to the point where it's

18
00:01:11.766 --> 00:01:14.680
like, why did I even bother doing this,
right?

19
00:01:14.680 --> 00:01:18.289
And as you approach 1.0,
it will take greater and

20
00:01:18.289 --> 00:01:22.883
greater liberties and like,
arguably get you closer or farther,

21
00:01:22.883 --> 00:01:26.260
depending on what you're
exactly trying to do.

22
00:01:27.940 --> 00:01:32.778
Let's talk about it first, I promise
to tell you what latent space meant

23
00:01:32.778 --> 00:01:36.030
other than just seeming
like a cool album name for

24
00:01:36.030 --> 00:01:40.816
a 90s band where they're just sitting
on a couch with their guitars.

25
00:01:40.816 --> 00:01:43.860
So the input image
encoded in latent space.

26
00:01:43.860 --> 00:01:47.143
Then a certain amount of noise is added to
this representation that's determined by

27
00:01:47.143 --> 00:01:47.660
the string.

28
00:01:47.660 --> 00:01:51.490
So basically we take one,
we put back some noise, right?

29
00:01:53.250 --> 00:01:58.850
And then we take away
the noise that we added.

30
00:01:58.850 --> 00:02:00.730
It's not wrong to think
about latent spaces.

31
00:02:00.730 --> 00:02:05.115
Like again, when we took all that text and
turned it into numbers, not totally right,

32
00:02:05.115 --> 00:02:05.730
don't me.

33
00:02:07.090 --> 00:02:10.560
But it's not wrong either,
and so yeah, basically,

34
00:02:10.560 --> 00:02:15.013
effectively what we're gonna do is
we're gonna turn it into that kind

35
00:02:15.013 --> 00:02:20.030
of like number ones and zeros weird
GPU land that we barely understand.

36
00:02:20.030 --> 00:02:22.629
We're gonna add some more
chaos with the prompt and

37
00:02:22.629 --> 00:02:26.910
then we're gonna remove that chaos and
like find we get what we want underneath.

38
00:02:26.910 --> 00:02:31.721
So yeah, in that space, we can basically
we're working with it in that kind of GPU

39
00:02:31.721 --> 00:02:35.589
little area and we're not like
worrying about in the full image.

40
00:02:35.589 --> 00:02:37.949
So it's not that we're like taking,

41
00:02:37.949 --> 00:02:42.818
we're kinda moving both the original
image back into like the ones and zeros,

42
00:02:42.818 --> 00:02:46.081
land of numbers and
then doing everything in there.

43
00:02:46.081 --> 00:02:49.596
So it's not actually editing
the original image per se,

44
00:02:49.596 --> 00:02:53.857
it's kind of like taking it back
into its weird GPU essence, right?

45
00:02:53.857 --> 00:02:58.080
Adding the chaos back in and
then producing another image.

46
00:02:58.080 --> 00:03:02.174
All right, so image stuff,
which I think is super fascinating,

47
00:03:02.174 --> 00:03:05.760
there's not enough interesting
stuff happening here.

48
00:03:05.760 --> 00:03:09.400
I'm pulling in this matplotlib,
which is a graphing library of Python.

49
00:03:09.400 --> 00:03:12.120
It's not important to the actual
making of the images.

50
00:03:12.120 --> 00:03:16.819
It is important for making pretty
graphs which as a JavaScript engineer,

51
00:03:16.819 --> 00:03:18.500
it's really easy to use.

52
00:03:20.180 --> 00:03:23.200
We're not gonna get to say
there is this library also for

53
00:03:23.200 --> 00:03:27.635
Python that Hugging Face supports called
Gradio, where it'll make a UI where you

54
00:03:27.635 --> 00:03:30.740
can adjust all these parameters and
share the full on UI.

55
00:03:30.740 --> 00:03:34.586
And I'm just like, why do I have a job?

56
00:03:34.586 --> 00:03:35.980
Now, they're very simple UIs.

57
00:03:35.980 --> 00:03:39.891
I'm like, to be clear, I have been
very happy running JavaScript for

58
00:03:39.891 --> 00:03:40.900
a very long time.

59
00:03:40.900 --> 00:03:43.650
I started playing with Python
to play with this stuff.

60
00:03:43.650 --> 00:03:44.530
It's pretty good.

61
00:03:44.530 --> 00:03:45.570
I like it.

62
00:03:45.570 --> 00:03:47.730
I like me some python.

63
00:03:47.730 --> 00:03:50.370
Okay, we've seen all this stuff before.

64
00:03:52.050 --> 00:03:53.130
Then we come down here.

65
00:03:53.130 --> 00:03:56.290
All right, I'm gonna run this while we
talk about it, cuz I'm not an idiot.

66
00:03:58.130 --> 00:03:58.850
Grabbing.

67
00:04:00.930 --> 00:04:04.752
There is a stable diffusion two
that's on Hugging Face two and

68
00:04:04.752 --> 00:04:08.450
I think even there are some bigger ones so
on and so forth.

69
00:04:08.450 --> 00:04:11.860
I grabbed this one because I knew
I was going to live be doing this.

70
00:04:11.860 --> 00:04:14.260
Go ahead, grab a bigger one.

71
00:04:14.260 --> 00:04:17.220
You can even use some of the bigger
ones I think on the free tier as well.

72
00:04:17.220 --> 00:04:20.660
I was also just going for
speed in this case as well.

73
00:04:20.660 --> 00:04:24.500
Okay, so we're going to grab
two pipelines this time.

74
00:04:24.500 --> 00:04:27.619
We're gonna have the text to image
pipeline that we had before.

75
00:04:27.619 --> 00:04:31.232
So that's gonna be stable
diffusion pipeline, makes sense?

76
00:04:31.232 --> 00:04:36.980
The model id, we're going to use the same
model for both, so on and so forth.

77
00:04:36.980 --> 00:04:41.145
Again, the safe tensors are just ones
that make sure they can't execute

78
00:04:41.145 --> 00:04:42.180
arbitrary code.

79
00:04:43.840 --> 00:04:45.080
They are tensors that are safe.

80
00:04:45.080 --> 00:04:48.135
That's like everyone likes it when
you explain a term using the words

81
00:04:48.135 --> 00:04:49.440
in the term.

82
00:04:49.440 --> 00:04:52.749
And then we've got this image to
image pipeline which is, yeah,

83
00:04:52.749 --> 00:04:56.430
just using again a different set of
abstractions, same model, right?

84
00:04:56.430 --> 00:04:59.506
It's just the like extra,
like the tokenizing the inputs,

85
00:04:59.506 --> 00:05:00.800
all that kind of stuff.

86
00:05:00.800 --> 00:05:02.760
Hugging Face is just wrapping it up for
you.

87
00:05:02.760 --> 00:05:06.000
You could do all this stuff by Hand.

88
00:05:06.000 --> 00:05:08.920
You could also make your own HTTP
server and roll your own crypto too.

89
00:05:08.920 --> 00:05:14.904
You know, like, do whatever you want.

90
00:05:14.904 --> 00:05:18.769
So then I have, and
you can see the code for this.

91
00:05:18.769 --> 00:05:19.790
You can see the code.

92
00:05:19.790 --> 00:05:21.430
It's two strings.

93
00:05:21.430 --> 00:05:23.830
I did break that out pretty well.

94
00:05:23.830 --> 00:05:24.550
Where we can change.

95
00:05:24.550 --> 00:05:25.990
So I've got a sketch of a house.

96
00:05:27.270 --> 00:05:30.155
Like a literal sketch,
a simple sketch of a house, and

97
00:05:30.155 --> 00:05:34.470
then a futuristic glass house with
neon lights, cyberpunk style.

98
00:05:34.470 --> 00:05:36.599
I think I was looking at those
Mudang pictures too much, and

99
00:05:36.599 --> 00:05:37.670
that's how I ended up there.

100
00:05:39.720 --> 00:05:44.502
And so then we'll go ahead and
we'll use the text to image pipeline,

101
00:05:44.502 --> 00:05:48.640
and I will run that,
I gotta put those strings into memory.

102
00:05:48.640 --> 00:05:52.759
So let's do that as soon as it's
done loading these models, and

103
00:05:52.759 --> 00:05:55.520
then we're gonna create that base image.

104
00:05:55.520 --> 00:06:00.190
So we're gonna start with just what we saw
in the previous section where we're gonna

105
00:06:00.190 --> 00:06:01.120
take some text.

106
00:06:01.120 --> 00:06:03.560
We're going to make
an image intentionally.

107
00:06:05.080 --> 00:06:06.760
I'm gonna start the next
one while I'm at it.

108
00:06:08.280 --> 00:06:09.120
Intentionally.

109
00:06:09.120 --> 00:06:10.600
I chose a sketch.

110
00:06:10.600 --> 00:06:12.520
It should look like
a little pencil drawing.

111
00:06:13.880 --> 00:06:17.680
It's really like, if live coding
wasn't scary enough, Live random.

112
00:06:17.680 --> 00:06:18.920
Will the AI do what you want?

113
00:06:18.920 --> 00:06:21.720
Is a new level of fear that
I've engaged in this week.

114
00:06:24.200 --> 00:06:26.360
And so
it will theoretically give me a sketch.

115
00:06:26.360 --> 00:06:29.000
And then what I'm doing is I'm
gonna show you at strengths.

116
00:06:29.000 --> 00:06:33.000
0.3, 0.5, and 0.7, I think.

117
00:06:33.000 --> 00:06:36.915
And you can change any of these numbers,
like I keep telling you.

118
00:06:36.915 --> 00:06:40.890
At one point I was 0.8, I think I made
my point at 0.7, that's where I left it.

119
00:06:40.890 --> 00:06:43.320
Okay, that's our sketch of a house.

120
00:06:46.200 --> 00:06:46.920
Neat.

121
00:06:46.920 --> 00:06:50.177
And I will say, when you play with this,
play with these prompts,

122
00:06:50.177 --> 00:06:52.440
did I make it a haunted
house at some point?

123
00:06:52.440 --> 00:06:54.116
Of course I did, right?

124
00:06:54.116 --> 00:06:59.460
Did I make it like Princess Bubblegum's
castle from Adventure Time?

125
00:06:59.460 --> 00:07:00.260
Yes.

126
00:07:00.260 --> 00:07:04.020
Right, do all of those things.

127
00:07:04.020 --> 00:07:06.959
It is part of the great joy that I have
not felt since I first started learning

128
00:07:06.959 --> 00:07:07.620
how to program.

129
00:07:07.620 --> 00:07:09.780
And I put something in a database and
took it back out again.

130
00:07:09.780 --> 00:07:11.940
And that no longer fills me with joy.

131
00:07:11.940 --> 00:07:13.140
And this does.

132
00:07:13.140 --> 00:07:15.519
So you should experience that joy too.

133
00:07:15.519 --> 00:07:17.828
The first time I did Ajax and

134
00:07:17.828 --> 00:07:22.359
changed something to the DOM and
I felt like a wizard.

135
00:07:22.359 --> 00:07:24.660
I didn't feel like a wizard
anymore until now.

136
00:07:24.660 --> 00:07:26.820
All right, so we got our house.

137
00:07:29.520 --> 00:07:30.240
Effectively.

138
00:07:30.240 --> 00:07:33.280
The loop here is basically because I'm
going through the three strengths.

139
00:07:34.400 --> 00:07:39.335
The important part here is We've got
that image to image pipeline where we're

140
00:07:39.335 --> 00:07:43.148
passing in the base image,
our transformation prompt, and

141
00:07:43.148 --> 00:07:48.000
then some stuff that I'm doing to
put it on a pretty graph for you.

142
00:07:48.000 --> 00:07:49.440
Don't worry about that,
that's not important.

143
00:07:51.280 --> 00:07:58.090
But you can see that's the original 0.3,
I guess.

144
00:07:59.290 --> 00:08:01.770
Right.
There are some changes.

145
00:08:01.770 --> 00:08:04.730
0.5, we're getting a little
futuristic cyberpunk.

146
00:08:06.570 --> 00:08:09.370
And then 0.7, we are, we're there.

147
00:08:11.210 --> 00:08:13.851
I can see that it came from the image, but

148
00:08:13.851 --> 00:08:17.130
I'm starting to lose
the thread a little bit.

149
00:08:17.130 --> 00:08:18.320
You know what I mean?

150
00:08:18.320 --> 00:08:20.800
&gt;&gt; Speaker 2: There's a big
difference between those last two.

151
00:08:20.800 --> 00:08:21.360
&gt;&gt; Steve Kinney: Yeah.

152
00:08:21.360 --> 00:08:23.261
And let's play a fun game,

153
00:08:23.261 --> 00:08:28.400
I don't know with the code that I was
flexible enough to take more than 3.

154
00:08:28.400 --> 00:08:31.680
So what we're going to do is
0.3 was a waste of our time.

155
00:08:31.680 --> 00:08:34.720
Let's turn this to let's do six.

156
00:08:35.840 --> 00:08:42.159
Let's see the difference between 6,
5, 6 and let's do I do 8 or 9.

157
00:08:42.159 --> 00:08:42.724
&gt;&gt; Speaker 2: 9.

158
00:08:42.724 --> 00:08:48.842
&gt;&gt; Steve Kinney: 9, all right,
all right, all right.

159
00:08:50.639 --> 00:08:52.279
&gt;&gt; Steve Kinney: So
we've got the one we did at 5.

160
00:08:52.279 --> 00:08:55.880
Again, not particularly slow, except
the fact that we're doing three of them.

161
00:08:57.720 --> 00:09:01.543
And the nice part too is with this
notebook, if one wanted, you can go and

162
00:09:01.543 --> 00:09:03.120
regenerate that base image.

163
00:09:03.120 --> 00:09:05.686
It's still going to use the same
base image as before because that's

164
00:09:05.686 --> 00:09:06.360
still in memory.

165
00:09:06.360 --> 00:09:08.200
I didn't rerun that
part of the code block.

166
00:09:11.970 --> 00:09:13.330
I think six was the sweet spot.

167
00:09:13.330 --> 00:09:16.530
I gotta say,
six is definitely the sweet spot.

168
00:09:16.530 --> 00:09:17.890
Nine looks cool.

169
00:09:17.890 --> 00:09:21.572
But again, if you think about it, the way
that this works, took the original image,

170
00:09:21.572 --> 00:09:23.330
added back noise and denoised it again.

171
00:09:23.330 --> 00:09:25.330
So nine is obviously adding back.

172
00:09:25.330 --> 00:09:29.592
Like the closer you get to one,
the more you added noise back and

173
00:09:29.592 --> 00:09:31.770
like noised over the original.

174
00:09:31.770 --> 00:09:33.010
So it makes sense.

175
00:09:33.010 --> 00:09:37.303
But yeah, I think even compared
to like seven, I mean five,

176
00:09:37.303 --> 00:09:42.521
you could argue that if we're truly
taking the nature of the assignment,

177
00:09:42.521 --> 00:09:44.962
which is take the original image,

178
00:09:44.962 --> 00:09:50.460
it's that cyberpunk thing that I think
makes it a little like nuanced here.

179
00:09:50.460 --> 00:09:52.860
I would argue that 5 understood
the assignment the best.

180
00:09:53.900 --> 00:09:56.300
I kinda like 6 though too.

181
00:09:56.300 --> 00:09:59.580
&gt;&gt; Speaker 2: It looks like the same
house over a 10 year period.

182
00:09:59.580 --> 00:10:00.620
Every 10 years.

183
00:10:00.620 --> 00:10:01.540
&gt;&gt; Steve Kinney: Yeah.
Yeah.

184
00:10:01.540 --> 00:10:02.980
And then who knows what happened here.

185
00:10:02.980 --> 00:10:04.870
&gt;&gt; Speaker 2: This is when that's
the portal that they walk through.

186
00:10:04.870 --> 00:10:08.193
&gt;&gt; Steve Kinney: Yeah.
This is when the neighborhood really got

187
00:10:08.193 --> 00:10:10.150
a wine bar at this point.

188
00:10:12.790 --> 00:10:13.385
Yeah.
So

189
00:10:13.385 --> 00:10:16.316
you have the ability to not only
create images from text, but

190
00:10:16.316 --> 00:10:17.670
also manipulate images.

191
00:10:17.670 --> 00:10:20.892
And I would just want to say that
we only have so much time today and

192
00:10:20.892 --> 00:10:22.750
even trying to stay on the free tier.

193
00:10:22.750 --> 00:10:24.261
There's also video models and

194
00:10:24.261 --> 00:10:27.350
audio models on hugging face as
well that are worth looking at.


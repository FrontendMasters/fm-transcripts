WEBVTT

1
00:00:00.460 --> 00:00:01.094
So let's do macro.

2
00:00:01.094 --> 00:00:03.076
So there's a thing called macro pressure.

3
00:00:03.076 --> 00:00:04.307
It's a real thing.

4
00:00:04.307 --> 00:00:05.683
This is not a joke.

5
00:00:05.683 --> 00:00:08.863
Okay, this is a PSA,
we're doing macro pressure.

6
00:00:08.863 --> 00:00:13.422
What that is when you use vim, you'll
eventually get really good at using vim.

7
00:00:13.422 --> 00:00:17.015
But here's the problem, that the moment
you start recording a macro, you will

8
00:00:17.015 --> 00:00:20.999
forget everything you know, and it'll feel
like your fingers are filled with cement.

9
00:00:20.999 --> 00:00:22.419
It's the craziest thing ever.

10
00:00:22.419 --> 00:00:23.678
It's called macro pressure.

11
00:00:23.678 --> 00:00:25.636
It's like stage fright, sort of.

12
00:00:25.636 --> 00:00:30.542
So, let's go over here and
let's download this little example time,

13
00:00:30.542 --> 00:00:32.277
alright, so here we go.

14
00:00:32.277 --> 00:00:36.445
Also I do remember my first so I actually
before we do that I do want to go over

15
00:00:36.445 --> 00:00:39.292
this I did put a little cue for
me to remember this.

16
00:00:39.292 --> 00:00:42.748
I remember seeing my first macro
ever done, and it blew my mind.

17
00:00:42.748 --> 00:00:43.800
So let me show you it,

18
00:00:43.800 --> 00:00:47.206
I still remember to this day, so
I want to just do test dot js, right?

19
00:00:47.206 --> 00:00:51.084
And what I'm gonna do is I'm gonna
go like this, we're gonna start,

20
00:00:51.084 --> 00:00:52.810
we're gonna create an array.

21
00:00:52.810 --> 00:00:55.702
Alright, let's just
create an opening array.

22
00:00:55.702 --> 00:00:59.851
And I wanna go 1, 2, 3, 4, 5 I wanna
just manually type out the letters.

23
00:00:59.851 --> 00:01:02.936
I know you can do the mappings and
all that, but

24
00:01:02.936 --> 00:01:06.655
let's just pretend we couldn't do it for
a moment, and

25
00:01:06.655 --> 00:01:11.422
we wanna go like this 1, 2, 3, 4,
5 all the way up to some number.

26
00:01:11.422 --> 00:01:15.620
Like this would be very annoying if you
had to manually type it all out, right?

27
00:01:15.620 --> 00:01:17.397
So we're gonna do a macro.

28
00:01:17.397 --> 00:01:19.598
So what we're gonna do,
is I'm going to press Q.

29
00:01:19.598 --> 00:01:22.565
Now Q will put you into macro mode.

30
00:01:22.565 --> 00:01:28.248
Then I'm gonna type any letter I want,
a, now notice what it says down there.

31
00:01:28.248 --> 00:01:32.600
Macro pressure has now started, all of a
sudden I feel like I'm gonna mess this up

32
00:01:32.600 --> 00:01:35.675
because now it's recording
every one of my keystrokes.

33
00:01:35.675 --> 00:01:39.615
So what I'm gonna do is I'm gonna
highlight this line with highlight line,

34
00:01:39.615 --> 00:01:40.795
I'm going to yank it.

35
00:01:40.795 --> 00:01:45.295
I'm going to paste it and I'm going to
press Ctrl A, Ctrl A will increment your

36
00:01:45.295 --> 00:01:48.770
number if you're in T mux you have
to press it twice if you have

37
00:01:48.770 --> 00:01:52.749
a T mux remap on a I'm in T mux I have
a remap on Ctrl A so I press it twice.

38
00:01:52.749 --> 00:01:57.697
But in regular vim Ctrl A will
auto increment any number that is

39
00:01:57.697 --> 00:02:00.560
the first one that it sees in a line.

40
00:02:00.560 --> 00:02:02.813
It's a fantastic feature,
I use it all the time.

41
00:02:02.813 --> 00:02:03.578
It's crazy.

42
00:02:03.578 --> 00:02:06.719
So now I'll have to do is
press Q one more time.

43
00:02:06.719 --> 00:02:07.569
I'm done.

44
00:02:07.569 --> 00:02:09.122
Okay, we made it.

45
00:02:09.122 --> 00:02:10.482
I pressed it, I did it the right way.

46
00:02:10.482 --> 00:02:14.903
So now if I press add sign,
I press A, it yanked, it control A,

47
00:02:14.903 --> 00:02:19.591
awesome, I can do it again and
again and again and again and again.

48
00:02:19.591 --> 00:02:24.221
I can do 100 at a and it will go and
it will do it 100 times.

49
00:02:24.221 --> 00:02:27.284
Hopefully there's a few
smiles out there like hey,

50
00:02:27.284 --> 00:02:29.516
wait a second, that's kind of cool.

51
00:02:29.516 --> 00:02:32.769
Like I can record a set of keystrokes and
replay them,

52
00:02:32.769 --> 00:02:35.601
that means I can get
pretty generalized here.

53
00:02:35.601 --> 00:02:38.496
So that remember when
someone earlier asked about,

54
00:02:38.496 --> 00:02:41.521
multiple cursors,
this is kind of where I'm saying,

55
00:02:41.521 --> 00:02:44.902
hey, maybe multiple cursors
isn't quite what you wanted.

56
00:02:44.902 --> 00:02:50.582
We'll find out, because motions have a lot
more power than simply editing text,

57
00:02:50.582 --> 00:02:52.573
they can do a lot more items.

58
00:02:52.573 --> 00:02:53.890
Alright, that was really cool.

59
00:02:53.890 --> 00:02:58.052
That was my first macro experience and
when I saw that I don't know personally

60
00:02:58.052 --> 00:03:01.204
I'd just blew my mind I got so
like giddy excited about it.

61
00:03:01.204 --> 00:03:02.797
Alright, so I'm just gonna quit that file.

62
00:03:02.797 --> 00:03:05.717
And now, let's cut and
paste this file, send it down.

63
00:03:05.717 --> 00:03:06.809
Let's go forward.

64
00:03:06.809 --> 00:03:07.555
Yeah, thank you.

65
00:03:07.555 --> 00:03:08.854
I said wow, too.

66
00:03:08.854 --> 00:03:11.964
I thought it was awesome also,
just now that person said it too.

67
00:03:11.964 --> 00:03:15.504
All right, so let's curl this file
down and let's do some macros.

68
00:03:15.504 --> 00:03:17.559
This is gonna be tons of fun, all right.

69
00:03:17.559 --> 00:03:20.911
Also everyone, hopefully we'll get macro
pressure, and everybody will screw it up.

70
00:03:20.911 --> 00:03:22.109
It'll be fantastic.

71
00:03:22.109 --> 00:03:24.479
All right, so what do we wanna do?

72
00:03:24.479 --> 00:03:26.811
Yes, also,
I did write this code with a macro.

73
00:03:26.811 --> 00:03:29.848
I wrote all this code with the macro and
just made it play itself.

74
00:03:29.848 --> 00:03:31.549
So what do we wanna do?

75
00:03:31.549 --> 00:03:35.490
All right, what I wanna do is
I want to take this code and

76
00:03:35.490 --> 00:03:38.684
I wanna convert it into
a switch statement.

77
00:03:39.886 --> 00:03:40.704
Right, well.

78
00:03:40.704 --> 00:03:45.846
Unfortunately, there is just like
a lot of things to do here, right?

79
00:03:45.846 --> 00:03:48.742
We could use a find and replace, right?

80
00:03:48.742 --> 00:03:53.815
I could do a star and kind of figure
that out, match everything say

81
00:03:53.815 --> 00:04:00.104
up to the first double quotes, group it,
match it up to the second double quote.

82
00:04:00.104 --> 00:04:03.461
Match everything afterwards,
replace it with a k statement,

83
00:04:03.461 --> 00:04:07.533
get that report in double quotes,
put the colon on there, you got it right.

84
00:04:07.533 --> 00:04:12.497
So we could do that with a case statement,
but let's do it with the macro instead.

85
00:04:12.497 --> 00:04:15.183
Actually here I'll just show you
really quickly how to deal with with

86
00:04:15.183 --> 00:04:15.935
finding replace.

87
00:04:15.935 --> 00:04:16.925
Sometimes it's just easier.

88
00:04:16.925 --> 00:04:18.898
So I'll just do a dot star
match the whole line.

89
00:04:18.898 --> 00:04:20.956
I'm going to go all the way up to a quote.

90
00:04:20.956 --> 00:04:23.521
Remember regex is a greedy or
the opposite agree lazy,

91
00:04:23.521 --> 00:04:25.595
I'm not really sure
what the right word is.

92
00:04:25.595 --> 00:04:27.689
They keep matching until
they can't match any longer.

93
00:04:27.689 --> 00:04:29.325
So they're definitely not greedy.

94
00:04:29.325 --> 00:04:30.802
But they don't feel very lazy either.

95
00:04:30.802 --> 00:04:31.614
They just keep going.

96
00:04:31.614 --> 00:04:32.470
I'm not sure what the right term is.

97
00:04:32.470 --> 00:04:34.310
I know there's a term and I forgotten it.

98
00:04:34.310 --> 00:04:36.811
Do that one I curvy that I
always tell you about and

99
00:04:36.811 --> 00:04:40.846
there we go create a match group,
then I'm gonna do another quote, awesome.

100
00:04:40.846 --> 00:04:45.845
And then I'm gonna just match the rest
of the line, and then I'm gonna replace

101
00:04:45.845 --> 00:04:50.257
it with case that there we go,
by doing this, boom, we got them all.

102
00:04:50.257 --> 00:04:53.947
Awesome, there now alternative case
statements when they were just if

103
00:04:53.947 --> 00:04:57.031
statements, but for
the sake of this, let's not do that.

104
00:04:57.031 --> 00:04:59.833
Let's use macros.

105
00:04:59.833 --> 00:05:03.849
It's kind of like,
let's see, no, what is it?

106
00:05:03.849 --> 00:05:06.363
This is kind of a trivial case, but

107
00:05:06.363 --> 00:05:10.634
it's just more of an exercise
that we can all do together.

108
00:05:10.634 --> 00:05:12.826
All right, so now we need to do this.

109
00:05:12.826 --> 00:05:14.268
What are we gonna do?

110
00:05:14.268 --> 00:05:17.745
What's the first letter you press,
Q, we need to start the macro.

111
00:05:17.745 --> 00:05:20.868
We're going to start on
the line we want to replace Q.

112
00:05:20.868 --> 00:05:23.987
Alright, what letter do we want to use?

113
00:05:23.987 --> 00:05:27.031
I just always use a replace my macro,
there we go.

114
00:05:27.031 --> 00:05:29.930
We're recording at a Here we go.

115
00:05:29.930 --> 00:05:31.001
All right, we're gonna do this.

116
00:05:31.001 --> 00:05:34.947
The pressures on, so
I'm gonna teach you a very cool keystroke,

117
00:05:34.947 --> 00:05:37.908
which is how do we go to
the beginning of the line?

118
00:05:37.908 --> 00:05:41.944
Well, it's actually pretty hard to
go to the beginning of the line,

119
00:05:41.944 --> 00:05:43.693
because we can't just use W.

120
00:05:43.693 --> 00:05:46.805
Notice that if we're on the else
if there's an extra W, so

121
00:05:46.805 --> 00:05:49.547
we need something that just
goes to the beginning.

122
00:05:49.547 --> 00:05:51.621
So I'm gonna do, underscore, right?

123
00:05:51.621 --> 00:05:56.331
Underscore will go to the first non
whitespace character of the line.

124
00:05:56.331 --> 00:06:00.565
Awesome, now we're gonna do a couple other
commands that we haven't learned yet.

125
00:06:00.565 --> 00:06:04.331
It's just gonna be exciting, okay,
you're gonna type the word T.

126
00:06:04.331 --> 00:06:07.352
Now T is a very special command,
but we're gonna get there.

127
00:06:07.352 --> 00:06:12.992
So we're gonna do this, D for
delete, T, and then, quotes.

128
00:06:12.992 --> 00:06:15.509
It's gonna delete up until the quotes.

129
00:06:15.509 --> 00:06:17.887
Yay, now we're gonna use F.

130
00:06:17.887 --> 00:06:21.203
F quotes,
it's gonna to hop to the next one,

131
00:06:21.203 --> 00:06:26.193
we're gonna go over one, and
we're gonna use D dollar, awesome.

132
00:06:26.193 --> 00:06:28.069
So we've just done all of that.

133
00:06:28.069 --> 00:06:30.870
We have now erased everything around it.

134
00:06:30.870 --> 00:06:34.924
I'm gonna use SHIFT+A to go
into insert mode at the end,

135
00:06:34.924 --> 00:06:39.737
put in the colon, and then I'm gonna
to leave Insert mode then we use

136
00:06:39.737 --> 00:06:44.752
shift I to go to the first none white
space character and type in case.

137
00:06:44.752 --> 00:06:45.722
Man, we're so close.

138
00:06:45.722 --> 00:06:48.165
We haven't messed it up yet, I thought
I was gonna mess it up, we haven't.

139
00:06:48.165 --> 00:06:49.421
This is fantastic.

140
00:06:49.421 --> 00:06:53.635
I'm gonna press Ctrl+C
to leave insert mode and

141
00:06:53.635 --> 00:07:00.541
we're gonna go jj to j's down Now in
the press Q, now we've stopped our macro.

142
00:07:00.541 --> 00:07:05.022
So if I've done this correct,
it should go to the beginning of the line,

143
00:07:05.022 --> 00:07:09.063
delete up until the double quotes,
jump to the next parenthese or

144
00:07:09.063 --> 00:07:12.526
the next quotes,
then delete everything beyond that.

145
00:07:12.526 --> 00:07:16.150
Do the colon insertion and then the case
insertion and then go two down.

146
00:07:16.150 --> 00:07:23.809
So at a at a, I could do 10 at a.

147
00:07:23.809 --> 00:07:24.819
Yeah, look at that, Bingo.

148
00:07:24.819 --> 00:07:25.363
There we go.

149
00:07:25.363 --> 00:07:26.041
We've done it.

150
00:07:26.041 --> 00:07:29.981
We've just used a macro to replay and
be able to do this.

151
00:07:29.981 --> 00:07:33.137
This is that I actually genuinely thought
I was gonna screw that up in front of

152
00:07:33.137 --> 00:07:35.523
everyone because it's just so
easy to screw that one up.

153
00:07:35.523 --> 00:07:39.698
But we did it we were able to create
a macro that can run on each line and

154
00:07:39.698 --> 00:07:41.472
go to the next result for us.

155
00:07:41.472 --> 00:07:45.853
Now, imagine that sense it's a macro
that just does your actions.

156
00:07:45.853 --> 00:07:49.581
You could use find next, for
where you need to jump to next.

157
00:07:49.581 --> 00:07:53.726
Remember, it's just a macro is
replaying your keystrokes, alright?

158
00:07:53.726 --> 00:07:54.964
Remember the register.

159
00:07:54.964 --> 00:07:58.008
Do you remember the register
that we kept pulling up?

160
00:07:58.008 --> 00:08:01.262
For now, for fun,
let's just type in colon register.

161
00:08:01.262 --> 00:08:04.427
In here do you see anything
that's interesting?

162
00:08:06.441 --> 00:08:11.058
Hopefully, you're looking around and
you're feeling a little astute.

163
00:08:11.058 --> 00:08:17.674
You'll notice that in register A,
what's in register A?

164
00:08:17.674 --> 00:08:24.132
Wait a second, I mean, this looks
like exactly what I just typed, hmm.

165
00:08:24.132 --> 00:08:26.881
On if there's something
we could do with that.

166
00:08:28.037 --> 00:08:29.484
We can


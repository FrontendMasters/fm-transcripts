WEBVTT

1
00:00:00.170 --> 00:00:02.878
So for our shared nav here,
let's dive into the theme, so

2
00:00:02.878 --> 00:00:04.382
I'll collapse that site down.

3
00:00:04.382 --> 00:00:12.390
And I'm gonna create, what I want
is a the name of the site up here.

4
00:00:12.390 --> 00:00:14.262
And then I want navigation over here and

5
00:00:14.262 --> 00:00:17.870
the items will just kind of grow
out from the side as we add more.

6
00:00:17.870 --> 00:00:21.421
So by default, we're just gonna link to
the homepage cuz that's the only thing

7
00:00:21.421 --> 00:00:23.652
that we're pretty sure
every site is gonna have.

8
00:00:23.652 --> 00:00:26.230
It's pretty rare that you don't
have a homepage on your site.

9
00:00:26.230 --> 00:00:31.937
So if that's the case, then I want to
be able to let people configure, so

10
00:00:31.937 --> 00:00:38.805
for us, for example, I want the ability to
set a link to the authors into the books.

11
00:00:38.805 --> 00:00:42.766
So in the theme,
I'm gonna use just the site metadata,

12
00:00:42.766 --> 00:00:47.565
which is a built in way to
handle this sort of information.

13
00:00:47.565 --> 00:00:52.729
So we can set the title and we'll start
by saying, Gatsby Theme Shared Nav.

14
00:00:52.729 --> 00:00:58.650
And then in here, we can say navItems and
we can just set these to whatever we want.

15
00:00:58.650 --> 00:01:01.835
So I'm gonna make it an array,
I'm going to put in just the one for now.

16
00:01:01.835 --> 00:01:05.650
So the label will be the text
that shows the Home, and

17
00:01:05.650 --> 00:01:09.304
the path will be a / for
taking us to the homepage.

18
00:01:09.304 --> 00:01:13.690
And so this is gonna be the way that we
configure this theme, there's also a way,

19
00:01:13.690 --> 00:01:16.510
and I just realized I put
this in the wrong place.

20
00:01:16.510 --> 00:01:21.124
Let me take this out cuz I was
looking at the wrong Gatsby config,

21
00:01:21.124 --> 00:01:25.990
I want this to be in the theme
gatsby-config, this one.

22
00:01:25.990 --> 00:01:29.356
So I'm gonna put that here,
and then this one,

23
00:01:29.356 --> 00:01:32.900
I want to leave the site one,
we'll leave alone.

24
00:01:34.130 --> 00:01:39.134
So this should retriggered,
it will actually

25
00:01:39.134 --> 00:01:43.881
start now, so we're gonna notify the, and

26
00:01:43.881 --> 00:01:48.660
that puts these into our GraphQL layer.

27
00:01:48.660 --> 00:01:54.311
So we'll see those as part
of the the GraphQL layer,

28
00:01:54.311 --> 00:02:01.510
something went wrong, siteMetadata,
yeah, that's correct.

29
00:02:03.510 --> 00:02:06.963
That was a helpful validation,
I thought they would just go quietly, and

30
00:02:06.963 --> 00:02:08.480
then we'd be really confused.

31
00:02:09.580 --> 00:02:13.410
Okay, so it validated our config for
us, and now we're gonna put this in.

32
00:02:14.820 --> 00:02:19.344
Now, keep in mind,
this is the Gatsby config for the theme,

33
00:02:19.344 --> 00:02:21.330
not the one for the site.

34
00:02:21.330 --> 00:02:27.397
So when I go out to Graphical, and
I reload, I can pull in the site and

35
00:02:27.397 --> 00:02:33.060
site metadata and it's gonna give
me my title and my nav items.

36
00:02:36.513 --> 00:02:37.970
Gotta turn off this ID
that we're not using.

37
00:02:41.639 --> 00:02:46.270
There we go, and so now,
we can just query this right out.

38
00:02:46.270 --> 00:02:51.220
So what I wanna do is in my site,
I just wanna override this,

39
00:02:51.220 --> 00:02:53.703
so I'm gonna take this part.

40
00:02:53.703 --> 00:02:59.067
I can copy it,
move into the Gatsby config, drop this in,

41
00:02:59.067 --> 00:03:05.780
and we're gonna say this is My Book Club
and then we will skip the home.

42
00:03:05.780 --> 00:03:11.294
We don't actually wanna go home,
we're gonna do books and authors.

43
00:03:16.892 --> 00:03:21.501
Okay, so, now that we've got that,
if we rerun this query,

44
00:03:21.501 --> 00:03:27.650
we can see that it automatically overrode
so that we've got these new values.

45
00:03:27.650 --> 00:03:29.414
Great, that's what we wanted,
we're gonna need some styles.

46
00:03:29.414 --> 00:03:31.974
So in the interest of keeping
everything in one place,

47
00:03:31.974 --> 00:03:35.380
not jumping around between files,
let's start with the styles for it.

48
00:03:36.400 --> 00:03:39.249
So the way that our nav is gonna work
is it's gonna live in a container and

49
00:03:39.249 --> 00:03:41.540
that container is gonna be
up at the top of the screen.

50
00:03:41.540 --> 00:03:46.831
So for that, I want the background
to be our dark color and

51
00:03:46.831 --> 00:03:51.610
then I want the color of
it to be our light color.

52
00:03:51.610 --> 00:03:56.136
We will set it to display: flex,
because I want the logo on one side and

53
00:03:56.136 --> 00:03:58.689
the items on another side, remember?

54
00:03:58.689 --> 00:04:03.260
I will justify the content
with space-between and

55
00:04:03.260 --> 00:04:06.505
then we'll do a margin: 0.

56
00:04:06.505 --> 00:04:09.395
We will do padding 0.5rem and

57
00:04:09.395 --> 00:04:14.539
we'll give it 5% of the viewport
width on either side.

58
00:04:14.539 --> 00:04:17.602
And that'll give us a box that
we can put things in, and

59
00:04:17.602 --> 00:04:19.941
then we're gonna have our shared-nav.

60
00:04:22.865 --> 00:04:27.491
And that shared-nav is going
to be also display:flex

61
00:04:27.491 --> 00:04:32.527
because I want to justify content and
put space-between.

62
00:04:32.527 --> 00:04:37.019
And I'm gonna put a little bit of a gap in
this, so we'll give it like a 1rem gap.

63
00:04:37.019 --> 00:04:40.803
Then we're gonna style up
the links in the nav, so

64
00:04:40.803 --> 00:04:44.690
we want those to be whatever
the color of the nav is.

65
00:04:45.760 --> 00:04:49.790
We're gonna set padding so that it's
a little easier to click on them.

66
00:04:49.790 --> 00:04:52.252
And we will set
the text-decoration to none, and

67
00:04:52.252 --> 00:04:54.304
since we took the text-decoration off,

68
00:04:54.304 --> 00:04:57.640
we got to do a little bit of
work to make these accessible.

69
00:04:57.640 --> 00:05:01.161
So let's do a link:focus, link not like.

70
00:05:04.446 --> 00:05:09.051
And a link:hover and then with those,
let's just invert the background.

71
00:05:09.051 --> 00:05:14.416
We will set the background
color to be our light color,

72
00:05:14.416 --> 00:05:20.379
and then we'll set the color of
the text to be our dark color.

73
00:05:21.640 --> 00:05:25.256
So that should signify
pretty clearly that we

74
00:05:25.256 --> 00:05:31.090
are using like what we're hovering over,
what we focus on.

75
00:05:31.090 --> 00:05:34.059
So now that we've got that,

76
00:05:34.059 --> 00:05:40.006
we can set up our components,
so let's set up a nav.js.

77
00:05:40.006 --> 00:05:47.990
And in nav.js, we're going to import
everything as react from react.

78
00:05:47.990 --> 00:05:52.740
We're going to import Link,

79
00:05:52.740 --> 00:05:59.584
useStaticQuery and graphql from Gatsby.

80
00:05:59.584 --> 00:06:05.872
And we're also gonna get
that the styles that we set,

81
00:06:05.872 --> 00:06:09.784
so the container sharedNav, and

82
00:06:09.784 --> 00:06:14.831
link from /styles/nav.module.css.

83
00:06:14.831 --> 00:06:20.056
And now we can export a function called
Nav(), which will be our nav component.

84
00:06:23.078 --> 00:06:27.021
And I'm gonna start by getting data,

85
00:06:27.021 --> 00:06:32.084
that's going to be UseStaticQuery(graphql.

86
00:06:32.084 --> 00:06:36.888
And we can set up a query here,
we'll get our site, siteMetadata,

87
00:06:36.888 --> 00:06:39.940
and then we want the title, the navItems.

88
00:06:41.240 --> 00:06:47.329
And then we want the label and
path for each nav item, oops.

89
00:06:50.902 --> 00:06:55.239
One more, good, then we can get out our

90
00:06:55.239 --> 00:06:59.982
navItems from data.site.siteMetadata

91
00:07:02.780 --> 00:07:07.724
navItems, And

92
00:07:07.724 --> 00:07:13.250
we can return a header with
a class name of container.

93
00:07:14.530 --> 00:07:19.157
Then we'll link to our homepage, and

94
00:07:19.157 --> 00:07:24.080
that's gonna have a class name of link.

95
00:07:26.310 --> 00:07:32.644
And inside of it we'll use
the data.site.siteMetadata.title.

96
00:07:35.178 --> 00:07:40.802
All right,
then we can set up our navItems,

97
00:07:40.802 --> 00:07:45.666
so navItems.map, and for each one,

98
00:07:45.666 --> 00:07:50.986
we're going to set up
a link with a key of,

99
00:07:50.986 --> 00:07:54.790
we'll give it a unique name.

100
00:07:54.790 --> 00:07:59.506
So nav, item.path is somewhat unique,

101
00:07:59.506 --> 00:08:06.010
we'll make that okay,
we'll link that to item.path.

102
00:08:06.010 --> 00:08:10.087
We'll give that a class name of link, and

103
00:08:10.087 --> 00:08:15.250
inside of it,
we're going to put the item.label.

104
00:08:15.250 --> 00:08:21.918
Okay, so now that we've saved that,
we can import it into here,

105
00:08:21.918 --> 00:08:29.090
import Nav from ' ./nav.js': and
then we'll use it right here.

106
00:08:32.090 --> 00:08:33.054
And let's go check it out.

107
00:08:37.315 --> 00:08:42.216
I missed something, I missed in my header

108
00:08:42.216 --> 00:08:47.692
a I missed the end of my loop.

109
00:08:54.404 --> 00:08:58.544
And then I missed another
closing parentheses, hey,

110
00:08:58.544 --> 00:09:01.390
there we go, so that's better.

111
00:09:01.390 --> 00:09:03.889
That's a little weird,
that's not exactly what I wanted,

112
00:09:03.889 --> 00:09:05.710
maybe we should mess
with this a little bit.

113
00:09:08.887 --> 00:09:12.485
Maybe we want these ones instead of
being space-between to be flex end.

114
00:09:12.485 --> 00:09:19.178
I didn't wrap it in the nav is what went
wrong, so let's go back into our nav.

115
00:09:19.178 --> 00:09:25.020
And we're gonna put nav and
that needs a className of sharedNav.

116
00:09:25.020 --> 00:09:31.275
And then we can drop this around,
and that should fix everything.

117
00:09:31.275 --> 00:09:34.360
There it is,
that's what we were actually after, and so

118
00:09:34.360 --> 00:09:38.109
we can put that gap back in now cuz
that's a gap isn't, okay, good.

119
00:09:38.109 --> 00:09:42.492
All right, so we have a nice looking
shared nav, we can go to the books page,

120
00:09:42.492 --> 00:09:44.353
we can go to the author's page.

121
00:09:44.353 --> 00:09:48.636
We can click around, get to where we wanna
go and this is all I mean, this is great,

122
00:09:48.636 --> 00:09:50.200
right, this is what we want.


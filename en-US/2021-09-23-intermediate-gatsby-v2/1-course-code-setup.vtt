WEBVTT

1
00:00:00.070 --> 00:00:03.280
So let's take a look at the actual
sites that we're going to use today.

2
00:00:03.280 --> 00:00:06.261
So we have a core site,
that front end masters,

3
00:00:06.261 --> 00:00:09.619
that learn with Jason.dev/
intermediate Gatsby,

4
00:00:09.619 --> 00:00:14.915
that is going to contain all of the
lessons that we're going to work on today.

5
00:00:14.915 --> 00:00:20.524
And then the source code for the project
we're going to use today, is on GitHub,

6
00:00:20.524 --> 00:00:25.165
at j link stuff/ front end masters
intermediate Gatsby project.

7
00:00:26.725 --> 00:00:30.445
We are going to fork that repo ,so
that you can deploy it later on.

8
00:00:30.445 --> 00:00:34.705
So in fact, why don't we just
jump right into that right?

9
00:00:34.705 --> 00:00:39.521
So, the first thing that we're gonna
do is let's make sure that we have

10
00:00:39.521 --> 00:00:41.380
all the requisite pieces.

11
00:00:41.380 --> 00:00:44.678
So you're gonna need
a GitHub account today, so

12
00:00:44.678 --> 00:00:49.350
make sure that you are on GitHub,
and that you have an account.

13
00:00:49.350 --> 00:00:51.520
We are also going to be
deploying to Netlify.

14
00:00:51.520 --> 00:00:56.516
So if you don't have a netlify account,
you can sign in just or sign up for one,

15
00:00:56.516 --> 00:01:01.650
you sign up with your GitHub account so
it takes a couple seconds.

16
00:01:01.650 --> 00:01:08.580
We are going to be using the GitHub CLI,
which I absolutely love is a tool.

17
00:01:08.580 --> 00:01:14.540
It's, made my life as a maintainer,
so much easier.

18
00:01:14.540 --> 00:01:18.233
So instead of having to
remember all the Git commands,

19
00:01:18.233 --> 00:01:22.904
I can just do like gh, repo clone,
and then I get the repo that I want.

20
00:01:22.904 --> 00:01:27.765
I don't have to type out the github.com or
any of those github things,

21
00:01:27.765 --> 00:01:29.880
none of that, it's all gone.

22
00:01:29.880 --> 00:01:31.920
It's really powerful,
we're gonna be using that.

23
00:01:31.920 --> 00:01:34.410
We're also gonna use the Netlify CLI.

24
00:01:34.410 --> 00:01:38.850
And the Netlify CLI today, is
significantly more important than it was

25
00:01:38.850 --> 00:01:43.490
on the Gatsby intro, because we're
gonna use it for local development.

26
00:01:43.490 --> 00:01:47.541
It gives us the ability to run them on
a reboot, to manage environment variables,

27
00:01:47.541 --> 00:01:49.610
it runs our serverless functions for us.

28
00:01:49.610 --> 00:01:54.501
There's a lot that it's doing ,that
just makes local development easier, so

29
00:01:54.501 --> 00:01:57.220
I'm going to be relying on that.

30
00:01:57.220 --> 00:02:04.320
If you don't have that you can
install it with npm install-G.

31
00:02:04.320 --> 00:02:09.245
Netlify CLI ,and just get the latest,
I'll go ahead and run right now,

32
00:02:09.245 --> 00:02:14.300
danger zone to instal something
fresh like right before we start.

33
00:02:14.300 --> 00:02:20.578
So the version that we are gonna
be using today is let's see,

34
00:02:20.578 --> 00:02:27.238
I've got, Netlify 6.3.4,
GitHub version 1.2.1.

35
00:02:27.238 --> 00:02:32.385
We're using, let's get the repo forked and
then we'll we'll get everything else.

36
00:02:32.385 --> 00:02:36.976
Once you've got both of those,
you can do GitHub auth log in, and

37
00:02:36.976 --> 00:02:42.385
it'll, log you into the account
that you want to be logged into.

38
00:02:42.385 --> 00:02:45.205
So, I'm already logged in, so
I'm not going to re authenticate.

39
00:02:45.205 --> 00:02:48.299
And then netlify the same thing,
netlify login, and

40
00:02:48.299 --> 00:02:50.645
it will say that I'm already logged in.

41
00:02:50.645 --> 00:02:54.207
So in your case, it'll bounce you out,
you do the OAuth and

42
00:02:54.207 --> 00:02:56.570
then you'll be ready to rock and roll.

43
00:02:57.960 --> 00:03:02.720
We're also gonna be using yarn today, so
if you don't have yarn which you can check

44
00:03:02.720 --> 00:03:06.530
by typing which yarn, and
I'm using like the old version of yarn.

45
00:03:06.530 --> 00:03:09.658
So, don't worry about having
like yarn 2 or yarn 3 or

46
00:03:09.658 --> 00:03:12.710
anything, you can use yarn 1, it's fine.

47
00:03:12.710 --> 00:03:17.100
That is gonna be used for
running the mono repo.

48
00:03:17.100 --> 00:03:21.560
So yarn workspaces are a really
nice way to do mono repos.

49
00:03:21.560 --> 00:03:25.360
And I'll show you how it works,
it's It's really nice.

50
00:03:26.670 --> 00:03:31.534
Okay, so the first thing that we're gonna
do is, I already have this clone, but for

51
00:03:31.534 --> 00:03:33.948
everybody else create a fork of the repo.

52
00:03:33.948 --> 00:03:39.527
So gh repo fork, and
then you can just type jleng storf,

53
00:03:39.527 --> 00:03:44.770
front end,
masters intermediate Gatsby project.

54
00:03:46.500 --> 00:03:48.663
And by running this command,

55
00:03:48.663 --> 00:03:53.270
you will create a fork of
the repo on your own account.

56
00:03:53.270 --> 00:03:58.555
You're gonna need that fork In order to
deploy, so, if you don't want to fork,

57
00:03:58.555 --> 00:04:02.547
you can also like clone the repo,
delete the dot Git folder.

58
00:04:02.547 --> 00:04:05.219
And then like initialize your own version,
whatever you want to do,

59
00:04:05.219 --> 00:04:06.620
that's it's up to you.

60
00:04:06.620 --> 00:04:11.871
But this if you want to deploy later,
you are gonna need a GitHub repo,

61
00:04:11.871 --> 00:04:15.530
or Bitbucket or
Git lab that you can deploy from.

62
00:04:17.650 --> 00:04:20.900
But I already have it, so
let's take a look at what's in the folder.

63
00:04:20.900 --> 00:04:23.440
We have just some starter files here.

64
00:04:23.440 --> 00:04:26.353
So the first thing is
we've got our README,

65
00:04:26.353 --> 00:04:30.090
that's just bare bones
details about the repo.

66
00:04:30.090 --> 00:04:32.883
We have a gatsby config,
if we look in this gatsby config,

67
00:04:32.883 --> 00:04:35.040
there's actually nothing in it yet.

68
00:04:35.040 --> 00:04:38.850
Package json, we'll look at that in
a second, we've got some json data.

69
00:04:38.850 --> 00:04:42.305
So authors and books, that's some data
that we're gonna work with a little bit

70
00:04:42.305 --> 00:04:45.280
later on, but I didn't want
everybody to have to type it out.

71
00:04:45.280 --> 00:04:47.682
So we just put that right in the repo, and

72
00:04:47.682 --> 00:04:51.588
then an index.js ,so let's take
a look at what these look like.

73
00:04:51.588 --> 00:04:57.800
So our gatsby-config is
exporting an empty object.

74
00:04:57.800 --> 00:05:02.727
Our package.json has the bare minimum
dependencies, gatsby react and

75
00:05:02.727 --> 00:05:07.500
react-dom, those are what required for
building a Gatsby site.

76
00:05:07.500 --> 00:05:09.820
These are the three that you have to have.

77
00:05:09.820 --> 00:05:13.284
I set up the scripts that we need,
so we've got the develop command,

78
00:05:13.284 --> 00:05:16.180
which is the one that runs Gatsby locally.

79
00:05:16.180 --> 00:05:18.056
Start as an alias for that, build,

80
00:05:18.056 --> 00:05:22.508
we'll build the site it'll make it into
an actual static site, this publishable.

81
00:05:22.508 --> 00:05:28.000
Serve lets you take a look locally at
what the published site will look like.

82
00:05:28.000 --> 00:05:31.950
So it's a way to take a look at your
build site, on your local machine.

83
00:05:31.950 --> 00:05:37.002
And clean will delete the cache,
and public folders and

84
00:05:37.002 --> 00:05:40.979
kind of set you back to
a freshly installed or

85
00:05:40.979 --> 00:05:46.700
freshly built state where there's
like no cache or anything.

86
00:05:47.800 --> 00:05:51.410
Try not to use this feature, like the only
time that it really makes sense to use

87
00:05:51.410 --> 00:05:55.330
this feature, is if you're getting
behavior that doesn't make any sense.

88
00:05:55.330 --> 00:05:58.672
Or if you're working with the schema, and
you're doing schema customizations, and

89
00:05:58.672 --> 00:06:01.840
you're noticing that like, why is it
giving me an error that files there?

90
00:06:01.840 --> 00:06:04.828
That's when it makes
sense to do Gatsby clean,

91
00:06:04.828 --> 00:06:07.900
don't use it as your,
turn it off and turn it on.

92
00:06:07.900 --> 00:06:11.530
Again, most of the time Gatsby clean
is just gonna make your build slower.

93
00:06:11.530 --> 00:06:16.140
They do a lot of work to make the cache
resilient, and to recover it.

94
00:06:16.140 --> 00:06:21.330
And keeping that cache makes your local
and production builds much faster.

95
00:06:21.330 --> 00:06:23.328
So, Gatsby clean is a last resort.

96
00:06:23.328 --> 00:06:29.781
All right, then,
we've got you can see an end vmrc here,

97
00:06:29.781 --> 00:06:34.013
so I'm going to just run NVM Install.

98
00:06:34.013 --> 00:06:36.553
And it's going to pick up that nvmrc, and

99
00:06:36.553 --> 00:06:40.120
it'll show that we're
using version 16.6.1 now.

100
00:06:42.100 --> 00:06:46.410
And with that, I think we're ready to go.


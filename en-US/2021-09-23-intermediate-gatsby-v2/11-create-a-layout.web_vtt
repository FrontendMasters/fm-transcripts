WEBVTT

1
00:00:00.000 --> 00:00:05.109
Let's get in here and actually build out a
layout in our theme so the way that I want

2
00:00:05.109 --> 00:00:09.919
to do this theme is I want to provide some
color settings and then we want to add

3
00:00:09.919 --> 00:00:14.970
some some global stuff like typography,
and then we will style up our layout.

4
00:00:14.970 --> 00:00:20.171
So have like the ability to have
a header footer in main content, and

5
00:00:20.171 --> 00:00:25.282
then we will add a shared nav that'll
sit up at the top of the site and

6
00:00:25.282 --> 00:00:29.450
in that will have kind of
some some config as well.

7
00:00:29.450 --> 00:00:33.482
So let's start by defining some of our
styles that we're going to need so

8
00:00:33.482 --> 00:00:35.267
we'll go into source styles and

9
00:00:35.267 --> 00:00:39.763
the first one that we're going to create
is going to be called variables dot CSS,

10
00:00:39.763 --> 00:00:44.380
and so I'm going to use plain old CSS
variables because I like them very much.

11
00:00:44.380 --> 00:00:49.140
They don't require us to install anything
new and they work in the browser

12
00:00:49.140 --> 00:00:53.823
without transpilation or any kind of
build step so it's easy to debug and

13
00:00:53.823 --> 00:00:59.290
you can write these in your dev tools
without having to stress out over it.

14
00:00:59.290 --> 00:01:02.810
I very much enjoy this general approach
okay, so this is going to be the whole

15
00:01:02.810 --> 00:01:06.750
site we're going to have a colour for
black colour for white colour for text.

16
00:01:06.750 --> 00:01:10.510
And as just a general design
thing putting pure black and

17
00:01:10.510 --> 00:01:15.550
pure white together can be a little like
I said, It just makes your eyes kind

18
00:01:15.550 --> 00:01:20.510
of do a thing so a dark gray as opposed
to a black is just a little bit softer.

19
00:01:20.510 --> 00:01:24.002
That's why we're using this instead
of pure dark black and then for

20
00:01:24.002 --> 00:01:27.860
text, want it to be a little bit lighter
so that the heading stand out and And

21
00:01:27.860 --> 00:01:29.100
those sorts of things.

22
00:01:30.650 --> 00:01:34.162
And this is all that's going in this
file and you might be thinking well,

23
00:01:34.162 --> 00:01:37.530
that's silly, why would you
create an extra file for this?

24
00:01:37.530 --> 00:01:41.934
And I'll tell you why, a little bit
later on because there's a very specific

25
00:01:41.934 --> 00:01:45.524
reason that we're doing it this way so
we set up our variables,

26
00:01:45.524 --> 00:01:48.620
now we're going to set
up our global styles.

27
00:01:48.620 --> 00:01:52.346
And for our global styles, we're going to
keep these pretty simple we are going to

28
00:01:52.346 --> 00:01:54.561
make sure that margin
padding do what we want, so

29
00:01:54.561 --> 00:01:56.958
we'll say box-sizing is
going to be border-box.

30
00:01:59.455 --> 00:02:03.852
And then we're going to set
up on the HTML and the body,

31
00:02:03.852 --> 00:02:08.630
we want to set our color to be
the text color that we created,

32
00:02:08.630 --> 00:02:13.982
we're going to set a font family and
I'm going to use to have like,

33
00:02:13.982 --> 00:02:17.250
Apple system does it do the whole thing?

34
00:02:18.970 --> 00:02:22.565
That's close enough for us so
those are system fonts,

35
00:02:22.565 --> 00:02:27.334
got font size will set to 18 pixels,
line height of 1.4 that's just

36
00:02:27.334 --> 00:02:31.240
a personal preference you
can ignore that if you want.

37
00:02:31.240 --> 00:02:35.732
And then I'm going to set a general margin
of zero because otherwise the The document

38
00:02:35.732 --> 00:02:39.020
will have a little bit of
a white border around it.

39
00:02:39.020 --> 00:02:41.580
So these will be our global styles so
again, we're not doing much here, right?

40
00:02:41.580 --> 00:02:46.365
We're trying to create some some
baselines for things to look okay so

41
00:02:46.365 --> 00:02:51.725
we've got our global styles, and then
we're going to add a scopes module for

42
00:02:51.725 --> 00:02:56.015
our layout, so
we'll call this one layout.module.CSS and

43
00:02:56.015 --> 00:02:59.180
inside we're going to say content.

44
00:02:59.180 --> 00:03:04.354
And we'll say margin so
we'll give our content like a good top and

45
00:03:04.354 --> 00:03:08.966
bottom margin about three REM and
then we'll center it and

46
00:03:08.966 --> 00:03:16.030
I'm going to set the max width to be 54
characters this is good for line length.

47
00:03:16.030 --> 00:03:18.614
It means that no matter
what size the font is,

48
00:03:18.614 --> 00:03:23.238
the lines will be roughly a good readable
length and then let's sell our footer so

49
00:03:23.238 --> 00:03:27.794
for our footer, we're going to keep it
really simple, you could do a lot of cool

50
00:03:27.794 --> 00:03:31.220
stuff with the footer, but
I just want to have one present.

51
00:03:31.220 --> 00:03:35.586
And I don't want to spend a lot of time on
building out the mark-up for a footer, so

52
00:03:35.586 --> 00:03:39.319
we will instead just set up the basics
of what a footer could look like,

53
00:03:39.319 --> 00:03:43.560
so we're going to text-align:center and
so this is just going to be small text

54
00:03:43.560 --> 00:03:47.270
cantered in the screen with a little
bit of breathing room around it.

55
00:03:47.270 --> 00:03:51.673
And that will be our entire layout so
we're going to keep this very,

56
00:03:51.673 --> 00:03:55.845
straightforward, as simple as
we can now that we've got that,

57
00:03:55.845 --> 00:04:01.485
let's add a component and we'll call this
one layout.js, so in layout dot j s, it's

58
00:04:01.485 --> 00:04:07.550
going to be a react component so we will
import everything as react from react.

59
00:04:07.550 --> 00:04:11.924
We will also import those styles so
we're going to start with

60
00:04:11.924 --> 00:04:16.127
the variables then we're going
to get the global stuff and

61
00:04:16.127 --> 00:04:21.445
then we're going to import those
classes that we created, so content and

62
00:04:21.445 --> 00:04:27.824
footer, From our layout module okay,

63
00:04:27.824 --> 00:04:33.384
then we can export default function
layout and because it's a layout,

64
00:04:33.384 --> 00:04:38.480
we're going to allow it to have
children that means it'll wrap,

65
00:04:38.480 --> 00:04:43.578
a document and whatever gets passed
inside of this component Will

66
00:04:43.578 --> 00:04:49.070
be delivered wherever we use children
in here so I'm going to return.

67
00:04:52.229 --> 00:04:58.133
Let's do a fragment and
I'm going to add main with a class

68
00:04:58.133 --> 00:05:03.791
name of content and
we'll put the children in there and

69
00:05:03.791 --> 00:05:09.326
then we'll add a footer with
a class name of footer and

70
00:05:09.326 --> 00:05:15.610
this will just say,
built with the shared nav Gatsby theme.

71
00:05:15.610 --> 00:05:20.383
Right so we're not doing too much with
this we're going to keep this pretty

72
00:05:20.383 --> 00:05:25.156
simple, close our fragment and
we now have a working layout component, so

73
00:05:25.156 --> 00:05:30.350
we could, at this point, import this
component from the theme and use it.

74
00:05:30.350 --> 00:05:34.804
But we're going to consider this to be
an opinionated theme so what we want this

75
00:05:34.804 --> 00:05:39.325
theme to do is actually automatically wrap
every page in a site with the layout so

76
00:05:39.325 --> 00:05:40.550
let's add a plug in.

77
00:05:40.550 --> 00:05:46.076
That's going to let us do that and the way
that we're going to do that is yarn

78
00:05:46.076 --> 00:05:51.605
workspace Gatsby theme shared nav add and
we want Gatsby plug in layout, so

79
00:05:51.605 --> 00:05:56.900
this is actually mimicking a behavior
that used to exist in Gatsby one.

80
00:05:56.900 --> 00:06:02.372
So you may have seen this before,
where it would automatically apply layouts

81
00:06:02.372 --> 00:06:07.690
it was decided as as a part of a time to
a type owed Gatsby themes showing now.

82
00:06:07.690 --> 00:06:12.400
There we go it was determined that it's
a little unintuitive to have things

83
00:06:12.400 --> 00:06:17.336
automatically applied and honestly react
is so good at just making things into

84
00:06:17.336 --> 00:06:23.050
components that by default, the behavior
that should be Gatsby doesn't do magic.

85
00:06:23.050 --> 00:06:26.372
That was a way, when I used to
work there that was a mantra for

86
00:06:26.372 --> 00:06:30.432
us we shouldn't do magic, like,
there should be only magic where it's

87
00:06:30.432 --> 00:06:33.770
actually useful and
not where it's neat, right?

88
00:06:33.770 --> 00:06:37.394
And so layouts being automatically
applied got taken out but

89
00:06:37.394 --> 00:06:41.798
this Gatsby plugin layout is re
implementing that functionality in cases

90
00:06:41.798 --> 00:06:46.487
where you are consciously making the
decision that you want that magic because

91
00:06:46.487 --> 00:06:51.950
we want it to be, less work for somebody
to to install this theme on their site.

92
00:06:51.950 --> 00:06:58.141
So once we have installed Gatsby plugin
layout, we can go to our themes,

93
00:06:58.141 --> 00:07:03.317
Gatsby config and we're going
to set up our plugins array and

94
00:07:03.317 --> 00:07:07.680
inside of that,
set up an object for the plugin, or

95
00:07:07.680 --> 00:07:11.131
resolve it to Gatsby, plug in layout and

96
00:07:11.131 --> 00:07:16.040
then as the options We want to
tell it where our layout is.

97
00:07:16.040 --> 00:07:20.442
So the component is going to be required
out resolve you might recognize this from

98
00:07:20.442 --> 00:07:24.262
the way that we do create pages calls
it's the same general approach,

99
00:07:24.262 --> 00:07:28.212
except we're going to use dirname to
make sure that it uses this theme And

100
00:07:28.212 --> 00:07:31.350
not like whatever theme it's installed in.

101
00:07:31.350 --> 00:07:36.817
So we'll do that and
source components layout.js so

102
00:07:36.817 --> 00:07:40.216
the way that you install a theme,

103
00:07:40.216 --> 00:07:45.439
is you have to actually go
in to the Gatsby config and

104
00:07:45.439 --> 00:07:50.539
we're gonna use Gatsby
theme shared nav iit wants

105
00:07:50.539 --> 00:07:55.287
us to restart let's
restart that Dev server.

106
00:08:06.251 --> 00:08:11.397
There it is so now with no changes to
our site outside of adding this one line

107
00:08:11.397 --> 00:08:16.377
to install the theme, we have added
some overarching styles to the site

108
00:08:16.377 --> 00:08:21.191
that make it look really nice So
as we we kind of navigate around here,

109
00:08:21.191 --> 00:08:24.930
we can see that we didn't
have to make these changes.

110
00:08:24.930 --> 00:08:29.511
These changes were made for us and as
a site builder, if all I cared about was

111
00:08:29.511 --> 00:08:34.390
getting information going onto the
internet, having something like this that

112
00:08:34.390 --> 00:08:39.820
gives me a baseline structure that I can
just put content into is really, handy.

113
00:08:39.820 --> 00:08:45.441
And if I'm a company that's trying to make
sure that people use a design system or

114
00:08:45.441 --> 00:08:50.730
otherwise kind of keep track of
the shared components or utilities.

115
00:08:50.730 --> 00:08:55.662
Themes are a great way to pass that around
if you standardize on Gatsby as the way

116
00:08:55.662 --> 00:08:58.725
you build for the web so
now that we've got that,

117
00:08:58.725 --> 00:09:01.510
we can build out that
shared nav component.


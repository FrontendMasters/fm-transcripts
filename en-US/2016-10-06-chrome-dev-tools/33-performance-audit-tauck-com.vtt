WEBVTT

1
00:00:00.000 --> 00:00:04.045
[MUSIC]

2
00:00:04.045 --> 00:00:05.945
&gt;&gt; Speaker 2: We got two more.
&gt;&gt; Jon: Cool.

3
00:00:05.945 --> 00:00:09.947
&gt;&gt; Speaker 2: www.tauck.com.

4
00:00:15.037 --> 00:00:17.347
&gt;&gt; Jon: Okay, so again,

5
00:00:17.347 --> 00:00:21.663
gonna go back here, do an audit.

6
00:00:21.663 --> 00:00:25.523
Stop, do a very fresh audit.

7
00:00:25.523 --> 00:00:28.016
I really only use the audit present
state if it's a single page app,

8
00:00:28.016 --> 00:00:29.547
like if it's something I've had open for

9
00:00:29.547 --> 00:00:31.839
a while and I've been running and
I kind of want to know about.

10
00:00:31.839 --> 00:00:34.755
Otherwise, I'd really prefer
the like cache free restart,

11
00:00:34.755 --> 00:00:38.131
just kind of get that experience of
hitting the site for the first time.

12
00:00:38.131 --> 00:00:40.136
We are stuck on something here.

13
00:00:40.136 --> 00:00:46.608
Some resource.
&gt;&gt; Jon: Come on.

14
00:00:51.865 --> 00:00:53.287
&gt;&gt; Jon: It's still loading something.

15
00:00:53.287 --> 00:00:54.905
I'm not sure what it is.

16
00:00:54.905 --> 00:00:56.309
We'll find out soon enough, though.

17
00:01:06.635 --> 00:01:08.339
&gt;&gt; Jon: It looks complete to me,

18
00:01:08.339 --> 00:01:09.480
I would ship it.

19
00:01:09.480 --> 00:01:10.970
I would and
maybe something's missing here.

20
00:01:10.970 --> 00:01:11.550
I don't know.

21
00:01:11.550 --> 00:01:12.520
It's still loading up here.

22
00:01:16.350 --> 00:01:20.318
Stuff is coming down though,
it was at 133 a minute ago.

23
00:01:20.318 --> 00:01:25.429
Just another second, I hope more stuff.

24
00:01:25.429 --> 00:01:30.410
Okay, so one thing that's going
on here is stuff that is blocking

25
00:01:30.410 --> 00:01:33.861
that is obviously not required for
the site.

26
00:01:33.861 --> 00:01:37.919
And it's really taking quite a while.
&gt;&gt; Speaker 3: Can you go to

27
00:01:37.919 --> 00:01:38.794
the network tab and

28
00:01:38.794 --> 00:01:41.443
see how many requests are still pending?
&gt;&gt; Jon: Yeah, but the only

29
00:01:41.443 --> 00:01:43.658
problem is I'll have to re-refresh it.
&gt;&gt; [LAUGH]

30
00:01:43.658 --> 00:01:44.381
&gt;&gt; Speaker 3: Yeah, you can write down for

31
00:01:44.381 --> 00:01:45.749
me too?
&gt;&gt; Jon: But yeah, I'll go ahead and

32
00:01:45.749 --> 00:01:47.768
do that just so
we can kind of see what's going on.

33
00:01:47.768 --> 00:01:50.348
&gt;&gt; Speaker 3: It might just be like-

34
00:01:50.348 --> 00:01:51.279
&gt;&gt; Jon: See that one went real fast.

35
00:01:51.279 --> 00:01:51.803
&gt;&gt; Speaker 3: [CROSSTALK] Server?

36
00:01:51.803 --> 00:01:52.462
&gt;&gt; Jon: I wonder what's going on there?

37
00:01:52.462 --> 00:01:55.378
Okay, so from the network tab,

38
00:01:55.378 --> 00:02:00.024
I kind of wanted to take
a look at size first and see.

39
00:02:00.024 --> 00:02:03.678
Yeah, so we've got some stuff like this.

40
00:02:03.678 --> 00:02:09.293
We've got someone to CDN, which is good,
but this CSS files is pretty big.

41
00:02:09.293 --> 00:02:12.574
There's a couple of things that
are over 100 kilobytes here.

42
00:02:12.574 --> 00:02:15.278
The total size coming
down is actually not bad.

43
00:02:15.278 --> 00:02:19.981
I do want to do that audit just
to see what's going on there.

44
00:02:19.981 --> 00:02:21.508
But I also kind of wanted to check out.

45
00:02:21.508 --> 00:02:24.190
Okay, so
here's the point where the refresh starts.

46
00:02:24.190 --> 00:02:27.710
So the first stuff that loads in it's
pretty blank you've got your search in

47
00:02:27.710 --> 00:02:28.542
the register button.

48
00:02:28.542 --> 00:02:32.640
So here's, yeah these are things
that can be problematic, right?

49
00:02:32.640 --> 00:02:37.984
So we've got stuff floating in
that's kind of out of order.

50
00:02:37.984 --> 00:02:38.660
You don't have a logo.

51
00:02:38.660 --> 00:02:40.338
You don't have any text
to greet the user yet.

52
00:02:40.338 --> 00:02:44.511
So if the user's on a slow connection,
for example,

53
00:02:44.511 --> 00:02:49.355
if we go to, where am I at,
just gotta close the screenshots.

54
00:02:49.355 --> 00:02:50.107
It's no throttling.

55
00:02:50.107 --> 00:02:54.171
So if we're like on a good 3G
connection here and I refresh the page,

56
00:02:54.171 --> 00:02:57.184
I'm going to be like as it loads,
see I'm stuck for

57
00:02:57.184 --> 00:02:59.799
a little while with not
much to be able to do.

58
00:02:59.799 --> 00:03:00.598
Does that makes sense?

59
00:03:00.598 --> 00:03:04.224
You can really see it if I was
on a regular 2G connection here.

60
00:03:04.224 --> 00:03:07.295
I refreshed here,
after it goes white,there's going to

61
00:03:07.295 --> 00:03:09.988
be a period of time where
I'm getting style stuff,

62
00:03:09.988 --> 00:03:14.208
I'm getting that green bar, but I don't
have any content that I can play with.

63
00:03:14.208 --> 00:03:16.104
It's a little bit of a hard fix sometimes,

64
00:03:16.104 --> 00:03:18.910
because it's actually about
the order that your markup is in.

65
00:03:18.910 --> 00:03:23.423
So here,
I've got nothing that I can do yet.

66
00:03:23.423 --> 00:03:25.103
It's just styles filling in.

67
00:03:25.103 --> 00:03:29.207
I'm assuming web fonts,
web fonts are like, man web fonts.

68
00:03:29.207 --> 00:03:32.002
They're just part of our
performance nightmare.

69
00:03:32.002 --> 00:03:35.950
And, I forget what it was,
there's something,

70
00:03:35.950 --> 00:03:39.057
I'm trying to remember what it is now.

71
00:03:39.057 --> 00:03:40.708
I wish I remembered,

72
00:03:40.708 --> 00:03:45.862
there's a talk at Google iO about
it where it downloads a web font.

73
00:03:45.862 --> 00:03:50.759
And then it does stuff
in a crazy order like.

74
00:03:50.759 --> 00:03:54.668
Basically, it grabs the whole web font and
loads it in and then it like parses

75
00:03:54.668 --> 00:03:58.883
through the document, parses the CSS to
see if it needs to be used on them,applies

76
00:03:58.883 --> 00:04:02.084
it later after the factors of why
you get like this flash here.

77
00:04:02.084 --> 00:04:06.284
Web fonts are tough, but
if you that that's your design,

78
00:04:06.284 --> 00:04:08.523
that's your design totally.

79
00:04:08.523 --> 00:04:11.380
So yeah, so I guess one thing
though that I got off track.

80
00:04:11.380 --> 00:04:13.600
One thing that I wanted
to talk about was just,

81
00:04:13.600 --> 00:04:16.415
we have a good period of time
where the site is not usable.

82
00:04:17.580 --> 00:04:20.680
So it'd be really nice to
change some of this ordering

83
00:04:20.680 --> 00:04:22.790
with the actual markup that comes down.

84
00:04:22.790 --> 00:04:26.955
I would really love to see the navigation
and some forums show up right away.

85
00:04:26.955 --> 00:04:28.565
So you can at least feel like, I'm here.

86
00:04:28.565 --> 00:04:31.762
And then like especially
it's a little bit tricky to,

87
00:04:31.762 --> 00:04:34.973
this text would be nice to
send down earlier if you can.

88
00:04:34.973 --> 00:04:39.313
This is all an image but it is just nice
to have if the page is loading really

89
00:04:39.313 --> 00:04:43.868
slow, give these or something to do
whether it's now, where they can click

90
00:04:43.868 --> 00:04:48.055
on or like an intro text they can read.
&gt;&gt; Speaker 3: I remember with those

91
00:04:48.055 --> 00:04:54.460
sliders, back in 2005 what we did
was paint the background black and

92
00:04:54.460 --> 00:04:58.039
drop in some type of topography or font.

93
00:04:58.039 --> 00:05:02.632
It didn't look great, but it was at least,
you knew exactly what you what was

94
00:05:02.632 --> 00:05:06.602
going to come, and then you know
image loaded and- Yeah totally.

95
00:05:06.602 --> 00:05:07.321
Later.

96
00:05:07.321 --> 00:05:09.034
[CROSSTALK] You kinda trick,

97
00:05:09.034 --> 00:05:13.063
at least show something [CROSSTALK]
&gt;&gt; Jon: I think that's a little thing I

98
00:05:13.063 --> 00:05:13.743
think so.

99
00:05:13.743 --> 00:05:16.326
The thing you're trying to prevent most
of all these people is leaving your

100
00:05:16.326 --> 00:05:16.861
page, right?

101
00:05:16.861 --> 00:05:20.730
That's the reason you worry about slow
performance on page load is because you

102
00:05:20.730 --> 00:05:24.436
don't want people to go, I don't want
this, and hit back, or whatever.

103
00:05:24.436 --> 00:05:27.994
So the sooner you engage with them,
we're you're like, Welcome.

104
00:05:27.994 --> 00:05:31.380
Buy shoes, or
whatever it is that your site is doing,

105
00:05:31.380 --> 00:05:34.560
I think the better that
experience is going to be.

106
00:05:34.560 --> 00:05:35.670
I'm gonna try an audit.

107
00:05:35.670 --> 00:05:36.460
Here the audit loaded.

108
00:05:38.920 --> 00:05:41.400
Nothing all that bad.

109
00:05:41.400 --> 00:05:44.580
So, okay.
So here's the thing.

110
00:05:44.580 --> 00:05:47.800
This file I remember from back over here,

111
00:05:47.800 --> 00:05:53.100
I believe, as being,
let me see where I'm at here.

112
00:05:53.100 --> 00:05:53.700
I could be wrong.

113
00:05:53.700 --> 00:05:54.790
I think I was wrong.

114
00:05:54.790 --> 00:05:57.220
All right,
well I thought it was the biggest file.

115
00:05:57.220 --> 00:05:58.160
It's not the biggest.

116
00:05:58.160 --> 00:05:58.830
No, it is.

117
00:05:58.830 --> 00:05:59.930
What am I doing?

118
00:05:59.930 --> 00:06:00.490
Yes, okay.

119
00:06:00.490 --> 00:06:06.130
So this file here, component CSS,
is not only the largest file.

120
00:06:06.130 --> 00:06:07.880
But then when I go over to the Audit tab,

121
00:06:07.880 --> 00:06:10.640
it says that it's 92%
unused by the current page.

122
00:06:12.270 --> 00:06:14.860
So to me,
I think there's a real big win here.

123
00:06:14.860 --> 00:06:16.950
And I am sure some of the cells
are using on other pages.

124
00:06:16.950 --> 00:06:20.444
But I would imagine some of them,
you're not.

125
00:06:20.444 --> 00:06:23.188
&gt;&gt; Speaker 3: Especially on a highly used

126
00:06:23.188 --> 00:06:25.910
page.
&gt;&gt; Jon: Yeah, so again, if you have in

127
00:06:25.910 --> 00:06:31.069
this scenario, if you do need all those
styles like your app is really complex.

128
00:06:31.069 --> 00:06:33.837
Here's a situation where I'd recommend
breaking it up into two files.

129
00:06:33.837 --> 00:06:36.420
So you'd have init.CSS, or boot,CSS.

130
00:06:36.420 --> 00:06:38.958
Which would literally just be
able to paint that home screen.

131
00:06:38.958 --> 00:06:43.720
And then later, after it load in
all the rest of the CSS for stuff.

132
00:06:43.720 --> 00:06:46.750
Just because that first
network doesn't fly down.

133
00:06:46.750 --> 00:06:50.080
You can see the page and
then load the rest of the stuff in.

134
00:06:50.080 --> 00:06:53.443
So that's probably my biggest
one that I've seen here so far.

135
00:06:53.443 --> 00:06:57.361
And we can do a Timeline Record
to mess around,

136
00:06:57.361 --> 00:07:01.706
hover around some things.
&gt;&gt; Speaker 4: It's 27,000 lines long

137
00:07:01.706 --> 00:07:03.292
if you it.
&gt;&gt; Jon: Yeah,

138
00:07:03.292 --> 00:07:05.470
I could tell by the size
that it was pretty big.

139
00:07:05.470 --> 00:07:08.430
I'm assuming it's a bundle and I'm
assuming there CSS frameworks in there.

140
00:07:09.990 --> 00:07:12.660
Yeah, it's okay.
We have two memory leaks here.

141
00:07:12.660 --> 00:07:15.380
Okay, so this there's actually
not a lot of work being done.

142
00:07:15.380 --> 00:07:17.810
It's nice the site's resting pretty well.

143
00:07:17.810 --> 00:07:23.424
There's a little bit of render jink
happening and it looks like it's blaming.

144
00:07:23.424 --> 00:07:25.792
I don't know what this is, C C E T R K,

145
00:07:25.792 --> 00:07:30.923
I'm assuming it's like analytics ads
testing one of those kind of libraries.

146
00:07:30.923 --> 00:07:32.790
So again,
I'm not sure what this product is but

147
00:07:32.790 --> 00:07:36.160
this is causing a little bit of page jank,
probably wouldn't worry about it.

148
00:07:36.160 --> 00:07:41.210
I do see not a ton but look at
this,this jigsaw here of the JS heap

149
00:07:41.210 --> 00:07:45.520
is definitely leaking some memory
especially on a page that's pretty static.

150
00:07:45.520 --> 00:07:46.900
So I'd compare some snapshots and

151
00:07:46.900 --> 00:07:49.250
see what's adding all that
JS heap memory there.


WEBVTT

1
00:00:00.100 --> 00:00:04.206
All right, so
we're gonna look at the solution now for

2
00:00:04.206 --> 00:00:06.357
the composition API piece.

3
00:00:06.357 --> 00:00:10.094
So, we said const,
reactive to two refs and

4
00:00:10.094 --> 00:00:14.800
watch effect, so,
I'm bringing in those pieces.

5
00:00:14.800 --> 00:00:18.106
And you could have used
reactive in two refs or

6
00:00:18.106 --> 00:00:22.114
you could have used refs,
either one is totally fine.

7
00:00:22.114 --> 00:00:26.440
Here I'm saying const state is reactive,
I'm holding that new comment.

8
00:00:26.440 --> 00:00:30.927
And remember, these are just like
that data return, so, I have the same

9
00:00:30.927 --> 00:00:35.510
information that I would have had in
that data return that we were used to.

10
00:00:35.510 --> 00:00:37.700
Then we have function add comment.

11
00:00:37.700 --> 00:00:42.420
That's
this.state.comments.pushstatenewcomment.

12
00:00:42.420 --> 00:00:45.409
So, rather than saying this.comments,

13
00:00:45.409 --> 00:00:49.316
you can start getting used
to saying state.comments.

14
00:00:49.316 --> 00:00:54.405
So, that's a difference there,
state.comments.push, state.newcomment.

15
00:00:54.405 --> 00:01:01.250
We are saying state.newcomment=empty
string, we're using a watch effect.

16
00:01:01.250 --> 00:01:03.763
And like I said before,
if we're using watch effect,

17
00:01:03.763 --> 00:01:06.017
I don't have to say what
I'm gonna be watching.

18
00:01:06.017 --> 00:01:10.240
Unlike the watchers, but previously where
I would have had to say the property.

19
00:01:10.240 --> 00:01:12.627
I'm saying console.log new value and

20
00:01:12.627 --> 00:01:16.757
I can automatically just say,
state.newcomment, really nice.

21
00:01:16.757 --> 00:01:22.030
And so, then I can say two refs, the
state, and I'm also saying, add comment.

22
00:01:22.030 --> 00:01:23.590
Because that's that function,

23
00:01:23.590 --> 00:01:26.497
I want to make sure that I'm
returning that function as well.

24
00:01:26.497 --> 00:01:30.941
And the template stays totally the same,
the template is not changing.

25
00:01:30.941 --> 00:01:32.600
That surface API has not changed.


WEBVTT

1
00:00:00.560 --> 00:00:04.116
Within this federation config,

2
00:00:04.116 --> 00:00:08.307
this is essentially hard-coded, and

3
00:00:08.307 --> 00:00:13.260
the idea would be,
let's make this dynamic.

4
00:00:14.750 --> 00:00:15.600
How would we do that?

5
00:00:15.600 --> 00:00:19.579
So, thank you for asking,
I have some ideas.

6
00:00:20.650 --> 00:00:25.678
We're going to delete this, so
we're removing essentially this hard

7
00:00:25.678 --> 00:00:32.500
coded reference to this micro front end,
and so now we've kind of disconnected it.

8
00:00:32.500 --> 00:00:40.817
Then what we're gonna do is
inside of the assets folder,

9
00:00:40.817 --> 00:00:45.842
we're going to create a file, and

10
00:00:45.842 --> 00:00:50.717
we're going to call this modul-

11
00:00:53.547 --> 00:00:54.876
Federation.

12
00:00:57.758 --> 00:01:03.441
&gt;&gt; Yep, federation, it's F-E-D-E-R.

13
00:01:03.441 --> 00:01:05.106
&gt;&gt; Well that's just how
we say it in the South.

14
00:01:05.106 --> 00:01:11.344
&gt;&gt; [LAUGH]
&gt;&gt; Federation, that's how my memo said it.

15
00:01:11.344 --> 00:01:14.411
So we are going to add in,

16
00:01:14.411 --> 00:01:19.378
I think this also shares port 4201,

17
00:01:19.378 --> 00:01:23.468
I'm hoping, this just breaks,

18
00:01:23.468 --> 00:01:29.040
I'm going to just go eat and
fix after lunch.

19
00:01:30.080 --> 00:01:35.081
So we've created a manifest and
now we're pointing to an actual,

20
00:01:35.081 --> 00:01:40.352
not just a name that's being mapped
to something inside of the project

21
00:01:40.352 --> 00:01:44.753
is we're actually pointing to a URL,
this is important.

22
00:01:44.753 --> 00:01:50.076
Then from there, we need to update

23
00:01:50.076 --> 00:01:54.489
our main.ts to be dynamic.

24
00:01:59.036 --> 00:02:04.538
Right now this is pretty boring.

25
00:02:07.590 --> 00:02:14.141
So instead what we're gonna do is,
this actually reads pretty well,

26
00:02:14.141 --> 00:02:19.706
we are going to go and
get the manifest that we just created.

27
00:02:19.706 --> 00:02:22.993
And we're gonna then
take those definitions,

28
00:02:22.993 --> 00:02:27.762
send it into setRemoteDefinitions,
which I'm sure does something

29
00:02:27.762 --> 00:02:32.874
magical under the hood, and
from there, then we're bootstrapping.

30
00:02:32.874 --> 00:02:38.014
So we're just adding this exchange
kind of from the beginning.

31
00:02:39.294 --> 00:02:43.854
We've already removed
the static reference, and so

32
00:02:43.854 --> 00:02:50.413
we have one last thing that we need to do,
and I really hope this works.

33
00:02:50.413 --> 00:02:55.304
We need to go back to
our remote entry routes.

34
00:03:01.323 --> 00:03:08.046
Or actually, sorry, my bad,
this is in the workshop routes.

35
00:03:10.698 --> 00:03:11.720
I believe, is this right?

36
00:03:13.530 --> 00:03:14.390
Yes, all right.

37
00:03:16.930 --> 00:03:25.249
So what we're doing here is we need
to change this call right here,

38
00:03:25.249 --> 00:03:30.165
so we're going to load remote module.

39
00:03:32.095 --> 00:03:34.869
This one is just dying, all right.

40
00:03:37.837 --> 00:03:39.164
Wait, it was sessions.

41
00:03:47.214 --> 00:03:51.163
I do this every time,
all right, my apologies.

42
00:03:57.357 --> 00:04:05.985
LoadChildren, then there we go, sessions.

43
00:04:17.630 --> 00:04:19.024
I think we're almost there.

44
00:04:24.191 --> 00:04:29.887
Then, what's this thing so upset about?

45
00:04:33.294 --> 00:04:34.394
Come on.

46
00:04:42.817 --> 00:04:47.141
All right, I think maybe,

47
00:04:47.141 --> 00:04:53.159
just maybe, yes, fingers crossed,

48
00:04:53.159 --> 00:04:57.108
I thought you were like,

49
00:04:57.108 --> 00:05:02.198
get on the ceiling, all right.

50
00:05:10.869 --> 00:05:11.841
All right.

51
00:05:15.816 --> 00:05:21.874
The strangest cuts out it didn't work and
I rage quit,

52
00:05:21.874 --> 00:05:28.064
you should you should actually
get the that overlay when

53
00:05:28.064 --> 00:05:33.069
they cut a stream off
like the old-fashioned

54
00:05:33.069 --> 00:05:38.352
television, it's like, Lucas just quit,.

55
00:05:40.089 --> 00:05:41.267
Should I?

56
00:05:41.267 --> 00:05:44.369
Why am I so scared right now?

57
00:05:44.369 --> 00:05:48.608
It's because I'm just desperate for
you guys' approval.

58
00:05:52.272 --> 00:05:57.414
I busted it, what's happening?

59
00:05:57.414 --> 00:06:04.177
4201, I'm going to spend
30 seconds looking at this,

60
00:06:04.177 --> 00:06:11.600
and then, Is it sessions?

61
00:06:11.600 --> 00:06:15.491
So, in this case it was
a sequencing problem and

62
00:06:15.491 --> 00:06:20.274
I'm still working out
the handshake on this a little bit.

63
00:06:20.274 --> 00:06:25.062
But I am going to start
up the remote first,

64
00:06:25.062 --> 00:06:30.116
and I really hope this
works cuz I would hate to

65
00:06:30.116 --> 00:06:34.926
have to disappear for another 10 years.

66
00:06:34.926 --> 00:06:39.389
And we just pull this over

67
00:06:39.389 --> 00:06:43.853
into another window, so

68
00:06:43.853 --> 00:06:50.444
you can see here sessions is deployed

69
00:06:50.444 --> 00:06:56.618
independently on port 4205.

70
00:06:56.618 --> 00:07:03.933
Hop into another tab, and
then I'm going to serve the workshops.

71
00:07:05.123 --> 00:07:09.223
This is certainly a case
of art imitating life,

72
00:07:09.223 --> 00:07:14.353
as I am indeed serving the workshop
as I serve the workshop.

73
00:07:15.383 --> 00:07:19.666
And so now you can see then I'm able

74
00:07:19.666 --> 00:07:24.256
to toggle between the two sessions.


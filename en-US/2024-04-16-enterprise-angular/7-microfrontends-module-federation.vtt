WEBVTT

1
00:00:00.660 --> 00:00:02.034
Let's get into.

2
00:00:04.169 --> 00:00:08.490
A little bit more of
a precarious subject here.

3
00:00:08.490 --> 00:00:14.836
Conceptually, I love the idea,
but if something goes wrong,

4
00:00:14.836 --> 00:00:19.506
I will say that this is
still new technology and

5
00:00:19.506 --> 00:00:24.656
I think that there's very
few people that have deep

6
00:00:24.656 --> 00:00:30.433
experience with federated modules or
micro front ends.

7
00:00:30.433 --> 00:00:37.258
So, real quick,
who here knows what a micro front end is?

8
00:00:37.258 --> 00:00:40.926
&gt;&gt; Commonly I don't use it,
but I have some experience,

9
00:00:40.926 --> 00:00:43.276
learning a little bit about.

10
00:00:43.276 --> 00:00:44.356
&gt;&gt; Right.

11
00:00:44.356 --> 00:00:48.339
&gt;&gt; Angular and react is one point,

12
00:00:48.339 --> 00:00:53.362
they want to have the angular and react.

13
00:00:53.362 --> 00:00:54.059
&gt;&gt; Mm-hm.

14
00:00:54.059 --> 00:01:00.291
&gt;&gt; Components that one team using angular
and then the other team using react.

15
00:01:00.291 --> 00:01:03.201
So how can we share
the components together, right?

16
00:01:03.201 --> 00:01:09.044
So there's some library
that we can generate,

17
00:01:09.044 --> 00:01:12.258
the standard component or

18
00:01:12.258 --> 00:01:17.371
reusable component that both Angular and

19
00:01:17.371 --> 00:01:23.870
React can use together [INAUDIBLE]
&gt;&gt; Additional commentary from the corner?

20
00:01:23.870 --> 00:01:29.582
&gt;&gt; I've understood cuz I actually use it
to some degree, it's the goal of building

21
00:01:29.582 --> 00:01:34.454
the app so that a specific feature,
like cart, can be ran by a team and

22
00:01:34.454 --> 00:01:39.073
deployed separately than the rest
of the entire application.

23
00:01:39.073 --> 00:01:40.623
&gt;&gt; Bing bong.

24
00:01:40.623 --> 00:01:43.120
&gt;&gt; But I've only done it
when it's on a sub-domain.

25
00:01:43.120 --> 00:01:43.781
&gt;&gt; Okay?

26
00:01:43.781 --> 00:01:46.472
&gt;&gt; Not I used to work for target.

27
00:01:46.472 --> 00:01:51.333
I know their cart is a micro-frontend
on the same page as different features.

28
00:01:51.333 --> 00:01:52.533
I just don't know how to do that part.

29
00:01:53.913 --> 00:01:56.863
&gt;&gt; So you both have really
just hit on the essence.

30
00:01:56.863 --> 00:02:01.826
It's the idea that you
take a single feature or

31
00:02:01.826 --> 00:02:08.192
some functionality, and
you deploy that independently,

32
00:02:08.192 --> 00:02:13.412
is essentially a standalone
remote application

33
00:02:13.412 --> 00:02:19.582
that gets loaded in to a host or
shell application.

34
00:02:19.582 --> 00:02:26.075
What this allows us to do,
which I think is really cool,

35
00:02:26.075 --> 00:02:31.463
is that we can have any
number of independently

36
00:02:31.463 --> 00:02:39.771
deployed applications that we
are pulling in to our host application.

37
00:02:39.771 --> 00:02:45.876
So if you have typically
an application with four features,

38
00:02:45.876 --> 00:02:50.423
and somebody makes an update
to one of them and

39
00:02:50.423 --> 00:02:55.883
they wanna deploy it,
so this is a monolith.

40
00:02:55.883 --> 00:02:56.573
We'll guess what?

41
00:02:58.503 --> 00:03:04.181
You have to deploy all the features,
and this is where having to

42
00:03:04.181 --> 00:03:10.915
coordinate that across the organization
can be really, really tough.

43
00:03:10.915 --> 00:03:14.229
I have seen changes and

44
00:03:14.229 --> 00:03:18.938
deployments sit in the queue for

45
00:03:18.938 --> 00:03:23.224
over two weeks or more.

46
00:03:23.224 --> 00:03:28.614
Now imagine we're talking like
a fortune 100 ish company

47
00:03:28.614 --> 00:03:34.004
that it's sitting in the hopper,
because it required six or

48
00:03:34.004 --> 00:03:38.672
eight people to be in a room for
this thing to deploy.

49
00:03:38.672 --> 00:03:46.135
So from a technological standpoint
micro front ends are compelling.

50
00:03:47.865 --> 00:03:54.915
From a human communication standpoint,
it's a game changer.

51
00:03:54.915 --> 00:03:58.158
The fact that you have the ability to say,
I'm going to deploy my feature.

52
00:03:59.369 --> 00:04:02.099
And I don't have to go get permission.

53
00:04:02.099 --> 00:04:04.999
And I don't have to worry
about air traffic control.

54
00:04:04.999 --> 00:04:09.369
And I don't have to get my
permission slips signed.

55
00:04:09.369 --> 00:04:10.919
So I can do this.

56
00:04:10.919 --> 00:04:12.792
This is really important.

57
00:04:12.792 --> 00:04:19.373
Not only that is there are some
huge performance benefits for

58
00:04:19.373 --> 00:04:24.547
being able to load your
application in pieces.

59
00:04:26.506 --> 00:04:31.397
So with that said,

60
00:04:31.397 --> 00:04:37.214
let's do an example.

61
00:04:37.214 --> 00:04:43.384
We created the workshop feature

62
00:04:43.384 --> 00:04:48.414
in the school directory.

63
00:04:48.414 --> 00:04:54.492
Let's do one more and
I'm just gonna show it to you here.

64
00:04:54.492 --> 00:04:56.941
So it's right.

65
00:04:58.640 --> 00:05:02.487
In here, all the snippets,
so this is where I haven't,

66
00:05:02.487 --> 00:05:07.938
there's a setting you can set on your
computer to just automatically publish and

67
00:05:07.938 --> 00:05:11.000
I haven't done that yet, but don't judge.

68
00:05:12.864 --> 00:05:16.557
All right, cool.

69
00:05:17.903 --> 00:05:21.019
Let's, I'm gonna check
out another branch off

70
00:05:21.019 --> 00:05:23.838
of this because we
are turning a corner and.

71
00:05:25.799 --> 00:05:28.990
We'll call this Workshop.

72
00:05:32.105 --> 00:05:34.741
Federated modules.

73
00:05:34.741 --> 00:05:36.125
It's like that song.

74
00:05:36.125 --> 00:05:39.253
Gotta keep on federated.

75
00:05:39.253 --> 00:05:46.018
Anybody who was a teenager in the 90s
I know what I'm talking about.

76
00:05:46.018 --> 00:05:48.188
Let's look at the.

77
00:05:53.117 --> 00:05:56.027
Library real quick just
the file structure.

78
00:06:03.296 --> 00:06:07.869
I think what I wanna do is, inside of.

79
00:06:15.657 --> 00:06:19.277
They wanna put I don't think.

80
00:06:19.277 --> 00:06:23.464
I didn't actually generate
a front-end application yet.

81
00:06:23.464 --> 00:06:25.871
This makes it super easy.

82
00:06:25.871 --> 00:06:28.763
All right, life is good.

83
00:06:32.500 --> 00:06:37.573
So what we're going to do in the concept
of microphone ends is that you

84
00:06:37.573 --> 00:06:42.827
have your host application and
then you have your remote application.

85
00:06:42.827 --> 00:06:50.219
So the first thing that I'm going
to do is I'm going to generate.

86
00:06:52.321 --> 00:06:53.348
My.

87
00:06:56.945 --> 00:06:58.300
Host application.

88
00:06:58.300 --> 00:07:03.370
So, following a pretty
standard format of mpx,

89
00:07:03.370 --> 00:07:08.947
nx, g for generate, and
we're doing angular host.

90
00:07:08.947 --> 00:07:12.500
And we're generating a remote application,
or

91
00:07:12.500 --> 00:07:17.971
actually we're gonna generate this,
it's gonna be static for a moment.

92
00:07:17.971 --> 00:07:22.707
Because I wanna walk
through what's happening

93
00:07:22.707 --> 00:07:26.619
under the hood to make this kinda work.

94
00:07:26.619 --> 00:07:31.418
And then we're gonna do a couple
things to make it dynamic.

95
00:07:31.418 --> 00:07:35.591
So, putting it in the work I

96
00:07:35.591 --> 00:07:41.066
wouldn't have even caught this.

97
00:07:41.066 --> 00:07:44.416
There was a question about
should it be plural?

98
00:07:44.416 --> 00:07:46.212
And so, thank you for that.

99
00:07:46.212 --> 00:07:49.646
So, basic configuration.

100
00:07:49.646 --> 00:07:51.856
I like SAS, Cypress.

101
00:07:51.856 --> 00:07:53.406
I'm gonna add Tailwind.

102
00:07:53.406 --> 00:07:55.306
I think Tailwind's pretty awesome.

103
00:07:55.306 --> 00:08:00.042
And then prefix is the NPM kind of
a prefix that you use if you're doing

104
00:08:00.042 --> 00:08:03.811
any kind of package aliasing or
whatever, all right?

105
00:08:09.424 --> 00:08:15.591
Let this run and
we're gonna do this as provided.

106
00:08:15.591 --> 00:08:23.717
I really hope that we can come to maybe
a better API run this thing right here.

107
00:08:28.297 --> 00:08:31.208
I think it's funny that this when Angular,
no,

108
00:08:31.208 --> 00:08:35.021
I think Angular got good around
Angular four and a half.

109
00:08:35.021 --> 00:08:41.271
Up to then it was tough and I think one of
the big reasons, or I think how I got so

110
00:08:41.271 --> 00:08:46.745
good, is because the Angular team
teamed up with the Amber team and

111
00:08:46.745 --> 00:08:52.070
all of a sudden we got a CLI that
took care of a lot of these things.

112
00:08:52.070 --> 00:08:54.866
So I think this looks right.

113
00:08:54.866 --> 00:08:59.024
So I'm gonna generate this
again without the safety net.

114
00:09:01.143 --> 00:09:04.157
And if I don't make it back,
you guys can have my records.

115
00:09:08.514 --> 00:09:17.052
All right, so
now I have generated my remote app.

116
00:09:18.510 --> 00:09:19.995
Now, I need to.

117
00:09:22.313 --> 00:09:29.842
Generate, or my host,
I need to generate a remote app and so.

118
00:09:33.448 --> 00:09:36.725
Let's think,
I'm not planning on digging into this.

119
00:09:36.725 --> 00:09:41.115
I'm just thinking of something that
would have to do with a session.

120
00:09:41.115 --> 00:09:44.375
How does that sound like sessions?

121
00:09:44.375 --> 00:09:50.672
Cool, everybody, all right, So

122
00:09:50.672 --> 00:09:54.510
let's go ahead and drop this in.

123
00:09:56.944 --> 00:10:00.173
I wanna put the safety net on,
a seat belt.

124
00:10:13.991 --> 00:10:20.277
And then the host, we do need to
fix that is gonna be workshops

125
00:10:26.051 --> 00:10:29.603
And we're gonna call this sessions.

126
00:10:31.727 --> 00:10:34.984
All right, this is look right I think,

127
00:10:34.984 --> 00:10:39.249
feel free to yell out if I
spelled something wrong.

128
00:10:43.511 --> 00:10:44.562
I think we're in business.

129
00:10:53.746 --> 00:10:54.955
All right.

130
00:11:01.874 --> 00:11:05.519
YOLO, okay?

131
00:11:12.296 --> 00:11:19.485
Let's see what happens,
mpx, nx, serve, workshops.

132
00:11:33.178 --> 00:11:39.049
I am just hanging in the balance here,
just riding the void.

133
00:11:41.794 --> 00:11:46.700
It's funny thing the narratives
you tell yourself, you're like,

134
00:11:46.700 --> 00:11:48.824
my God, just make this work.

135
00:11:48.824 --> 00:11:51.623
I'll stop playing video games I promise.

136
00:11:51.623 --> 00:11:55.106
[LAUGH] All right.

137
00:11:57.692 --> 00:12:02.758
So what this has done is it detected that

138
00:12:02.758 --> 00:12:08.907
we have the host and
we have the remote, right?

139
00:12:08.907 --> 00:12:12.346
So, a host, one remote, and

140
00:12:12.346 --> 00:12:17.996
it's picking up on that,
and this should work.

141
00:12:17.996 --> 00:12:23.734
So, you can also see 4201
is where the remote is.

142
00:12:28.713 --> 00:12:30.256
All right, let me come over here.

143
00:12:30.256 --> 00:12:35.390
So what we have is this nx welcoming

144
00:12:35.390 --> 00:12:40.530
thing which is not Is helpful.

145
00:12:40.530 --> 00:12:43.448
Also very clever branding, good job, guys.

146
00:12:44.958 --> 00:12:49.770
And what it's done is it's
generated two routes here.

147
00:12:51.510 --> 00:12:57.220
And if I click on this,
everybody see that?

148
00:12:59.454 --> 00:13:05.494
Wow, microfinance for the win right here.

149
00:13:05.494 --> 00:13:09.944
So, how is this happening?

150
00:13:09.944 --> 00:13:11.564
What reality are we in right now?

151
00:13:13.274 --> 00:13:18.938
Well, it looks like magic,
it's not, and I can explain.

152
00:13:23.374 --> 00:13:29.160
Let me close some of this down and
I wanna walk through

153
00:13:29.160 --> 00:13:34.828
some of this code and so
we can see what's the deal.

154
00:13:34.828 --> 00:13:38.687
All right,
the most important thing in this.

155
00:13:43.882 --> 00:13:48.239
You have this module federation config,

156
00:13:48.239 --> 00:13:52.727
so this is all happening through webpack.

157
00:13:52.727 --> 00:13:58.739
And you can see here that
in the configuration.

158
00:14:00.589 --> 00:14:05.026
We have the name of the host.

159
00:14:06.636 --> 00:14:11.773
Then what we have is the remotes,

160
00:14:11.773 --> 00:14:14.894
right, sessions.

161
00:14:14.894 --> 00:14:19.659
And so when this spins up that Webpack

162
00:14:19.659 --> 00:14:25.654
specifically is saying,
this is who you are,

163
00:14:25.654 --> 00:14:31.509
but you also have these
additional remotes.

164
00:14:31.509 --> 00:14:37.214
And so if I could generate two or
three more kinda remotes and

165
00:14:37.214 --> 00:14:43.958
say, workshops is the host, and
then this would just kinda fill out.

166
00:14:43.958 --> 00:14:50.692
And then if we go to.

167
00:14:58.796 --> 00:15:03.734
Remember how I said with
the standalone API that

168
00:15:03.734 --> 00:15:08.178
everything it's moving to a component and

169
00:15:08.178 --> 00:15:13.734
more specifically a route centric,
kind of paradigm

170
00:15:13.734 --> 00:15:19.289
is that inside of the workshops
we have a route here for

171
00:15:19.289 --> 00:15:24.368
sessions and
it's importing sessions routes.

172
00:15:24.368 --> 00:15:30.206
So that sessions is coming from
that Webpack config that we saw.

173
00:15:30.206 --> 00:15:33.253
Then what it's doing is,
it's loading it and it's saying, hey,

174
00:15:33.253 --> 00:15:34.546
go get me the remote routes.

175
00:15:35.706 --> 00:15:38.365
Then I gotta figure out
where in the world.

176
00:15:41.039 --> 00:15:42.688
The sessions, I bet it.

177
00:15:44.802 --> 00:15:49.777
So this is kinda interesting,
I actually did not put it in

178
00:15:49.777 --> 00:15:55.490
the school kind of subdirectory,
but anyways, it still works.

179
00:15:55.490 --> 00:15:56.603
It doesn't matter.

180
00:15:56.603 --> 00:15:58.574
So here.

181
00:16:01.446 --> 00:16:03.428
It's exposing the routes.

182
00:16:05.178 --> 00:16:09.343
And so I kinda had to click through,
as I was wrapping my mind around this, and

183
00:16:09.343 --> 00:16:13.507
to see, cuz you have two things that are
totally unrelated in a way that are now

184
00:16:13.507 --> 00:16:15.328
being kinda stitched together.

185
00:16:15.328 --> 00:16:20.715
And it's ultimately happening
first at the webpack level,

186
00:16:20.715 --> 00:16:25.467
but then also on the routes and
you're basically lazy

187
00:16:25.467 --> 00:16:30.338
loading this entire application
is a micro front end.

188
00:16:34.892 --> 00:16:37.023
And then if you go and.

189
00:16:42.179 --> 00:16:44.770
Some routes I'm trying to think if.

190
00:16:47.859 --> 00:16:49.182
Somewhere in here.

191
00:16:52.553 --> 00:16:56.610
That's why, all right.

192
00:16:56.610 --> 00:17:01.613
So it's pointing to remote
entering that's important, so

193
00:17:01.613 --> 00:17:06.714
typically the convention is that,
within an application you

194
00:17:06.714 --> 00:17:14.350
have a remote entry kind of a folder that
has kind of the hook into everything else.

195
00:17:14.350 --> 00:17:20.860
And so, what we have here is
the basic kind of top level route.

196
00:17:20.860 --> 00:17:22.410
And I can just scoot this over.

197
00:17:23.570 --> 00:17:30.257
So, it's saying when you load this,
so in the down here,

198
00:17:30.257 --> 00:17:34.903
so we'll just try to tie this together.

199
00:17:38.380 --> 00:17:42.714
It's hitting routes,
kind of the key here, or sessions,

200
00:17:42.714 --> 00:17:47.135
which is then pointing to the routes,
which is then saying,

201
00:17:47.135 --> 00:17:50.620
when you hit this,
go pull in the entry routes.

202
00:17:52.040 --> 00:17:57.086
And then the entry routes is saying,
kind of the root

203
00:17:57.086 --> 00:18:03.866
route on this is the remote entry
component, drop it in and render it.

204
00:18:06.538 --> 00:18:10.642
What I would also recommend,
at some point,

205
00:18:10.642 --> 00:18:14.746
just kind of clicking
through some of this and

206
00:18:14.746 --> 00:18:19.606
nothing beats a tour of
the application to just kind of

207
00:18:19.606 --> 00:18:23.285
start to figure out what's happening.


WEBVTT

1
00:00:00.000 --> 00:00:04.692
&gt;&gt; Francesca Sadikin: So for my specialty
items, I'm going to group them as well,

2
00:00:04.692 --> 00:00:08.648
and I'm gonna call them
specialty item behavior.

3
00:00:11.645 --> 00:00:14.080
&gt;&gt; Francesca Sadikin: Another callback,
inside of this,

4
00:00:14.080 --> 00:00:18.015
I'm going to create another one for
each particular item.

5
00:00:18.015 --> 00:00:19.552
So I'm going to say this is HB.

6
00:00:21.633 --> 00:00:26.837
And then now we have a condition here.

7
00:00:26.837 --> 00:00:32.095
So age three actually increases
in quality the older it gets.

8
00:00:32.095 --> 00:00:37.135
So I'll call this,
it should increase in quality.

9
00:00:40.482 --> 00:00:45.480
&gt;&gt; Francesca Sadikin: Okay, and this time,
I'm going to create my new gilded rose

10
00:00:45.480 --> 00:00:48.715
shop with a single item instead of foo.

11
00:00:48.715 --> 00:00:54.119
I'm going to use this age three term.

12
00:00:54.119 --> 00:00:59.012
I'm going to have a selling of ten and
a quality of 20.

13
00:00:59.012 --> 00:01:03.723
I'm going to call gilded rose,

14
00:01:03.723 --> 00:01:08.607
update quality, and now I expect

15
00:01:08.607 --> 00:01:13.150
that the first items quality.

16
00:01:13.150 --> 00:01:15.104
Actually let me check the sell in first.

17
00:01:15.104 --> 00:01:18.763
Just making sure that
the behavior is as expected.

18
00:01:18.763 --> 00:01:22.084
So if it's like a regular item,

19
00:01:22.084 --> 00:01:26.512
it's going to just be nine, in this case,

20
00:01:26.512 --> 00:01:31.678
which is right, and
then now I check the quality,

21
00:01:31.678 --> 00:01:37.097
increases in quality, so
it should be 21, okay.

22
00:01:40.071 --> 00:01:44.325
&gt;&gt; Francesca Sadikin: It also says that
the quality of an item is never more than

23
00:01:44.325 --> 00:01:49.666
50, so I'm noticing that this
isn't tied to any particular item,

24
00:01:49.666 --> 00:01:55.030
but it looks like an item that
increments will never be more than 50.

25
00:01:55.030 --> 00:01:56.852
So I'm gonna add that case.

26
00:01:56.852 --> 00:02:00.891
I'll call it, it should never
have a quality more than 50.

27
00:02:00.891 --> 00:02:05.533
So it should never have
a quality more than 50.

28
00:02:08.258 --> 00:02:12.632
&gt;&gt; Francesca Sadikin: So
I'm gonna create my new gilded rose,

29
00:02:12.632 --> 00:02:17.145
shop with a single item called aged Brie.

30
00:02:17.145 --> 00:02:19.384
I have a sell in of ten.

31
00:02:19.384 --> 00:02:24.142
This time I have a quality of 50, so

32
00:02:24.142 --> 00:02:29.360
I'm gonna grab items from gilded rose,

33
00:02:29.360 --> 00:02:34.271
update quality, and now I expect that

34
00:02:34.271 --> 00:02:39.198
the items quality is going to be 50.

35
00:02:39.198 --> 00:02:43.392
So it's never going to go past that.

36
00:02:43.392 --> 00:02:47.629
Okay, so let's see everything's there.

37
00:02:47.629 --> 00:02:51.098
Okay, so let's do the next item.

38
00:02:51.098 --> 00:02:53.914
We have Sulfuras.

39
00:02:53.914 --> 00:03:00.318
So I'm gonna create another
describe block here Sulfuras.

40
00:03:00.318 --> 00:03:04.758
And this one's going to say,
it should never, so

41
00:03:04.758 --> 00:03:11.544
far as being a legendary item, never
has to be sold or decreases in quality.

42
00:03:11.544 --> 00:03:18.671
So I'll just say it should not
change quality or selling.

43
00:03:18.671 --> 00:03:22.433
Should not change quality or selling.

44
00:03:26.353 --> 00:03:30.265
&gt;&gt; Francesca Sadikin: I'm
gonna create my new items.

45
00:03:30.265 --> 00:03:34.829
I'm sorry, [LAUGH] I'm going to
create my new gilded rose shop,

46
00:03:34.829 --> 00:03:36.610
which has a single item.

47
00:03:36.610 --> 00:03:41.118
I'm going to take the name that's
in the requirements field so

48
00:03:41.118 --> 00:03:44.957
first, gonna have a sell in of ten,
quality of 20.

49
00:03:44.957 --> 00:03:50.071
And then I'm gonna grab items
from gilded rose update quality.

50
00:03:52.031 --> 00:03:58.075
&gt;&gt; Francesca Sadikin: And now I expect
that the first items sellIn is going to

51
00:03:58.075 --> 00:04:04.135
be here, so if it doesn't change,
it should be ten.

52
00:04:04.135 --> 00:04:09.503
Except when I click save,
this is failing, right?

53
00:04:09.503 --> 00:04:12.555
We expected ten, but it received nine.

54
00:04:12.555 --> 00:04:16.443
So I think there's something wrong
with the way we're writing our tests.

55
00:04:16.443 --> 00:04:21.821
So when I actually go into the code
I can see very quickly that

56
00:04:21.821 --> 00:04:27.431
actually the name of the test is Sulfuras,
Hand of Ragnaros.

57
00:04:27.431 --> 00:04:30.307
That is actually the full name match.

58
00:04:30.307 --> 00:04:34.143
So I'm gonna grab that, put this in.

59
00:04:34.143 --> 00:04:37.429
Okay, so now, we have the actual test so

60
00:04:37.429 --> 00:04:41.404
I'm gonna rename this describe block,
whoop.

61
00:04:43.238 --> 00:04:45.573
&gt;&gt; Francesca Sadikin: There we go, okay.

62
00:04:45.573 --> 00:04:50.658
So we had checked selling,
let's also check the quality now.

63
00:04:52.226 --> 00:04:55.998
&gt;&gt; Francesca Sadikin: To be 20,
doesn't change.

64
00:04:55.998 --> 00:05:02.993
Perfect, okay,
now we have backstage passes,

65
00:05:02.993 --> 00:05:09.656
so let us create a new describe block for
this.

66
00:05:09.656 --> 00:05:15.089
Okay, so
backstage passes like aged brie increases

67
00:05:15.089 --> 00:05:19.907
in quality as it's sell
in value approaches.

68
00:05:19.907 --> 00:05:26.370
And then it changes how much it
increases by as it gets closer to zero.

69
00:05:26.370 --> 00:05:29.177
But let's handle this one first.

70
00:05:29.177 --> 00:05:34.559
So I'll say it should increase
in quality if it's more

71
00:05:34.559 --> 00:05:39.481
than ten days,
if there are ten days, okay, so.

72
00:05:39.481 --> 00:05:44.731
If it's 11 days or more so
that's what I'll call it,

73
00:05:44.731 --> 00:05:50.552
it should increase in quality
if selling is 11 days or more.

74
00:05:53.343 --> 00:05:58.692
&gt;&gt; Francesca Sadikin: So gonna create my
new gilded rose shop with a single item,

75
00:05:58.692 --> 00:06:03.729
gonna just paste this string
in as the name of the item.

76
00:06:07.080 --> 00:06:09.508
&gt;&gt; Francesca Sadikin: Doesn't
know what to do with that code.

77
00:06:09.508 --> 00:06:15.656
Selling of 11, quality of 20, right?

78
00:06:15.656 --> 00:06:21.985
Cuz we're checking this is the default
case and it has to be 11 days or

79
00:06:21.985 --> 00:06:28.124
more, so I'm going to grab items
from gilded rose update quality.

80
00:06:28.124 --> 00:06:33.437
Let's do our usual check at the selling

81
00:06:33.437 --> 00:06:37.625
is decrementing as expected.

82
00:06:37.625 --> 00:06:41.212
So I expect this to be ten, yeah?

83
00:06:41.212 --> 00:06:44.742
And then I'm now going to check quality.

84
00:06:44.742 --> 00:06:51.959
I expect that to be 21,
except it's failing again.

85
00:06:51.959 --> 00:06:54.857
So it's decremented instead.

86
00:06:54.857 --> 00:06:58.713
So I'm actually gonna go back to
the source code and I saw it when I was

87
00:06:58.713 --> 00:07:02.992
looking at the Sulfuras, that this is
actually the full name of this item.

88
00:07:02.992 --> 00:07:07.224
So I'm just going to copy that,
paste it in here, and

89
00:07:07.224 --> 00:07:10.905
I'll also change
the describe block as well.

90
00:07:10.905 --> 00:07:15.424
Okay, so we have that first case.

91
00:07:15.424 --> 00:07:19.097
The second one is that
the quality increases by two.

92
00:07:19.097 --> 00:07:22.175
When there are ten days or less.

93
00:07:22.175 --> 00:07:26.336
Actually, before I do that,
I actually want to write a test case for

94
00:07:26.336 --> 00:07:29.773
this that the quality of
an item is never more than 50.

95
00:07:29.773 --> 00:07:37.021
So I'm going to actually copy this test
cuz it's going to be very, very similar.

96
00:07:37.021 --> 00:07:41.399
I'm just going to just say,
but never more than 50.

97
00:07:41.399 --> 00:07:45.832
And I'm going to add 50 to the quality.

98
00:07:45.832 --> 00:07:46.737
I'm going to click Save.

99
00:07:46.737 --> 00:07:52.023
I know it's going to fail,
but yes, I've received 50,

100
00:07:52.023 --> 00:07:55.425
so I'm just gonna add that in, okay?

101
00:07:55.425 --> 00:07:57.804
And now we can do the next one.

102
00:08:00.196 --> 00:08:04.536
&gt;&gt; Francesca Sadikin: Quality increases
by two when there are ten days or less.

103
00:08:04.536 --> 00:08:09.591
Really, it's between ten days and
six, right?

104
00:08:09.591 --> 00:08:11.223
If I read that requirement.

105
00:08:11.223 --> 00:08:16.346
So it should increase quality by two

106
00:08:16.346 --> 00:08:22.849
when the selling is between ten days and
six.

107
00:08:26.802 --> 00:08:28.135
&gt;&gt; Francesca Sadikin: Inside of this,

108
00:08:28.135 --> 00:08:33.198
I'm going to create my new gilded
rose shop with a single item.

109
00:08:33.198 --> 00:08:39.956
I'm going to just paste this name.

110
00:08:39.956 --> 00:08:47.987
I'm going to have a selling of
ten this time, quality of 20.

111
00:08:47.987 --> 00:08:49.751
Woop, went too fast.

112
00:08:49.751 --> 00:08:55.628
Const, items equals gilded rose,
update quality,

113
00:08:55.628 --> 00:09:01.071
and now I expect that the items quality,

114
00:09:01.071 --> 00:09:03.851
&gt;&gt; Francesca Sadikin: There is going to

115
00:09:03.851 --> 00:09:10.412
be, let me look 20, so 22, okay.

116
00:09:10.412 --> 00:09:16.380
Same deal here, I'm going to just double
check that even when we increment by two,

117
00:09:16.380 --> 00:09:20.662
it's never gonna be more than 50,
never more than 50.

118
00:09:20.662 --> 00:09:23.424
So I'm gonna change this quality to 50.

119
00:09:23.424 --> 00:09:26.998
It's going to fail,
I'm just gonna let it run, yep.

120
00:09:26.998 --> 00:09:29.554
And then received 50.

121
00:09:29.554 --> 00:09:31.078
There we go.

122
00:09:31.078 --> 00:09:36.296
And then we have a third case.

123
00:09:36.296 --> 00:09:40.918
It increments quality by three
when there are five days or less,

124
00:09:40.918 --> 00:09:44.098
so specifically between five and one days.

125
00:09:44.098 --> 00:09:49.488
So it should increase quality

126
00:09:49.488 --> 00:09:54.446
by three when the selling is

127
00:09:54.446 --> 00:09:59.412
between five days and one.

128
00:09:59.412 --> 00:10:06.136
Here's my callback and
here's my gilded rose shop.

129
00:10:06.136 --> 00:10:09.419
With a single item,
I'm gonna grab that string.

130
00:10:11.688 --> 00:10:16.842
&gt;&gt; Francesca Sadikin: This time,
I'm going have a selling

131
00:10:16.842 --> 00:10:21.007
of five and a quality of 20.

132
00:10:21.007 --> 00:10:25.200
I'm going to create my items and

133
00:10:25.200 --> 00:10:29.244
here's from update quality.

134
00:10:29.244 --> 00:10:35.525
Now I expect that the items quality
is going to be, lemme look at it.

135
00:10:35.525 --> 00:10:41.264
20 increments by three, 23, okay.

136
00:10:41.264 --> 00:10:45.552
As you guys expected,
we're gonna check again that

137
00:10:45.552 --> 00:10:50.143
it's never gonna be more than
50 in this case as well.

138
00:10:52.733 --> 00:10:55.847
There we go, this is going to fail,
I'm gonna let it fail.

139
00:10:55.847 --> 00:10:58.326
Yeah, received 50.

140
00:10:58.326 --> 00:11:01.919
Okay, we're almost done, we have one more.

141
00:11:01.919 --> 00:11:05.876
Quality drops to zero when
has a selling of zero, sorry,

142
00:11:05.876 --> 00:11:09.179
drops to zero when
the selling date has passed.

143
00:11:09.179 --> 00:11:14.063
So I'll call it, it should drop quality

144
00:11:14.063 --> 00:11:18.094
to zero when selling has passed.

145
00:11:20.667 --> 00:11:25.101
&gt;&gt; Francesca Sadikin: So here I'm going
to create my new gilded rose shop.

146
00:11:28.798 --> 00:11:32.764
&gt;&gt; Francesca Sadikin: Drops to
zero after the concert, okay.

147
00:11:32.764 --> 00:11:35.884
With a single item,

148
00:11:35.884 --> 00:11:40.481
I'm gonna grab this string.

149
00:11:40.481 --> 00:11:47.136
This time, I'm going to have a selling
of zero, and then in quality of 20.

150
00:11:47.136 --> 00:11:52.533
I'm going to grab items from gilded rose,
update quality.

151
00:11:52.533 --> 00:11:55.232
And then going to write my assertion now.

152
00:11:55.232 --> 00:12:00.132
So here, the first items
quality is going to be zero.


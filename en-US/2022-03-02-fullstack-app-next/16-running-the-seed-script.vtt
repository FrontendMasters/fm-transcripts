WEBVTT

1
00:00:00.820 --> 00:00:04.000
So now we have all of our artists
that's going to be created.

2
00:00:04.000 --> 00:00:07.483
So what I'm gonna do is I'm just
going to run this right quick,

3
00:00:07.483 --> 00:00:11.257
just to see if it works before we move
on to the other part of the seed.

4
00:00:11.257 --> 00:00:14.962
And now I'm gonna show you what Prisma
studio looks like, so you can actually

5
00:00:14.962 --> 00:00:18.520
explore your database within a visual
app and see what's in there.

6
00:00:18.520 --> 00:00:23.151
So the way to run this is we want
to go to our package.json, and

7
00:00:23.151 --> 00:00:27.158
all the way at the bottom,
on the root of the objects,

8
00:00:27.158 --> 00:00:30.210
we wanna make a new field called prisma.

9
00:00:30.210 --> 00:00:35.263
Yeah, I know, they're so special, they
get their own field in your package.json,

10
00:00:35.263 --> 00:00:39.695
and you want to run seed, and then there's
a specific command for next js and

11
00:00:39.695 --> 00:00:41.932
prisma seed, so you gotta addd that.

12
00:00:48.399 --> 00:00:49.009
I'm gonna copy it.

13
00:00:55.126 --> 00:00:59.706
And basically, what this is gonna do is,
it's literally prisma when it runs

14
00:00:59.706 --> 00:01:03.087
the migrate reset,
which we haven't talked about, but

15
00:01:03.087 --> 00:01:06.740
it's just a migration that
resets the whole database.

16
00:01:06.740 --> 00:01:09.801
It'll automatically run
the prisma seed as well,

17
00:01:09.801 --> 00:01:14.320
you can also just run npx prisma seed and
it'll run this command.

18
00:01:14.320 --> 00:01:19.673
So now that we have that, I'm gonna try to
seed this thing and we'll see what breaks.

19
00:01:19.673 --> 00:01:24.329
If something breaks, then our
schema was just completely off, so

20
00:01:24.329 --> 00:01:26.333
npx prisma db seed, sorry.

21
00:01:27.359 --> 00:01:30.509
So it's gonna attempt
to seed this database.

22
00:01:30.509 --> 00:01:32.948
You can see right there, it says,

23
00:01:32.948 --> 00:01:37.840
the seed command has been executed,
looks like no errors happened.

24
00:01:37.840 --> 00:01:44.800
So everything seems fine, to verify that
I'm gonna type in npx prisma studio.

25
00:01:46.890 --> 00:01:50.174
That's gonna open up the browser and
you can see here's a list of all of

26
00:01:50.174 --> 00:01:52.465
our models, so
we get this nice little app here.

27
00:01:52.465 --> 00:01:56.289
And I'm gonna go look at artists,
you can see it says I have five artists,

28
00:01:56.289 --> 00:01:57.166
there they are.

29
00:01:57.166 --> 00:02:00.388
And each artist has one song,
except for this artist called FSM team,

30
00:02:00.388 --> 00:02:01.379
they have two songs.

31
00:02:01.379 --> 00:02:05.110
I can click on that and
I can see the two songs that they have.

32
00:02:05.110 --> 00:02:07.903
So this is really cool,
I thought this was awesome.

33
00:02:07.903 --> 00:02:10.970
I think every database needs
some type of app like this.

34
00:02:10.970 --> 00:02:14.907
Most of them have something you
gotta download on your computer and

35
00:02:14.907 --> 00:02:18.490
it either cost a lot of money and
it's bad at the same time, or

36
00:02:18.490 --> 00:02:21.040
it's just not useful at all, super slow.

37
00:02:21.040 --> 00:02:23.090
I think the Mongo one was pretty cool.

38
00:02:23.090 --> 00:02:26.630
They had a community edition,
it was actually really cool.

39
00:02:26.630 --> 00:02:28.170
It wasn't that bad.

40
00:02:28.170 --> 00:02:31.110
But yeah, this one's really cool, too.

41
00:02:31.110 --> 00:02:33.826
I think there's actually
a plugin in VS code, too,

42
00:02:33.826 --> 00:02:37.407
that will connect to your database and
show you your stuff in VS code,

43
00:02:37.407 --> 00:02:41.040
but it's just in pure JSON so
hard to search and do things.

44
00:02:41.040 --> 00:02:44.471
But yeah, this one's really cool,
so I like this.

45
00:02:44.471 --> 00:02:46.020
So yeah, there we go, I seed words.

46
00:02:46.020 --> 00:02:47.680
All of our stuff is in there.

47
00:02:47.680 --> 00:02:48.640
Everything's good to go.


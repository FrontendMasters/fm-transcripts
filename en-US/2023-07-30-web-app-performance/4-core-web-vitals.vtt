WEBVTT

1
00:00:00.150 --> 00:00:03.969
Now it's time to talk about something
known as Web Vitals, and in particular,

2
00:00:03.969 --> 00:00:05.480
Core Web Vitals.

3
00:00:05.480 --> 00:00:08.410
So what's the deal with Web Vitals?

4
00:00:09.790 --> 00:00:14.625
It's an effort led by
the Google Chrome team, but

5
00:00:14.625 --> 00:00:18.670
it's open to anyone, to define vitals.

6
00:00:18.670 --> 00:00:23.640
Like, what are the most important
metrics that we wanna focus

7
00:00:23.640 --> 00:00:27.500
on as web developers for web performance.

8
00:00:27.500 --> 00:00:33.370
And they are calculated over the 75th
percentile over mobile and web.

9
00:00:33.370 --> 00:00:38.423
It doesn't matter, but actually,
the idea is to get real user metrics, and

10
00:00:38.423 --> 00:00:43.860
based on real user metrics, Define a set
of rules that might change with time.

11
00:00:43.860 --> 00:00:50.883
In fact, they have been changed a couple
of times for us to create better websites.

12
00:00:50.883 --> 00:00:55.989
So the idea was actually to define a like

13
00:00:55.989 --> 00:01:00.489
common goal for web performance.

14
00:01:00.489 --> 00:01:03.080
Because if not,
it's not clear how fast it's fast.

15
00:01:04.180 --> 00:01:08.660
And today, Core Web Vitals is
actually including three metrics.

16
00:01:08.660 --> 00:01:12.980
One that we have already covered, actually
two, we have already covered two of those.

17
00:01:12.980 --> 00:01:16.757
Largest contentful paint,
that is measuring loading.

18
00:01:16.757 --> 00:01:20.618
First, input delay,
that is measuring interactivity,

19
00:01:20.618 --> 00:01:23.450
how interactive your website feels.

20
00:01:23.450 --> 00:01:28.350
I'm not saying that this is
what will happen in the future.

21
00:01:28.350 --> 00:01:29.980
I will explain that in a second.

22
00:01:29.980 --> 00:01:35.980
And then CLS, cumulative layout shift,
that detects visual stability.

23
00:01:35.980 --> 00:01:39.930
Actually, when you are loading a website
and then the website moves around,

24
00:01:39.930 --> 00:01:43.090
the elements are moving,
because an image appears and then,

25
00:01:43.090 --> 00:01:45.910
you probably have seen this
typically in newspapers.

26
00:01:45.910 --> 00:01:50.088
You are reading the article and
then the article shifts down,

27
00:01:50.088 --> 00:01:52.960
because a large ad appeared at the top.

28
00:01:52.960 --> 00:01:56.644
Well, that's a layout shift and
it's bad for performance.

29
00:01:56.644 --> 00:02:02.080
So, first input delay is the only one
that we're not actually using too much.

30
00:02:02.080 --> 00:02:04.000
And it's probably going to
be replaced by another one.

31
00:02:04.000 --> 00:02:07.570
So after a couple of years of testing it,
we ended up saying,

32
00:02:07.570 --> 00:02:11.630
well, you know what, it doesn't
feel like like the best metric, so

33
00:02:11.630 --> 00:02:15.500
it's probably going to be
replaced by another one.

34
00:02:15.500 --> 00:02:16.467
So, but again,

35
00:02:16.467 --> 00:02:21.305
even if you're setting large content will
paint as something important, again,

36
00:02:21.305 --> 00:02:25.190
the largest contentful pain you
will see in an example in a second.

37
00:02:25.190 --> 00:02:27.250
So let me go directly there.

38
00:02:27.250 --> 00:02:28.450
It checks initial load.

39
00:02:29.550 --> 00:02:34.431
So it's like replacing the idea of
how fast your website is loading,

40
00:02:34.431 --> 00:02:40.570
is at which point the most important part
of the content appears on the screen.

41
00:02:40.570 --> 00:02:44.568
Because it has to do with
the screen it will be

42
00:02:44.568 --> 00:02:48.468
different on different viewpoint sizes.

43
00:02:48.468 --> 00:02:52.868
So if you're using responsive design
based on the width of your screen,

44
00:02:52.868 --> 00:02:57.760
the design of the homepage is different or
the landing page is different.

45
00:02:57.760 --> 00:03:01.045
So it might be different on mobile,
on desktop,

46
00:03:01.045 --> 00:03:04.660
on tablets because the website
is different, okay?

47
00:03:06.130 --> 00:03:08.500
First input delay,
then it checks interactivity.

48
00:03:08.500 --> 00:03:12.849
So at which moment you are releasing
the thread enough to, for

49
00:03:12.849 --> 00:03:15.620
example, interact with the content.

50
00:03:16.730 --> 00:03:20.900
On the visual stability that we don't
want the content to shift around while

51
00:03:20.900 --> 00:03:21.820
the page loads.

52
00:03:23.450 --> 00:03:27.415
So, for example,
we can actually try to see here,

53
00:03:27.415 --> 00:03:32.710
different metrics in which
moments that are happening, okay?

54
00:03:32.710 --> 00:03:38.357
For example, typically when you see
that your content goes to white,

55
00:03:38.357 --> 00:03:40.470
it's time to first bite.

56
00:03:41.750 --> 00:03:42.780
How do you know that?

57
00:03:42.780 --> 00:03:46.470
For example, you're on a website,
google.com, okay?

58
00:03:46.470 --> 00:03:51.655
And then you click, you search for
the best library for web developers and

59
00:03:51.655 --> 00:03:55.840
frontendmasters appears,
and you click on the link.

60
00:03:55.840 --> 00:04:00.166
When you click on the link If it
doesn't go to white immediately,

61
00:04:00.166 --> 00:04:04.504
at least not now, it was in the 90s,
your see at Google, okay.

62
00:04:04.504 --> 00:04:08.670
For a couple of milliseconds or
seconds and after a while, you see white.

63
00:04:09.670 --> 00:04:15.593
When you see white is when
time to first byte has fire.

64
00:04:15.593 --> 00:04:19.430
So is it depends on the browser actually,
but simply fine.

65
00:04:19.430 --> 00:04:21.380
Let's say that that's the moment.

66
00:04:21.380 --> 00:04:25.580
Then you see in this case a background.

67
00:04:25.580 --> 00:04:30.200
That's that great background
that's first paint.

68
00:04:30.200 --> 00:04:32.729
So the browser paint something.

69
00:04:32.729 --> 00:04:33.790
Is it useful?

70
00:04:35.340 --> 00:04:39.370
No, so it's just a gradient, okay?

71
00:04:39.370 --> 00:04:44.129
So it's not useful for our brain,
remember, we're doing this for

72
00:04:44.129 --> 00:04:48.387
the user and our brain says,
yeah, something is there, but

73
00:04:48.387 --> 00:04:51.730
it's like I don't feel
the content is ready.

74
00:04:51.730 --> 00:04:54.880
So I don't feel that
the website was loaded.

75
00:04:54.880 --> 00:04:57.808
Then something appear, okay.

76
00:04:57.808 --> 00:05:01.130
In this case, the search box.

77
00:05:01.130 --> 00:05:04.259
So this is known as content.

78
00:05:04.259 --> 00:05:08.810
Is it the most important content?

79
00:05:08.810 --> 00:05:11.660
Probably not, but
it's still something that my brain parses.

80
00:05:12.790 --> 00:05:15.540
So we are talking about
brain parsing right now.

81
00:05:16.610 --> 00:05:19.110
It's there, but it's not really,
really important.

82
00:05:19.110 --> 00:05:22.990
First, now, if you look at the end here,
at the end,

83
00:05:22.990 --> 00:05:27.390
we see which one can be our
largest contentful pane.

84
00:05:27.390 --> 00:05:31.810
That sometimes we have candidates because
we don't know which one is the largest.

85
00:05:31.810 --> 00:05:36.600
But probably it has to do with
the results that we are looking for.

86
00:05:36.600 --> 00:05:38.405
So that's why we're expecting, okay?

87
00:05:38.405 --> 00:05:40.650
I will show you another
example to see this.

88
00:05:40.650 --> 00:05:43.490
But actually,
the browser will actually do this for us.

89
00:05:43.490 --> 00:05:45.830
It will say, okay,
this is the largest contentful pane.

90
00:05:45.830 --> 00:05:49.810
I will explain how to see
that in action in a second.

91
00:05:49.810 --> 00:05:53.906
But here you have an example of
first contentful paint that we

92
00:05:53.906 --> 00:05:59.000
haven't mentioned a lot because
it's not really so important.

93
00:05:59.000 --> 00:06:01.750
And large has contentful paint
that is the one that is important.

94
00:06:04.150 --> 00:06:08.620
Contentful is actually an element
the box on the page that has content,

95
00:06:08.620 --> 00:06:10.940
it can be text, or it can be an image.

96
00:06:12.360 --> 00:06:17.785
And while the page loads, the browser
calculates different candidates for

97
00:06:17.785 --> 00:06:19.830
largest contentful paint.

98
00:06:19.830 --> 00:06:23.822
For example, for
a while it was this one, that title, but

99
00:06:23.822 --> 00:06:26.360
at the end it was actually the image.

100
00:06:27.360 --> 00:06:32.060
So this is largest contentful paint,
and when that image is render is fire.

101
00:06:33.370 --> 00:06:37.642
Again, what fire means nothing is for
analytics only, but

102
00:06:37.642 --> 00:06:40.640
it fires in our brain, that's the idea.

103
00:06:40.640 --> 00:06:44.844
The idea of largest contentful pain
is firing something in our brain,

104
00:06:44.844 --> 00:06:49.630
user's brain saying, the most important
content is there on the screen.

105
00:06:49.630 --> 00:06:52.050
So I can start reading.

106
00:06:52.050 --> 00:06:53.300
I can start parsing this.

107
00:06:55.050 --> 00:06:55.700
Yes.

108
00:06:55.700 --> 00:06:58.263
&gt;&gt; Is it based on geometry
because the image is

109
00:06:58.263 --> 00:06:59.012
larger-
&gt;&gt; Yeah.

110
00:06:59.012 --> 00:07:01.526
&gt;&gt; Than the-
&gt;&gt; It's geometry, it's larger,

111
00:07:01.526 --> 00:07:04.640
it's about geometry of
the element on the screen.

112
00:07:05.840 --> 00:07:10.920
In the case of, I mean,
it's about rendering, not about CSS.

113
00:07:10.920 --> 00:07:13.015
So I know if you have
an image without padding,

114
00:07:13.015 --> 00:07:15.230
it's not taking the padding
in consideration.

115
00:07:15.230 --> 00:07:17.520
It's about the content itself, right?

116
00:07:17.520 --> 00:07:21.620
Not about the HTML element and
the CSS inside.

117
00:07:21.620 --> 00:07:24.570
It's not the box of HTML.

118
00:07:24.570 --> 00:07:28.970
It's what you see on the screen actually,
okay?

119
00:07:28.970 --> 00:07:29.830
Yeah.

120
00:07:29.830 --> 00:07:32.359
&gt;&gt; If you put like a skeleton
like using suspense or

121
00:07:32.359 --> 00:07:36.406
like a loading sort of thing like that I
would assume that that would like keep

122
00:07:36.406 --> 00:07:40.202
people engaged is there like a percentage
for that that is effective for

123
00:07:40.202 --> 00:07:43.771
keeping those people engaged to
stay on that while it's loading?

124
00:07:43.771 --> 00:07:47.630
&gt;&gt; Well,
let me answer first with something.

125
00:07:47.630 --> 00:07:48.798
Never assume.

126
00:07:48.798 --> 00:07:51.256
Tested.

127
00:07:51.256 --> 00:07:54.970
So again, don't trust anyone.

128
00:07:54.970 --> 00:07:56.090
That's first rule.

129
00:07:56.090 --> 00:07:58.450
Second rule, don't assume.

130
00:07:58.450 --> 00:08:02.641
In fact, it's old at this point.

131
00:08:02.641 --> 00:08:05.530
I can't even Google that special.

132
00:08:07.200 --> 00:08:08.980
If it's still there,
let me see if it's there.

133
00:08:08.980 --> 00:08:11.680
Avoid the spinner,
that's the one I was looking for.

134
00:08:11.680 --> 00:08:16.130
It's from 10 years ago, and
he was saying, avoid the spinner.

135
00:08:16.130 --> 00:08:17.970
That was you were suggesting, okay?

136
00:08:17.970 --> 00:08:19.570
So he was saying, don't do this.

137
00:08:20.600 --> 00:08:21.290
Why?

138
00:08:21.290 --> 00:08:22.960
Because if you do that,

139
00:08:22.960 --> 00:08:27.980
you're creating a big sign in your
website saying that you're as low.

140
00:08:29.100 --> 00:08:35.160
So, yeah, but that's the Gmail case
actually, remember when you saw the Gmail?

141
00:08:35.160 --> 00:08:38.920
What happens when you do that
is the speed index goes wrong.

142
00:08:38.920 --> 00:08:43.048
You get the worst speed index because
you see just the loading spinner for

143
00:08:43.048 --> 00:08:46.320
lot of time, and
then everything is render.

144
00:08:46.320 --> 00:08:51.293
So, sometimes you don't have any other
option, I mean, you're loading an Nestle

145
00:08:51.293 --> 00:08:55.229
movie and the movie is not coming,
well, you have to put loading.

146
00:08:55.229 --> 00:08:59.684
Okay but four standard web apps and
website based or

147
00:08:59.684 --> 00:09:05.382
content based websites,
it's a good idea to avoid the spinner,

148
00:09:05.382 --> 00:09:10.790
and again, for that you need to
just test this with your user.

149
00:09:10.790 --> 00:09:12.850
You can do AB testing.

150
00:09:12.850 --> 00:09:16.753
And in this case, the idea is to start
rendering parts of the content or

151
00:09:16.753 --> 00:09:21.317
placeholders and you can see these a lot
in social networks, TikTok, Facebook,

152
00:09:21.317 --> 00:09:23.060
Instagram.

153
00:09:23.060 --> 00:09:28.238
If he's taking time you actually get
to see this kind of placeholders

154
00:09:28.238 --> 00:09:33.770
that it feels sometimes it's an animation,
it feels like we are typing,

155
00:09:33.770 --> 00:09:37.810
we have some little guys
inside the computer typing.

156
00:09:37.810 --> 00:09:42.847
So it's an effect that it's not
really a loading spinner but

157
00:09:42.847 --> 00:09:49.940
it's kind of giving you the effect,
it's tricking your brain to get you there.

158
00:09:49.940 --> 00:09:54.080
So we need to remember why
are we doing performance?

159
00:09:54.080 --> 00:09:57.730
We are doing performance at the end
because we are losing money, okay?

160
00:09:57.730 --> 00:09:59.020
Why are we losing money?

161
00:09:59.020 --> 00:10:03.130
Because our users are happy
about the performance.

162
00:10:03.130 --> 00:10:06.325
Users are not sometimes
conscious about that, okay.

163
00:10:06.325 --> 00:10:10.770
So it's not like, this website is slow,
let's get out of here.

164
00:10:10.770 --> 00:10:14.307
You click on a link, it doesn't work, you
don't feel it's what you are looking for,

165
00:10:14.307 --> 00:10:15.520
you get out.

166
00:10:15.520 --> 00:10:18.220
So that's the moment that
you are losing the user.

167
00:10:18.220 --> 00:10:24.300
So because we are losing the user, we care
a lot about perception, user's perception.

168
00:10:24.300 --> 00:10:28.538
So we are doing web performance because
of user's perception that that leads

169
00:10:28.538 --> 00:10:30.242
to better conversion, okay.

170
00:10:30.242 --> 00:10:32.990
So, that's why we're doing this.

171
00:10:32.990 --> 00:10:42.230
So that's why tricking the user
sometimes makes a better result.

172
00:10:42.230 --> 00:10:44.030
But again, don't trust Luke.

173
00:10:45.200 --> 00:10:46.690
Try it.

174
00:10:46.690 --> 00:10:48.820
So, it depends on the case.

175
00:10:48.820 --> 00:10:50.190
It depends on what you're doing.

176
00:10:50.190 --> 00:10:56.250
What's your brochure, but just remember
that we are doing it for the user.

177
00:10:56.250 --> 00:11:00.420
Okay, so the answer will be how
the user will perceive this?

178
00:11:00.420 --> 00:11:04.882
&gt;&gt; See maybe more likely to get
better results if it's not a spinner,

179
00:11:04.882 --> 00:11:08.640
necessarily, but
an engaging animation of some sort.

180
00:11:08.640 --> 00:11:12.478
&gt;&gt; Something, yeah,
something that the trick is to,

181
00:11:12.478 --> 00:11:18.690
that it feels like it's loading,
it's generating, it's coming, it's there.

182
00:11:18.690 --> 00:11:20.360
&gt;&gt; They're using their time well.

183
00:11:20.360 --> 00:11:22.840
&gt;&gt; Yeah, but
it's something that you can try.

184
00:11:22.840 --> 00:11:25.770
So you can test,
you can do A-B testing over that,

185
00:11:25.770 --> 00:11:31.020
over your users that might be different
to other users from other websites.

186
00:11:31.020 --> 00:11:32.890
Maybe your community's different.

187
00:11:32.890 --> 00:11:38.295
So it's tried, okay, measuring
&gt;&gt; Facebook

188
00:11:38.295 --> 00:11:42.760
uses that kind of pulsing
content outline thing.

189
00:11:42.760 --> 00:11:44.551
You've seen that
&gt;&gt; Yeah, like a placeholder.

190
00:11:44.551 --> 00:11:48.870
And so if they have something, well,
they don't have that one here.

191
00:11:48.870 --> 00:11:52.380
But yeah, it's like it's like you
feel like a paragraph of text, but

192
00:11:52.380 --> 00:11:53.580
it's not really text.

193
00:11:54.600 --> 00:11:58.760
That's kind of, yeah,
an animation that it's really.

194
00:11:59.940 --> 00:12:00.960
It's it's more animation.

195
00:12:00.960 --> 00:12:05.794
It's not really huge but
&gt;&gt; Then I've seen those, but

196
00:12:05.794 --> 00:12:10.471
they make they take an image and
they put they make like a placeholder,

197
00:12:10.471 --> 00:12:13.502
SVG that's kind of
the outline of the image.

198
00:12:13.502 --> 00:12:15.860
They show that first, and
then they show the image.

199
00:12:15.860 --> 00:12:21.200
&gt;&gt; Yeah, I remember one trick
that was to take images.

200
00:12:21.200 --> 00:12:25.904
So if you have an image, I mean for
a newspaper, I'm not sure if I have one,

201
00:12:25.904 --> 00:12:30.313
let's say this one, and for that image,
but actually after a while,

202
00:12:30.313 --> 00:12:35.586
Newspapers stopped doing that because they
realized that they had another issue.

203
00:12:35.586 --> 00:12:40.672
But they were taking the image
server-side and resizing the image to

204
00:12:40.672 --> 00:12:46.119
really really small, such as 16 by
16 pixels, really really small.

205
00:12:46.119 --> 00:12:50.323
They weren't converting that
into a base 64 and inline image.

206
00:12:50.323 --> 00:12:54.257
And then they were in-lining
in the IMG tile, just a very,

207
00:12:54.257 --> 00:12:57.540
very compressed version of that image.

208
00:12:57.540 --> 00:13:00.763
So then when you load the page,
initially, you see a very,

209
00:13:00.763 --> 00:13:02.700
very low resolution of the image.

210
00:13:02.700 --> 00:13:08.180
It's more like a couple of colors,
like large pixels with colors.

211
00:13:08.180 --> 00:13:12.480
But and then after a while,
you'll replace that with a real image.

212
00:13:12.480 --> 00:13:14.462
And that was a trick, okay, for

213
00:13:14.462 --> 00:13:20.260
users perception that that image was
loading even if it was, it wasn't true.

214
00:13:20.260 --> 00:13:21.310
You weren't loading the image.

215
00:13:22.520 --> 00:13:23.770
Anyway, try it.

216
00:13:23.770 --> 00:13:30.370
So try different techniques, test them on
the real world and see which works best.

217
00:13:30.370 --> 00:13:32.440
There are more metrics in Web Vitals.

218
00:13:32.440 --> 00:13:36.000
For example,
there is one that today is experimental.

219
00:13:36.000 --> 00:13:40.731
That's the one that I think is
going to replace the interactivity

220
00:13:40.731 --> 00:13:43.320
part is interaction to next paint.

221
00:13:44.530 --> 00:13:48.368
This metric will try to
measure responsiveness based

222
00:13:48.368 --> 00:13:52.898
on a more complex algorithm, but
now Chrome is supporting it.

223
00:13:52.898 --> 00:13:57.890
From Chrome, I think it's 108,
a supported interaction to next paint.

224
00:13:57.890 --> 00:14:01.916
So have in mind that Web Vitals,
this effort,

225
00:14:01.916 --> 00:14:07.090
community effort to define
metrics will change over time.

226
00:14:07.090 --> 00:14:10.244
So every once in a while they sit down and
see, okay,

227
00:14:10.244 --> 00:14:13.460
let's see the metrics
that we have defined.

228
00:14:13.460 --> 00:14:17.389
If they're still good or
not let's gather real user metrics and

229
00:14:17.389 --> 00:14:21.110
see if that's the right metric or
maybe we have to change them


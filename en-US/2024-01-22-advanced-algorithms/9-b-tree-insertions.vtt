WEBVTT

1
00:00:00.260 --> 00:00:05.419
We now have all the beautiful parts here,
and now we're gonna go through and

2
00:00:05.419 --> 00:00:09.680
we should start inserting and
create a beautiful b-tree.

3
00:00:09.680 --> 00:00:10.410
Is everyone ready?

4
00:00:11.930 --> 00:00:13.290
All right, fantastic.

5
00:00:13.290 --> 00:00:14.990
So let's start by inserting 10.

6
00:00:14.990 --> 00:00:17.550
All right, we got a 10.

7
00:00:17.550 --> 00:00:19.539
We're looking good, okay.

8
00:00:19.539 --> 00:00:21.529
We're looking much better already,
aren't we?

9
00:00:21.529 --> 00:00:22.299
No, we're looking the same.

10
00:00:22.299 --> 00:00:23.599
Okay, it was the same thing last time.

11
00:00:23.599 --> 00:00:24.559
Come on people.

12
00:00:24.559 --> 00:00:25.839
All right, let's do number 4.

13
00:00:25.839 --> 00:00:27.419
Let's do, sorry 4, 20.

14
00:00:27.419 --> 00:00:29.465
We're gonna do 4, 20, what?

15
00:00:29.465 --> 00:00:31.868
We're gonna do 20 again, we inserted in.

16
00:00:31.868 --> 00:00:33.479
Are we looking better?

17
00:00:33.479 --> 00:00:34.939
No, it's the same thing, right?

18
00:00:34.939 --> 00:00:38.408
Our order is 5, which means we can
have a maximum of four keys, so

19
00:00:38.408 --> 00:00:40.094
keep that in your brain.

20
00:00:40.094 --> 00:00:41.518
Now, let's do 30.

21
00:00:41.518 --> 00:00:43.444
30 goes in, awesome.

22
00:00:43.444 --> 00:00:44.288
Let's do 40.

23
00:00:44.288 --> 00:00:45.884
40 goes in, awesome.

24
00:00:45.884 --> 00:00:48.454
Let's do 50, shoot.

25
00:00:48.454 --> 00:00:49.144
What do we do here?

26
00:00:49.144 --> 00:00:54.484
50 can't go in, the rules,
can't break the rules.

27
00:00:54.484 --> 00:00:56.004
Anybody know?

28
00:00:56.004 --> 00:00:57.594
&gt;&gt; Make it a child.

29
00:00:57.594 --> 00:00:58.382
&gt;&gt; We make it a child.

30
00:00:58.382 --> 00:01:01.660
No, remember the tree grows upwards, okay?

31
00:01:01.660 --> 00:01:03.467
So this is where things get real wild.

32
00:01:03.467 --> 00:01:06.625
I'm gonna go like this and
I'm gonna draw this and

33
00:01:06.625 --> 00:01:08.961
then I'm gonna take out the median.

34
00:01:08.961 --> 00:01:14.736
If we happen to have a tree in which only
has, say like if we were to do an order 4,

35
00:01:14.736 --> 00:01:20.545
we would have something that would
look like this, 10, 20, 30, 40.

36
00:01:20.545 --> 00:01:24.363
And that would be our max where we
have to do something and split it off,

37
00:01:24.363 --> 00:01:27.881
which means that we'd either have
to be left bias or right bias.

38
00:01:27.881 --> 00:01:30.431
Meaning that we have more keys
on one side than the other, but

39
00:01:30.431 --> 00:01:33.723
since we're doing an order 5, we have
the same number of keys on both sides.

40
00:01:33.723 --> 00:01:36.086
And you'll notice that there's
two keys on each side,

41
00:01:36.086 --> 00:01:37.504
which happens to be what number?

42
00:01:37.504 --> 00:01:39.288
The minimum required number.

43
00:01:39.288 --> 00:01:41.478
So we know we can create
nodes at this point.

44
00:01:41.478 --> 00:01:44.228
So, we've now inserted 50.

45
00:01:44.228 --> 00:01:46.378
30 goes upwards.

46
00:01:46.378 --> 00:01:51.358
30, it's now the root, and I don't know
why I rolled the tongue on that one.

47
00:01:51.358 --> 00:01:52.968
It just felt right in the moment.

48
00:01:52.968 --> 00:01:56.068
That means this side, this side,
we now have this tree right here.

49
00:01:56.068 --> 00:01:59.109
We are growing upwards, okay.

50
00:01:59.109 --> 00:02:00.629
How fantastic is this?

51
00:02:00.629 --> 00:02:01.899
So let's insert another number.

52
00:02:01.899 --> 00:02:04.369
Let's insert 69, nice.

53
00:02:04.369 --> 00:02:06.829
We're gonna go 69, greater than, 69.

54
00:02:06.829 --> 00:02:07.739
Yes, right here.

55
00:02:07.739 --> 00:02:10.109
Get in there, awesome.

56
00:02:10.109 --> 00:02:12.109
Now we're gonna do 70 again.

57
00:02:12.109 --> 00:02:14.349
We're gonna go all the way out to here.

58
00:02:15.369 --> 00:02:19.489
Now if we were to insert one more,
something's gonna happen, right?

59
00:02:19.489 --> 00:02:20.229
Well, let's do it.

60
00:02:20.229 --> 00:02:22.179
Well, let's just say
we're gonna insert 71.

61
00:02:22.179 --> 00:02:25.589
So now we hit the situation,
we need to do something here.

62
00:02:25.589 --> 00:02:27.459
We're gonna do what we did last time.

63
00:02:27.459 --> 00:02:29.849
We're going to split and promote.

64
00:02:29.849 --> 00:02:36.339
So 69, put it up here,
create two subtrees, and add another one.

65
00:02:36.339 --> 00:02:38.049
So how does that work?

66
00:02:38.049 --> 00:02:42.167
Well remember, the 69 was in-between,
which means that everything on this side

67
00:02:42.167 --> 00:02:45.125
was less than, which means that
if it shares these two keys,

68
00:02:45.125 --> 00:02:47.735
it will be able to maintain
the property of distinct,

69
00:02:47.735 --> 00:02:50.689
the most important part of
the entire course so far.

70
00:02:50.689 --> 00:02:54.209
So therefore we are able to maintain that,
and on this side, we still maintain it cuz

71
00:02:54.209 --> 00:02:57.852
it's dead, it's on the Y side, it's on the
greater side, so it actually works out.

72
00:02:57.852 --> 00:03:02.802
And so you just keep doing this over and
over and over and over again.

73
00:03:02.802 --> 00:03:03.752
It's just, that's it.

74
00:03:03.752 --> 00:03:04.462
That's insertion.

75
00:03:04.462 --> 00:03:06.012
And look at it, it's maintained order,

76
00:03:06.012 --> 00:03:09.072
it's not too complicated,
it's actually a really simple insertion.

77
00:03:09.072 --> 00:03:11.482
I'm shocked at how easy
it is to grow the tree.

78
00:03:13.122 --> 00:03:15.236
The shrinking of the tree
on the other hand,

79
00:03:15.236 --> 00:03:17.248
is a little bit more complicated, okay?

80
00:03:17.248 --> 00:03:22.250
Wait, first off,
is everyone tracking with insertion?

81
00:03:22.250 --> 00:03:22.790
&gt;&gt; Yeah.

82
00:03:22.790 --> 00:03:24.200
&gt;&gt; Good,
cuz we should actually keep on going.

83
00:03:24.200 --> 00:03:25.960
You know why we should keep on going?

84
00:03:25.960 --> 00:03:28.480
Cuz I realized something really important.

85
00:03:29.550 --> 00:03:32.590
What happens if we keep going to
the point where we need to expand this?

86
00:03:32.590 --> 00:03:33.540
Have we seen this?

87
00:03:33.540 --> 00:03:34.870
How do we divide the children out?

88
00:03:34.870 --> 00:03:36.240
How do we do all that?

89
00:03:36.240 --> 00:03:38.720
I wanna make sure everyone's
feeling ready, excited,

90
00:03:38.720 --> 00:03:40.072
they wanna know how to do that.

91
00:03:40.072 --> 00:03:44.606
So let's just keep on going and
get it all the way to that spot to happen.

92
00:03:44.606 --> 00:03:47.576
So I'm just gonna just erase all that for
a quick second, and

93
00:03:47.576 --> 00:03:50.093
let's go to order 4 cuz
it's a little bit easier.

94
00:03:50.093 --> 00:03:54.695
So that means our key minimum is gonna go
to 1, our child minimum is gonna go to 2,

95
00:03:54.695 --> 00:03:59.025
our key max is gonna go to 3, and
our child max is gonna go to 4, right?

96
00:03:59.025 --> 00:04:00.695
Everyone's tracking, awesome.

97
00:04:00.695 --> 00:04:01.615
So let's do that.

98
00:04:01.615 --> 00:04:04.273
I'm gonna reinsert these so
we can just kinda grow this tree quickly.

99
00:04:04.273 --> 00:04:09.207
So that means we're gonna go 10,
20, 30, we just hit our key max.

100
00:04:09.207 --> 00:04:13.882
We do 40, promote, I'm gonna do left
biasing meaning that I want my left

101
00:04:13.882 --> 00:04:16.194
side to be larger than my right side.

102
00:04:16.194 --> 00:04:19.584
So this will become a tree,
this will become a tree,

103
00:04:19.584 --> 00:04:22.990
30 will be right there,
goes upwards, awesome.

104
00:04:22.990 --> 00:04:29.475
So now let's insert 50, 69, nice, 50, 69.

105
00:04:29.475 --> 00:04:32.250
And now, if we insert 70,
we have to do the exact same thing.

106
00:04:32.250 --> 00:04:33.688
Again, we've already covered this.

107
00:04:33.688 --> 00:04:38.518
Again, left bias, 69 goes up,
links are now right here, and

108
00:04:38.518 --> 00:04:41.245
we complete the list right here.

109
00:04:41.245 --> 00:04:45.099
Again, let's insert some other ones,
let's do 5 and 3.

110
00:04:45.099 --> 00:04:49.142
So we insert 5 and then let's do 3.

111
00:04:49.142 --> 00:04:50.449
3 breaks the rule.

112
00:04:50.449 --> 00:04:52.139
Again, we do the exact same thing.

113
00:04:52.139 --> 00:04:55.125
10 goes up, up to here.

114
00:04:57.556 --> 00:05:01.522
It works out because we knew everything on
the other side of 10 was larger than 10,

115
00:05:01.522 --> 00:05:04.330
and everything on this side
of 30 was smaller than 30, so

116
00:05:04.330 --> 00:05:06.381
this actually keeps on working out.

117
00:05:06.381 --> 00:05:08.021
We do this, now we're looking good.

118
00:05:08.021 --> 00:05:12.352
So now let's just do one last item cuz
the moment we do this one last item,

119
00:05:12.352 --> 00:05:14.511
we will break it at a larger level.

120
00:05:14.511 --> 00:05:16.758
Okay, so let's do a 2.

121
00:05:16.758 --> 00:05:18.461
Man, here we go.

122
00:05:18.461 --> 00:05:21.802
We're gonna insert A 1,
so 1 gets inserted, bam,

123
00:05:21.802 --> 00:05:23.819
we just do the exact same thing.

124
00:05:23.819 --> 00:05:25.869
Don't be clever, okay?

125
00:05:25.869 --> 00:05:27.309
Never be clever with algorithms.

126
00:05:27.309 --> 00:05:29.749
Just be clever enough with algorithms.

127
00:05:29.749 --> 00:05:31.999
All right, so, again, left bias.

128
00:05:33.609 --> 00:05:35.819
Put that 3 up here.

129
00:05:35.819 --> 00:05:36.699
I believe that was the one.

130
00:05:36.699 --> 00:05:37.689
It was a 4 or 3?

131
00:05:37.689 --> 00:05:38.818
It was a 3.
It was a 3.

132
00:05:38.818 --> 00:05:44.204
All right, so now we have that,
no, this one is now in violation.

133
00:05:44.204 --> 00:05:46.047
What do we do?

134
00:05:46.047 --> 00:05:47.604
&gt;&gt; We go another level up.

135
00:05:47.604 --> 00:05:48.744
&gt;&gt; Boom, we go another level up.

136
00:05:48.744 --> 00:05:51.600
So what I'm gonna do is I'm gonna
just erase all of that, and

137
00:05:51.600 --> 00:05:52.844
I'm gonna go like this.

138
00:05:52.844 --> 00:05:56.486
A, B, C, D, E.

139
00:05:56.486 --> 00:05:58.849
Okay, we're just gonna
put them as letters,

140
00:05:58.849 --> 00:06:01.951
cuz sometimes it's easier just
to look at something small.

141
00:06:01.951 --> 00:06:04.110
Actually, hold on,
let me just first move everything down.

142
00:06:04.110 --> 00:06:07.432
Cuz I realize I'm just running into stuff.

143
00:06:07.432 --> 00:06:10.078
All right, so
we're currently violating at this level.

144
00:06:10.078 --> 00:06:16.839
Everyone has children A,
B, I like X, Y, and Z.

145
00:06:16.839 --> 00:06:19.515
I didn't mean to rhyme but
it was fantastic that it worked out.

146
00:06:19.515 --> 00:06:22.565
So we need to simply break this and
do it again.

147
00:06:22.565 --> 00:06:27.273
So left bias, take 30,

148
00:06:27.273 --> 00:06:30.483
put 30 up here.

149
00:06:30.483 --> 00:06:33.258
So we've maintained
the properties right here,

150
00:06:33.258 --> 00:06:35.885
but this is all kind of goofy potentially.

151
00:06:35.885 --> 00:06:38.087
I just happen to actually
draw this really,

152
00:06:38.087 --> 00:06:41.592
really nicely such that it maintained
all the properties, right?

153
00:06:41.592 --> 00:06:47.172
Cuz this would be greater than 10 and
less than 30.

154
00:06:47.172 --> 00:06:49.583
And so that link maintains.

155
00:06:49.583 --> 00:06:50.772
This link maintains.

156
00:06:50.772 --> 00:06:52.092
This link maintains.

157
00:06:52.092 --> 00:06:53.022
This one maintains.

158
00:06:53.022 --> 00:06:54.212
This one maintains.

159
00:06:54.212 --> 00:06:57.722
And so that would be the growing up and
it just keeps on going.

160
00:06:57.722 --> 00:07:01.291
You don't have to do too much other
than you have to know how to move these

161
00:07:01.291 --> 00:07:02.136
things around.

162
00:07:02.136 --> 00:07:04.838
Feels good, everyone's excited?

163
00:07:04.838 --> 00:07:08.354
Okay, so that's B tree insertion,
very fun.

164
00:07:08.354 --> 00:07:11.080
I don't know, I think it's great times.

165
00:07:11.080 --> 00:07:12.931
All right, get rid of all this stuff.


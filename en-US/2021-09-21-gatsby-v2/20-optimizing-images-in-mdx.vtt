WEBVTT

1
00:00:00.400 --> 00:00:06.680
If we wanna use the static images,
like what if we wanna do this in MDX?

2
00:00:06.680 --> 00:00:11.734
Well, fortunately,
MDX is so kind of central,

3
00:00:11.734 --> 00:00:16.928
that gatsby just kind of
built this into the flow.

4
00:00:16.928 --> 00:00:18.650
They'll automatically do this for us.

5
00:00:18.650 --> 00:00:20.100
We don't have to do anything at all.

6
00:00:20.100 --> 00:00:24.660
So we could use a static image,
right, and that would be fine.

7
00:00:24.660 --> 00:00:26.900
That's a completely
acceptable thing to do.

8
00:00:26.900 --> 00:00:31.398
And if we wanted to do that,
we would be able to, let's say,

9
00:00:31.398 --> 00:00:37.555
open up our first blog,
and we can import, Boy,

10
00:00:37.555 --> 00:00:43.303
I can't spell it, import,
static image from gatsby plugin image.

11
00:00:43.303 --> 00:00:46.602
And then down here, I can just use it.

12
00:00:53.193 --> 00:00:54.240
Right?
There it is.

13
00:00:54.240 --> 00:00:56.290
We've now made a blog.

14
00:00:56.290 --> 00:01:00.540
But I don't even wanna have to do that,
I wanna make it so much easier.

15
00:01:00.540 --> 00:01:06.620
So instead, I want to be able to
import my images, like markdown.

16
00:01:06.620 --> 00:01:09.945
So I want to be able to say,
my image, and like,

17
00:01:15.191 --> 00:01:19.536
Images, smashburger.

18
00:01:23.940 --> 00:01:25.717
Nope, I got my path wrong.

19
00:01:29.798 --> 00:01:32.250
And I got my path wrong because
we haven't configured this yet.

20
00:01:32.250 --> 00:01:37.055
So, and this is where it starts, like
markdown, I would expect to just work but

21
00:01:37.055 --> 00:01:42.007
it's not actually relative because of the
way that these end up moving, and these

22
00:01:42.007 --> 00:01:47.280
end up becoming static, and so there's
a little bit of like rigmarole there.

23
00:01:47.280 --> 00:01:52.234
So to work around that,
what we're gonna do is we are going to

24
00:01:52.234 --> 00:01:56.550
install a plugin called
gatsby-remark-images.

25
00:01:56.550 --> 00:02:01.750
So remark is a library for
transforming markdown.

26
00:02:01.750 --> 00:02:04.884
Without getting too deep into it,

27
00:02:04.884 --> 00:02:10.830
it can break remark into what's
called an abstract syntax tree,

28
00:02:10.830 --> 00:02:17.060
which is just a JSON representation
of what a markdown file is.

29
00:02:17.060 --> 00:02:20.966
And then because it's a predictable
representation of that tree,

30
00:02:20.966 --> 00:02:24.540
we can change stuff in it without
breaking the markdown file.

31
00:02:24.540 --> 00:02:30.066
So what the remark images plugin lets
us do is find images in markdown,

32
00:02:30.066 --> 00:02:35.930
turn them into transformed gatsby images,
and replace them in place.

33
00:02:35.930 --> 00:02:38.900
So on the backend, it does a bunch.

34
00:02:38.900 --> 00:02:41.190
On our end, we install this plugin and
we're done.

35
00:02:41.190 --> 00:02:44.460
So let's get into the gatsby config.

36
00:02:44.460 --> 00:02:46.200
And we're going to install
this in two places.

37
00:02:46.200 --> 00:02:53.604
First, we are going to install it,
let's put it, where's MDX?

38
00:02:53.604 --> 00:02:59.675
We're gonna put it right above MDX,
gatsby remark images.

39
00:02:59.675 --> 00:03:05.330
And then inside,
we're also going to configure gatsby

40
00:03:05.330 --> 00:03:12.795
remark plugins because we want MDX
to run this internally as well.

41
00:03:12.795 --> 00:03:21.232
So, we are going to, let's see gatsby
remark plugins is an array and

42
00:03:21.232 --> 00:03:27.062
we're going to resolve
gatsby remark images.

43
00:03:27.062 --> 00:03:32.341
And I wanna set as,
just kind of basic guardrail,

44
00:03:32.341 --> 00:03:36.249
a maximum width of 1200 pixels.

45
00:03:36.249 --> 00:03:41.553
If something comes in through
markdown that is an enormous image,

46
00:03:41.553 --> 00:03:48.390
like somebody does just copy a unsplash
image in and it's 4500 pixels wide.

47
00:03:48.390 --> 00:03:49.540
We don't want to load that.

48
00:03:49.540 --> 00:03:52.514
Let's just knock it down
to be 1200 pixels max so

49
00:03:52.514 --> 00:03:55.320
that the site doesn't blow up on us.

50
00:03:55.320 --> 00:03:59.600
So now we've got gatsby remark images.

51
00:03:59.600 --> 00:04:00.700
We've got it installed there.

52
00:04:00.700 --> 00:04:10.219
So let's restart the browser, Here.

53
00:04:16.443 --> 00:04:21.270
And I'm gonna put in a different
image into my first blog.

54
00:04:21.270 --> 00:04:24.410
Let's do one of another corgi.

55
00:04:24.410 --> 00:04:28.710
So this is a corgi lying down near
a fountain, and there's cherry tree,

56
00:04:28.710 --> 00:04:32.673
it's a great image, and
we are just gonna do a relative image now.

57
00:04:32.673 --> 00:04:35.678
We're going to go back,
get into the images folder, and

58
00:04:35.678 --> 00:04:38.314
then we're gonna find
this image by shiangling.

59
00:04:43.878 --> 00:04:48.450
And as you can see,
this defaults to the blurred images type.

60
00:04:49.480 --> 00:04:53.626
So if I go to network and slow that
down a bit, so we can see it happen.

61
00:04:56.490 --> 00:05:00.354
It shows up as a blurred image and

62
00:05:00.354 --> 00:05:06.661
then it'll pop in as unblurred,
there's, yeah.

63
00:05:06.661 --> 00:05:08.035
But that all worked.

64
00:05:08.035 --> 00:05:14.156
And if we look at the source, we can see,
it did gatsby responsive image wrapper,

65
00:05:14.156 --> 00:05:18.980
and it's got the pieces that we
want here with a source set.

66
00:05:18.980 --> 00:05:22.158
Now this isn't quite as full featured
as the one with the picture and

67
00:05:22.158 --> 00:05:23.700
the modern fallbacks.

68
00:05:23.700 --> 00:05:28.200
But you know what, for
two lines worth of code, it's not bad.

69
00:05:30.130 --> 00:05:33.380
So that's pretty great.

70
00:05:33.380 --> 00:05:38.010
And if we did wanna control it with like
the different blurred backgrounds or

71
00:05:38.010 --> 00:05:41.479
we wanna add different styles or
things, we can do that,

72
00:05:41.479 --> 00:05:46.284
we would just do that through using a
static image instead of a markdown image.

73
00:05:46.284 --> 00:05:51.414
The markdown images are gonna be full
width in your content area by default,

74
00:05:51.414 --> 00:05:53.830
so they'll always kind of do this.


WEBVTT

1
00:00:00.538 --> 00:00:07.057
Speaking of building the site,
let's get this thing up and built, yeah.

2
00:00:07.057 --> 00:00:11.340
So I have already pushed
everything up to GitHub and

3
00:00:11.340 --> 00:00:15.732
what I wanna do now is I want
to initialize a new site.

4
00:00:15.732 --> 00:00:20.163
So I'm going to use metal fight today,
I work for nullify so

5
00:00:20.163 --> 00:00:23.600
that influences my decisions, but.

6
00:00:23.600 --> 00:00:28.030
Even before I worked for nullify it was
the place that I would deploy because it's

7
00:00:28.030 --> 00:00:30.974
just so much easier than
other tools that I've used.

8
00:00:30.974 --> 00:00:34.411
So actually let me pull up,
me open a window with my own profile so

9
00:00:34.411 --> 00:00:37.032
that I can actually get
logged into things here.

10
00:00:40.108 --> 00:00:43.127
It's what I use for all of my sites and

11
00:00:43.127 --> 00:00:47.999
we gonna be using specifically today,
is the Netlify CLI,

12
00:00:47.999 --> 00:00:53.430
because it's just very good,
it just makes my life easier.

13
00:00:53.430 --> 00:01:00.158
So the same way that I used the GitHub
CLI I'm gonna use the Netlify CLI,

14
00:01:00.158 --> 00:01:07.020
so, to do that, you can install it
globally with a npmi- g Netlify CLI.

15
00:01:07.020 --> 00:01:09.211
I already have it installed, but

16
00:01:09.211 --> 00:01:15.079
if you look at it what you're gonna see is
I'm using the Netlify CLR version 6.1.0,

17
00:01:15.079 --> 00:01:20.010
if you already have it installed make
sure you install the latest version so

18
00:01:20.010 --> 00:01:24.733
that you are able to get all the benefits
of what we're about to do here.

19
00:01:24.733 --> 00:01:29.165
So what I'm going to do,
is I'm going to looking at this and

20
00:01:29.165 --> 00:01:35.033
see there's no like Netlify specific
files here, so let me run Netlify in it.

21
00:01:35.033 --> 00:01:37.634
All right, I guess I'll log in first,
So netlify login and

22
00:01:37.634 --> 00:01:40.320
it's gonna show me that
I'm already logged in.

23
00:01:40.320 --> 00:01:43.088
If I wasn't, it would take me to
the netlify site and just say,

24
00:01:43.088 --> 00:01:46.030
hey do you wanna allow this to work and
it would say yes.

25
00:01:46.030 --> 00:01:50.433
And you can make sure that you're
logged in by running Netlify status.

26
00:01:50.433 --> 00:01:57.337
I'm using NTL which is a shorthand,
you can also run Netlify status like this.

27
00:01:59.616 --> 00:02:00.780
Whichever one you prefer.

28
00:02:02.520 --> 00:02:04.332
What I wanna do is run Netlify init.

29
00:02:06.185 --> 00:02:10.450
And this is going to give me options, I
can either connect it to an existing site,

30
00:02:10.450 --> 00:02:14.527
or I can create and configure a new one I
wanna create and configure a new site so

31
00:02:14.527 --> 00:02:16.660
I'm gonna hit Enter.

32
00:02:16.660 --> 00:02:20.637
And then it's going to ask me which
team I want, if you only have one team,

33
00:02:20.637 --> 00:02:24.054
this will be a much simpler selection,
I am on a million teams.

34
00:02:24.054 --> 00:02:30.072
I will choose my own site and
then I want to and

35
00:02:30.072 --> 00:02:34.138
masters intro to Gatsby V2,

36
00:02:34.138 --> 00:02:38.543
that's probably unique name.

37
00:02:38.543 --> 00:02:43.356
So I've named the site that's what the URL
will be and you can see that here how

38
00:02:43.356 --> 00:02:48.416
it's now set, that'll be the URL for the
site unless I put a custom domain on it.

39
00:02:48.416 --> 00:02:50.978
And because it can tell
that this is a Gatsby site,

40
00:02:50.978 --> 00:02:55.800
it's telling us it's gonna use Gatsby
build all right, I'll use that default.

41
00:02:55.800 --> 00:02:59.590
It knows that Gatsby has a public folder,
great use that default.

42
00:02:59.590 --> 00:03:03.136
We didn't use any Netlify function so
we can just move on past that but

43
00:03:03.136 --> 00:03:06.561
then here's the other cool thing
is because this is a Gatsby site,

44
00:03:06.561 --> 00:03:09.027
it's gonna use this
essential Gatsby plugin.

45
00:03:09.027 --> 00:03:14.282
And earlier when I was talking about
keeping the cache and doing stuff to just

46
00:03:14.282 --> 00:03:19.553
make Gatsby run a little bit better,
that's what this Gatsby plugin does.

47
00:03:19.553 --> 00:03:20.668
So all of that and

48
00:03:20.668 --> 00:03:25.626
then I can add this Netlify.Tama
which keeps all those settings, okay.

49
00:03:25.626 --> 00:03:30.939
Now there's one thing that is different
about this setup, then what you will do,

50
00:03:30.939 --> 00:03:35.636
if you're on the main branch, which
most of you I think will be if you've

51
00:03:35.636 --> 00:03:40.275
been building against this repo,
then everything is gonna just work.

52
00:03:40.275 --> 00:03:44.995
On my end because I just changed the site,
to use the progress branch,

53
00:03:44.995 --> 00:03:47.483
I have to go in here to site settings.

54
00:03:47.483 --> 00:03:52.460
And I'm going to change
the the default branch

55
00:03:52.460 --> 00:03:57.061
here to progress cuz I
want to use that one.

56
00:03:57.061 --> 00:04:01.730
So then I'm gonna go to my deploys,
cancel that one because that's on

57
00:04:01.730 --> 00:04:05.541
the wrong branch and
then I'm going to trigger a new one.

58
00:04:13.340 --> 00:04:18.182
And so we can see that it is building
this pulls in all the containers and

59
00:04:18.182 --> 00:04:21.727
things that we would need
to actually run the site.

60
00:04:24.105 --> 00:04:28.682
So it's, installing node and
downloading the NPM modules and all that.

61
00:04:28.682 --> 00:04:32.759
This is the first time that we're
building the site so there's no cache,

62
00:04:32.759 --> 00:04:35.474
which means this one will
be a little bit slower.

63
00:04:37.230 --> 00:04:41.601
And a couple things to note
because we added that NVMRC it

64
00:04:41.601 --> 00:04:46.809
automatically picked up on the node
version that we wanted to use,

65
00:04:46.809 --> 00:04:51.652
it's also going to install
these plugins here, let's see.

66
00:04:55.877 --> 00:05:01.079
It goes with the initial NPM install,
which again Gatsby has a lot going on,

67
00:05:01.079 --> 00:05:04.669
so the initial install of
Gatsby takes a little bit.

68
00:05:04.669 --> 00:05:08.903
Alright, so now we've got all the
dependencies we're actually building and

69
00:05:08.903 --> 00:05:12.702
you can see here that it's got this,
this Gatsby plugin installing.

70
00:05:12.702 --> 00:05:16.636
And because it's the first build,
there's no Gatsby cache,

71
00:05:16.636 --> 00:05:19.169
so it's it's running building fresh.

72
00:05:19.169 --> 00:05:22.173
I am not using any of the redirects, but

73
00:05:22.173 --> 00:05:27.543
there is a an extra plus Plugin,
if we wanted to add Gatsby redirects,

74
00:05:27.543 --> 00:05:32.475
then the Gatsby site is gonna build
the way that we are building.

75
00:05:32.475 --> 00:05:37.458
And this is different than no
different from any other way that you

76
00:05:37.458 --> 00:05:43.457
would build a Gatsby site,
just running the Gatsby build command.

77
00:05:43.457 --> 00:05:49.643
And we got an error,
cannot read Gatsby image data of

78
00:05:49.643 --> 00:05:54.847
no distributed databases on the jam stack,

79
00:05:54.847 --> 00:06:00.065
so apparently one of
our images is missing.

80
00:06:00.065 --> 00:06:07.041
Well, that's okay,
we can fix that let's go right in here,

81
00:06:07.041 --> 00:06:12.941
and say If, are we in the,
let's get into episode,

82
00:06:12.941 --> 00:06:20.161
and we can say, Episode image.

83
00:06:23.588 --> 00:06:26.747
And we'll just do optional
chaining to get to it.

84
00:06:35.003 --> 00:06:38.438
Okay, so something's wrong
with the data in my site,

85
00:06:38.438 --> 00:06:41.136
that's not Gatsby that's my data entry.

86
00:06:41.136 --> 00:06:46.789
So let's add everything get commit,
and we'll say fix.

87
00:06:49.794 --> 00:06:53.348
Handle missing data.

88
00:06:53.348 --> 00:06:56.743
Let's push that up, and
now that we've configured the site,

89
00:06:56.743 --> 00:06:59.959
what's nice is it'll
automatically start this rebuild.

90
00:06:59.959 --> 00:07:02.497
So here it goes.

91
00:07:02.497 --> 00:07:08.670
&gt;&gt; For example I want to display

92
00:07:08.670 --> 00:07:14.329
a different cropped image

93
00:07:14.329 --> 00:07:20.252
in different resolution.

94
00:07:20.252 --> 00:07:25.665
So how can I benefit from Gatsby and

95
00:07:25.665 --> 00:07:31.266
work with different images cropped

96
00:07:31.266 --> 00:07:35.567
in different resolution?

97
00:07:35.567 --> 00:07:39.468
&gt;&gt; I mean, the short answer is if you're
gonna spend more time working around it,

98
00:07:39.468 --> 00:07:41.287
then you would just do it on your own.

99
00:07:41.287 --> 00:07:43.830
I think if you've got a very like,

100
00:07:43.830 --> 00:07:49.381
specific thing you're trying to build,
it's easier to just build that.

101
00:07:49.381 --> 00:07:50.593
&gt;&gt; Yeah.
&gt;&gt; So yeah,

102
00:07:50.593 --> 00:07:54.423
I think the ultimately I
would say you probably,

103
00:07:54.423 --> 00:07:59.843
if you want to control the picture,
just optimize your own images and

104
00:07:59.843 --> 00:08:03.787
drop them in and
don't worry about Gatsby at all.

105
00:08:03.787 --> 00:08:08.141
Because it's it's gonna fight you and
try to create each image,

106
00:08:08.141 --> 00:08:12.830
as its own picture, so yeah it would
just be easier to not to not use it.

107
00:08:12.830 --> 00:08:14.456
&gt;&gt; Thank you very much.

108
00:08:14.456 --> 00:08:18.361
&gt;&gt; Yeah, of course, and
so now the site is built,

109
00:08:18.361 --> 00:08:22.670
the site is live,
anybody can go and visit this now.

110
00:08:22.670 --> 00:08:28.950
It's it's on the Internet at the front end
masters intro to Gatsby v2 .Netlify.app.

111
00:08:28.950 --> 00:08:33.277
And all of these things that we
wanted to use are there working and

112
00:08:33.277 --> 00:08:37.301
running, you can get in there and
mess with them right now.

113
00:08:37.301 --> 00:08:45.124
So this is a very straightforward way to
get things done and it's nice and fast.

114
00:08:45.124 --> 00:08:50.185
So this first one on fresh
build was two minutes and

115
00:08:50.185 --> 00:08:55.006
51 seconds and that built 220 pages or so,

116
00:08:55.006 --> 00:09:02.861
including the cuz it built the schedule
pages as well and that is pretty neat.

117
00:09:02.861 --> 00:09:04.905
So then if we wanna go and make a change

118
00:09:12.046 --> 00:09:14.105
Add new information, right?

119
00:09:14.105 --> 00:09:20.832
And then I will get, commit everything and
we'll just say add some new,

120
00:09:20.832 --> 00:09:24.890
more markup Oops, git push.

121
00:09:26.160 --> 00:09:31.736
And because things are cached,
the site's gonna build a lot faster.

122
00:09:31.736 --> 00:09:37.136
Now this is a feature of Gatsby 3,
where they've basically made the cache

123
00:09:37.136 --> 00:09:43.068
more intelligent, and they don't rebuild
pages that don't need to be rebuilt.

124
00:09:43.068 --> 00:09:46.202
So what we'll see is that,
we've already got node installed,

125
00:09:46.202 --> 00:09:48.600
we've already got the node modules.

126
00:09:48.600 --> 00:09:54.309
We've got a Gatsby cache here, so we can
rely on that, and move a lot more quickly.

127
00:09:54.309 --> 00:10:01.490
So the Gatsby build should take closer
to 15 seconds instead of a A minute.

128
00:10:01.490 --> 00:10:06.177
So it's a much, it's one of those things
where keeping the cache around and

129
00:10:06.177 --> 00:10:09.780
not cleaning things,
out is gonna make a big difference.

130
00:10:09.780 --> 00:10:12.159
Yeah 19 seconds to build
the site that time.

131
00:10:12.159 --> 00:10:19.036
So it gets much faster as you keep
that cache around, I see a question.

132
00:10:19.036 --> 00:10:25.144
&gt;&gt; Is there a way to deploy on
Netlify without it on address?

133
00:10:25.144 --> 00:10:26.692
Exactly sure what that means.

134
00:10:28.377 --> 00:10:32.856
&gt;&gt; Meaning like, Is there a way
to deploy to Netlify without

135
00:10:32.856 --> 00:10:35.855
creating the dot Netlify dot app URL?

136
00:10:40.183 --> 00:10:44.740
This is done so that you can review your
work, if you wanted to add a custom, like,

137
00:10:44.740 --> 00:10:49.033
what you would do if you didn't want
the netlify.app is you would add your own

138
00:10:49.033 --> 00:10:49.580
domain.

139
00:10:49.580 --> 00:10:54.779
So if you've got a domain name that you
wanna use, you would add that on top,

140
00:10:54.779 --> 00:10:58.611
and then this will redirect
to your custom domain name.

141
00:10:58.611 --> 00:11:04.396
If you wanted to deploy to Netlify
in a way that nobody could access,

142
00:11:04.396 --> 00:11:07.655
I think you can add somewhere in here.

143
00:11:07.655 --> 00:11:12.983
I think there's a password you can add,
maybe I think you

144
00:11:12.983 --> 00:11:18.755
can set it to be like you need to
enter a password to see it that,

145
00:11:18.755 --> 00:11:22.533
maybe that's a paid feature actually.

146
00:11:24.339 --> 00:11:26.766
Access control, can I set a password?

147
00:11:30.176 --> 00:11:35.377
I think this might be so
I have all the features.

148
00:11:35.377 --> 00:11:40.130
So this one might be thing but
if I set like I set a password,

149
00:11:40.130 --> 00:11:44.593
and I'll show you so
that you can get in after I do this.

150
00:11:44.593 --> 00:11:49.540
if I set a password and
then I go over here and I try to load It's

151
00:11:49.540 --> 00:11:54.301
gonna say that it wants a password and
I have to put that in.

152
00:11:56.147 --> 00:11:58.317
So that's one way to solve that problem.

153
00:11:58.317 --> 00:12:02.198
I'm gonna turn that off, so

154
00:12:02.198 --> 00:12:07.380
that there's no password required.

155
00:12:07.380 --> 00:12:12.875
But yeah, if that's not what
you're asking then I'm not,

156
00:12:12.875 --> 00:12:15.802
can you rephrase the question?

157
00:12:15.802 --> 00:12:16.552
Okay.

158
00:12:19.124 --> 00:12:22.790
Yeah and
is an example of custom domains like this.

159
00:12:22.790 --> 00:12:26.274
This is my personal site,
this is deployed to nullify, but

160
00:12:26.274 --> 00:12:31.091
I bought the domain Jason.af and so I just
use that as the as the root domain for it.

161
00:12:33.421 --> 00:12:36.800
Any other questions?

162
00:12:36.800 --> 00:12:42.485
&gt;&gt; Yes, my question is, can I create

163
00:12:42.485 --> 00:12:48.171
ecommerce website with Gatsby for

164
00:12:48.171 --> 00:12:52.440
example, I really do.

165
00:12:52.440 --> 00:12:58.060
For I would make login user can log

166
00:12:58.060 --> 00:13:04.482
in log out product like this project,

167
00:13:04.482 --> 00:13:08.504
I can do it we can speak.

168
00:13:08.504 --> 00:13:13.284
&gt;&gt; Sure, Gatsby does support, we'll talk
a little bit more about client only routes

169
00:13:13.284 --> 00:13:15.481
and how you would do authentication.

170
00:13:15.481 --> 00:13:20.079
We won't actually do authentication but
we'll show you what the process would be

171
00:13:20.079 --> 00:13:23.354
in the intermediate workshop
on in a couple of days, but.

172
00:13:23.354 --> 00:13:25.264
&gt;&gt; Yeah.

173
00:13:25.264 --> 00:13:32.451
&gt;&gt; What you can do in the meantime
is is it stored Gatsby?

174
00:13:35.242 --> 00:13:40.476
Yeah, so this is a an e
commerce store built on Gatsby.

175
00:13:40.476 --> 00:13:45.665
I went back when I was there,
we put this together,

176
00:13:45.665 --> 00:13:50.060
and this is pulling data from Shopify.

177
00:13:50.060 --> 00:13:54.295
So, Shopify data comes in all of
the images and product prices and

178
00:13:54.295 --> 00:13:59.074
everything are managed in Shopify and
then you can add those to your cart.

179
00:13:59.074 --> 00:14:02.987
And when you go to checkout,
we rely on the Shopify checkout,

180
00:14:02.987 --> 00:14:07.131
because all the different compliance and
address management and

181
00:14:07.131 --> 00:14:12.422
shipping calculation, all that stuff is
a huge pain that I don't wanna deal with.

182
00:14:12.422 --> 00:14:15.380
So we just outsource
that right to Shopify.

183
00:14:16.440 --> 00:14:22.644
Stripe has a similar flow, where it
will let you manage all those things but

184
00:14:22.644 --> 00:14:29.365
then what we also did with the Gatsby swag
is we set it up, that if you are a Gatsby.

185
00:14:29.365 --> 00:14:35.491
Which we use auth0 for this,
you log in with your GitHub account and

186
00:14:35.491 --> 00:14:41.821
then once it redirects Here we go,

187
00:14:41.821 --> 00:14:46.694
we check, for whether or
not you are a contributor, and

188
00:14:46.694 --> 00:14:52.206
if you are, we check whether or
not you've claimed your swag.

189
00:14:52.206 --> 00:14:55.208
So there's a swag code
here that I've claimed and

190
00:14:55.208 --> 00:14:58.077
these swag codes are tied
to your user account.

191
00:14:58.077 --> 00:15:03.572
So, like the fact that I'm showing this,
doesn't matter because unless you

192
00:15:03.572 --> 00:15:09.247
have my Shopify login my email and address
it won't, it actually let you order.

193
00:15:09.247 --> 00:15:13.954
So this is this is a user
authenticated e-commerce experience

194
00:15:13.954 --> 00:15:17.342
built in Gatsby and
this is also open source.

195
00:15:17.342 --> 00:15:21.582
So if you wanna see the source code for
this,

196
00:15:21.582 --> 00:15:28.359
you can find it on GitHub at the Gatsby
js org store dot Gatsby j s.org.

197
00:15:28.359 --> 00:15:31.735
is the is the repo for this?

198
00:15:31.735 --> 00:15:39.641
&gt;&gt; We will do authentication
in the intermediate workshop.

199
00:15:39.641 --> 00:15:44.315
&gt;&gt; We're not gonna do like
full on authentication,

200
00:15:44.315 --> 00:15:49.891
I if you wanna see how auth works,
I would look at this repo.

201
00:15:49.891 --> 00:15:52.316
&gt;&gt; Okay?
&gt;&gt; Cuz, honestly authentication is big

202
00:15:52.316 --> 00:15:56.627
enough to be its own course if we really
dig into all the things you can do

203
00:15:56.627 --> 00:15:57.221
with it.

204
00:15:57.221 --> 00:15:59.106
&gt;&gt; Yeah, thank you pretty much.

205
00:15:59.106 --> 00:15:59.870
&gt;&gt; Yeah you bet.


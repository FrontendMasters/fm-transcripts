WEBVTT

1
00:00:00.090 --> 00:00:06.000
So frontmatter is a pretty common
way to send in config with markdown.

2
00:00:06.000 --> 00:00:10.178
And the way that that works is let's see,
we can just add,

3
00:00:10.178 --> 00:00:13.947
I've always referred to
this as a fence code block.

4
00:00:13.947 --> 00:00:16.161
I don't know if it has
an official term but

5
00:00:16.161 --> 00:00:18.960
that's what I usually
hear it referenced as a.

6
00:00:18.960 --> 00:00:24.780
So let's put this one in as 2021,
today is August 11.

7
00:00:24.780 --> 00:00:27.280
So let's put it in is August 11.

8
00:00:27.280 --> 00:00:34.485
We'll set a title of my first blog and
we will set a description.

9
00:00:34.485 --> 00:00:40.407
This is my first MDX blog post, okay.

10
00:00:40.407 --> 00:00:45.730
So that is the basics of how
we would use frontmatter.

11
00:00:45.730 --> 00:00:50.063
So we can go into the other blog and
let's add more.

12
00:00:50.063 --> 00:00:54.630
This one's from the future.

13
00:00:54.630 --> 00:00:56.090
It'll happen tomorrow.

14
00:00:56.090 --> 00:01:00.710
And we can say, another blog and

15
00:01:00.710 --> 00:01:07.053
let's do like, watch out, I'm on a roll.

16
00:01:07.053 --> 00:01:11.130
Okay, so,
now we've got this metadata in here.

17
00:01:11.130 --> 00:01:13.415
And if we go into our graph qL setup,

18
00:01:13.415 --> 00:01:16.400
we can see that some new
things have happened.

19
00:01:16.400 --> 00:01:18.610
Now we've got all MDX here, right?

20
00:01:18.610 --> 00:01:26.330
But we can also see if we go into our
page nodes, that, where did it go?

21
00:01:29.650 --> 00:01:33.040
Children and then there's an MDX option.

22
00:01:33.040 --> 00:01:36.682
And in the MDX option,
you can get the title and the raw body.

23
00:01:41.355 --> 00:01:44.165
I would have missed all of the pieces.

24
00:01:44.165 --> 00:01:47.869
Well, this is a little bit of
a roundabout way to do it anyways.

25
00:01:47.869 --> 00:01:51.015
The easier thing to do is to just go for
all MDX.

26
00:01:51.015 --> 00:01:56.367
So let's get all the nodes and
we're going to get the title, the date.

27
00:01:56.367 --> 00:01:59.727
And I'm gonna make this relative,
so let's say from now.

28
00:01:59.727 --> 00:02:03.630
And then I wanna get the raw body again.

29
00:02:03.630 --> 00:02:06.910
So, now we can kinda see here's
the raw body of our post.

30
00:02:06.910 --> 00:02:13.656
Here's what it's like when it was posted
and it looks like we're getting GMT.

31
00:02:13.656 --> 00:02:17.286
So the hours are a little bit weird.

32
00:02:17.286 --> 00:02:19.800
Or wait,
what are we getting in five hours?

33
00:02:20.920 --> 00:02:21.922
What time zone is that?

34
00:02:21.922 --> 00:02:23.739
I think is GMT.

35
00:02:23.739 --> 00:02:28.238
That gives us the date.

36
00:02:28.238 --> 00:02:34.625
Relatively or if we turn this off,
we'll get the date as a timestamp GMT.

37
00:02:34.625 --> 00:02:39.419
And then you can also
set like other filters.

38
00:02:39.419 --> 00:02:44.824
We're not gonna stress about that but if
you wanted to do like a full name, month.

39
00:02:48.751 --> 00:02:53.186
You can format it like that and
then you'll get the August 12th, 2021.

40
00:02:53.186 --> 00:02:55.350
You can do the short version of the month.

41
00:02:55.350 --> 00:02:58.056
You can do the number abbreviation or

42
00:02:58.056 --> 00:03:03.740
the number abbreviation without leading
zeros, however you wanna do that.

43
00:03:05.100 --> 00:03:09.563
So there's a lot of like nice
ways to make these work if

44
00:03:09.563 --> 00:03:12.050
you want to pull in the dates.

45
00:03:13.870 --> 00:03:17.770
And then, we can just kind of
grab out whatever we need.

46
00:03:17.770 --> 00:03:21.229
So I wouldn't actually use the raw body,
I would use the HTML.

47
00:03:21.229 --> 00:03:26.861
So, we get the HTML, this might not
work in the graph QL explorer actually,

48
00:03:26.861 --> 00:03:32.061
because HTML gets rendered at build time,
so this might blow up on us.

49
00:03:32.061 --> 00:03:32.604
Yeah.

50
00:03:36.494 --> 00:03:39.720
Let's just stop and restart that.

51
00:03:39.720 --> 00:03:45.180
MDX has a few like special things
that make it a little bit tricky.

52
00:03:45.180 --> 00:03:48.530
So it's some of that stuff can get weird.

53
00:03:48.530 --> 00:03:52.569
But we also get access to like
the headings, which is pretty cool.

54
00:03:52.569 --> 00:03:55.822
If you wanted to build
the table of contents,

55
00:03:55.822 --> 00:04:00.620
you can pull out the headings and
what level of depth they are.

56
00:04:00.620 --> 00:04:05.637
So there's a lot of really nice stuff
that you can do here where you're

57
00:04:05.637 --> 00:04:10.073
able to do some pretty advanced
things out of the the graph QL.

58
00:04:10.073 --> 00:04:13.165
Think what else is in here?

59
00:04:13.165 --> 00:04:16.020
So that's the code body.

60
00:04:16.020 --> 00:04:19.560
And then, will the HTML always crash or
did something just go weird?

61
00:04:19.560 --> 00:04:21.810
Yeah, the HTML will always crash.

62
00:04:21.810 --> 00:04:23.596
So let's not use that.

63
00:04:23.596 --> 00:04:28.938
So instead, what we can do is
let's use that SEO component and

64
00:04:28.938 --> 00:04:31.217
actually make this work.

65
00:04:31.217 --> 00:04:34.699
Because if you'll notice,
let me stop and restart this so

66
00:04:34.699 --> 00:04:37.450
that we've got a working dev server.

67
00:04:37.450 --> 00:04:42.570
We have one problem,
which is we got these pages working.

68
00:04:42.570 --> 00:04:47.980
Let me get back to One of
our pages that still exists.

69
00:04:47.980 --> 00:04:49.039
I deleted the series.

70
00:04:56.470 --> 00:04:58.940
Let's go to another block, right?

71
00:04:58.940 --> 00:05:02.470
So we've got another blog,
but if I look in the head,

72
00:05:02.470 --> 00:05:04.832
it's using all my default values.

73
00:05:04.832 --> 00:05:09.650
And that's not actually what I want.

74
00:05:09.650 --> 00:05:15.780
So it picked up some of this like
it picked up the blog post path.

75
00:05:15.780 --> 00:05:20.064
But it didn't pick up my description and
didn't pick up my my title.

76
00:05:20.064 --> 00:05:24.615
To do that, which I would hope
it just comes right out of here.

77
00:05:24.615 --> 00:05:26.105
Whatever I put in here I want to work.

78
00:05:27.375 --> 00:05:33.295
The trick is that our layout
component needs props to be set.

79
00:05:33.295 --> 00:05:37.323
And in order to set those props,
we can't just directly wrapped

80
00:05:37.323 --> 00:05:41.120
the layout because this won't
apply any prompts to it.

81
00:05:41.120 --> 00:05:46.042
So instead, we need to do
a little bit of working around

82
00:05:46.042 --> 00:05:49.580
to get this to function the way we want.

83
00:05:49.580 --> 00:05:53.680
So we're going to create a custom
layout specifically for our posts.


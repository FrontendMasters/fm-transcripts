[00:00:00]
>> Speaking of building the site, let's get this thing up and built, yeah. So I have already pushed everything up to GitHub and what I wanna do now is I want to initialize a new site. So I'm going to use metal fight today, I work for nullify so that influences my decisions, but.

[00:00:23]
Even before I worked for nullify it was the place that I would deploy because it's just so much easier than other tools that I've used. So actually let me pull up, me open a window with my own profile so that I can actually get logged into things here.

[00:00:40]
It's what I use for all of my sites and we gonna be using specifically today, is the Netlify CLI, because it's just very good, it just makes my life easier. So the same way that I used the GitHub CLI I'm gonna use the Netlify CLI, so, to do that, you can install it globally with a npmi- g Netlify CLI.

[00:01:07]
I already have it installed, but if you look at it what you're gonna see is I'm using the Netlify CLR version 6.1.0, if you already have it installed make sure you install the latest version so that you are able to get all the benefits of what we're about to do here.

[00:01:24]
So what I'm going to do, is I'm going to looking at this and see there's no like Netlify specific files here, so let me run Netlify in it. All right, I guess I'll log in first, So netlify login and it's gonna show me that I'm already logged in.

[00:01:40]
If I wasn't, it would take me to the netlify site and just say, hey do you wanna allow this to work and it would say yes. And you can make sure that you're logged in by running Netlify status. I'm using NTL which is a shorthand, you can also run Netlify status like this.

[00:01:59]
Whichever one you prefer. What I wanna do is run Netlify init. And this is going to give me options, I can either connect it to an existing site, or I can create and configure a new one I wanna create and configure a new site so I'm gonna hit Enter.

[00:02:16]
And then it's going to ask me which team I want, if you only have one team, this will be a much simpler selection, I am on a million teams. I will choose my own site and then I want to and masters intro to Gatsby V2, that's probably unique name.

[00:02:38]
So I've named the site that's what the URL will be and you can see that here how it's now set, that'll be the URL for the site unless I put a custom domain on it. And because it can tell that this is a Gatsby site, it's telling us it's gonna use Gatsby build all right, I'll use that default.

[00:02:55]
It knows that Gatsby has a public folder, great use that default. We didn't use any Netlify function so we can just move on past that but then here's the other cool thing is because this is a Gatsby site, it's gonna use this essential Gatsby plugin. And earlier when I was talking about keeping the cache and doing stuff to just make Gatsby run a little bit better, that's what this Gatsby plugin does.

[00:03:19]
So all of that and then I can add this Netlify.Tama which keeps all those settings, okay. Now there's one thing that is different about this setup, then what you will do, if you're on the main branch, which most of you I think will be if you've been building against this repo, then everything is gonna just work.

[00:03:40]
On my end because I just changed the site, to use the progress branch, I have to go in here to site settings. And I'm going to change the the default branch here to progress cuz I want to use that one. So then I'm gonna go to my deploys, cancel that one because that's on the wrong branch and then I'm going to trigger a new one.

[00:04:13]
And so we can see that it is building this pulls in all the containers and things that we would need to actually run the site. So it's, installing node and downloading the NPM modules and all that. This is the first time that we're building the site so there's no cache, which means this one will be a little bit slower.

[00:04:37]
And a couple things to note because we added that NVMRC it automatically picked up on the node version that we wanted to use, it's also going to install these plugins here, let's see. It goes with the initial NPM install, which again Gatsby has a lot going on, so the initial install of Gatsby takes a little bit.

[00:05:04]
Alright, so now we've got all the dependencies we're actually building and you can see here that it's got this, this Gatsby plugin installing. And because it's the first build, there's no Gatsby cache, so it's it's running building fresh. I am not using any of the redirects, but there is a an extra plus Plugin, if we wanted to add Gatsby redirects, then the Gatsby site is gonna build the way that we are building.

[00:05:32]
And this is different than no different from any other way that you would build a Gatsby site, just running the Gatsby build command. And we got an error, cannot read Gatsby image data of no distributed databases on the jam stack, so apparently one of our images is missing.

[00:06:00]
Well, that's okay, we can fix that let's go right in here, and say If, are we in the, let's get into episode, and we can say, Episode image. And we'll just do optional chaining to get to it. Okay, so something's wrong with the data in my site, that's not Gatsby that's my data entry.

[00:06:41]
So let's add everything get commit, and we'll say fix. Handle missing data. Let's push that up, and now that we've configured the site, what's nice is it'll automatically start this rebuild. So here it goes.
>> For example I want to display a different cropped image in different resolution.

[00:07:20]
So how can I benefit from Gatsby and work with different images cropped in different resolution?
>> I mean, the short answer is if you're gonna spend more time working around it, then you would just do it on your own. I think if you've got a very like, specific thing you're trying to build, it's easier to just build that.

[00:07:49]

>> Yeah.
>> So yeah, I think the ultimately I would say you probably, if you want to control the picture, just optimize your own images and drop them in and don't worry about Gatsby at all. Because it's it's gonna fight you and try to create each image, as its own picture, so yeah it would just be easier to not to not use it.

[00:08:12]

>> Thank you very much.
>> Yeah, of course, and so now the site is built, the site is live, anybody can go and visit this now. It's it's on the Internet at the front end masters intro to Gatsby v2 .Netlify.app. And all of these things that we wanted to use are there working and running, you can get in there and mess with them right now.

[00:08:37]
So this is a very straightforward way to get things done and it's nice and fast. So this first one on fresh build was two minutes and 51 seconds and that built 220 pages or so, including the cuz it built the schedule pages as well and that is pretty neat.

[00:09:02]
So then if we wanna go and make a change Add new information, right? And then I will get, commit everything and we'll just say add some new, more markup Oops, git push. And because things are cached, the site's gonna build a lot faster. Now this is a feature of Gatsby 3, where they've basically made the cache more intelligent, and they don't rebuild pages that don't need to be rebuilt.

[00:09:43]
So what we'll see is that, we've already got node installed, we've already got the node modules. We've got a Gatsby cache here, so we can rely on that, and move a lot more quickly. So the Gatsby build should take closer to 15 seconds instead of a A minute.

[00:10:01]
So it's a much, it's one of those things where keeping the cache around and not cleaning things, out is gonna make a big difference. Yeah 19 seconds to build the site that time. So it gets much faster as you keep that cache around, I see a question.
>> Is there a way to deploy on Netlify without it on address?

[00:10:25]
Exactly sure what that means.
>> Meaning like, Is there a way to deploy to Netlify without creating the dot Netlify dot app URL? This is done so that you can review your work, if you wanted to add a custom, like, what you would do if you didn't want the netlify.app is you would add your own domain.

[00:10:49]
So if you've got a domain name that you wanna use, you would add that on top, and then this will redirect to your custom domain name. If you wanted to deploy to Netlify in a way that nobody could access, I think you can add somewhere in here. I think there's a password you can add, maybe I think you can set it to be like you need to enter a password to see it that, maybe that's a paid feature actually.

[00:11:24]
Access control, can I set a password? I think this might be so I have all the features. So this one might be thing but if I set like I set a password, and I'll show you so that you can get in after I do this. if I set a password and then I go over here and I try to load It's gonna say that it wants a password and I have to put that in.

[00:11:56]
So that's one way to solve that problem. I'm gonna turn that off, so that there's no password required. But yeah, if that's not what you're asking then I'm not, can you rephrase the question? Okay. Yeah and is an example of custom domains like this. This is my personal site, this is deployed to nullify, but I bought the domain Jason.af and so I just use that as the as the root domain for it.

[00:12:33]
Any other questions?
>> Yes, my question is, can I create ecommerce website with Gatsby for example, I really do. For I would make login user can log in log out product like this project, I can do it we can speak.
>> Sure, Gatsby does support, we'll talk a little bit more about client only routes and how you would do authentication.

[00:13:15]
We won't actually do authentication but we'll show you what the process would be in the intermediate workshop on in a couple of days, but.
>> Yeah.
>> What you can do in the meantime is is it stored Gatsby? Yeah, so this is a an e commerce store built on Gatsby.

[00:13:40]
I went back when I was there, we put this together, and this is pulling data from Shopify. So, Shopify data comes in all of the images and product prices and everything are managed in Shopify and then you can add those to your cart. And when you go to checkout, we rely on the Shopify checkout, because all the different compliance and address management and shipping calculation, all that stuff is a huge pain that I don't wanna deal with.

[00:14:12]
So we just outsource that right to Shopify. Stripe has a similar flow, where it will let you manage all those things but then what we also did with the Gatsby swag is we set it up, that if you are a Gatsby. Which we use auth0 for this, you log in with your GitHub account and then once it redirects Here we go, we check, for whether or not you are a contributor, and if you are, we check whether or not you've claimed your swag.

[00:14:52]
So there's a swag code here that I've claimed and these swag codes are tied to your user account. So, like the fact that I'm showing this, doesn't matter because unless you have my Shopify login my email and address it won't, it actually let you order. So this is this is a user authenticated e-commerce experience built in Gatsby and this is also open source.

[00:15:17]
So if you wanna see the source code for this, you can find it on GitHub at the Gatsby js org store dot Gatsby j s.org. is the is the repo for this?
>> We will do authentication in the intermediate workshop.
>> We're not gonna do like full on authentication, I if you wanna see how auth works, I would look at this repo.

[00:15:49]

>> Okay?
>> Cuz, honestly authentication is big enough to be its own course if we really dig into all the things you can do with it.
>> Yeah, thank you pretty much.
>> Yeah you bet.


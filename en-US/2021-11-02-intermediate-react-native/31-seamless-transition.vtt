WEBVTT

1
00:00:00.440 --> 00:00:02.310 A:middle L:90%
Okay, excellent. So now we have a splash

2
00:00:02.589 --> 00:00:07.639 A:middle L:90%
screen. So this is a react native specific plug

3
00:00:07.900 --> 00:00:11.089 A:middle L:90%
problem with flash greens. So when you open your

4
00:00:11.310 --> 00:00:13.699 A:middle L:90%
app you'll see a splash screen and then you see

5
00:00:14.000 --> 00:00:16.539 A:middle L:90%
a white page and then you see your app and

6
00:00:16.820 --> 00:00:20.070 A:middle L:90%
the reason this is actually happening is because this splash

7
00:00:20.449 --> 00:00:22.440 A:middle L:90%
screen is completely native. So that's why we have

8
00:00:22.620 --> 00:00:26.010 A:middle L:90%
to create an X code. So what's the nature

9
00:00:26.250 --> 00:00:28.440 A:middle L:90%
of does is it goes, oh, let's show

10
00:00:28.559 --> 00:00:31.140 A:middle L:90%
the splash screen while I'm getting ready, but then

11
00:00:31.469 --> 00:00:34.219 A:middle L:90%
it loads the app with the JavaScript bundle and it

12
00:00:34.280 --> 00:00:35.899 A:middle L:90%
goes okay, you're ready, let's show it.

13
00:00:36.270 --> 00:00:39.420 A:middle L:90%
But actually the JavaScript still needs some extra time to

14
00:00:39.579 --> 00:00:41.490 A:middle L:90%
load, which is why we get this flash green

15
00:00:41.750 --> 00:00:44.070 A:middle L:90%
. So this is the time in between the native

16
00:00:44.469 --> 00:00:46.630 A:middle L:90%
when the native app is ready, but the JavaScript

17
00:00:47.329 --> 00:00:50.310 A:middle L:90%
isn't loaded yet. So to way to overcome this

18
00:00:50.560 --> 00:00:53.899 A:middle L:90%
is we need to use another library to basically manually

19
00:00:54.710 --> 00:00:57.549 A:middle L:90%
hide the splash screen when the JavaScript is finished loading

20
00:00:59.039 --> 00:01:04.980 A:middle L:90%
. So here, if we add so here if

21
00:01:05.129 --> 00:01:12.299 A:middle L:90%
we do jOHn add react native splash screen and this

22
00:01:12.439 --> 00:01:15.049 A:middle L:90%
is quite an old library so it still requires a

23
00:01:15.189 --> 00:01:22.709 A:middle L:90%
react native link. It doesn't auto link, I

24
00:01:22.879 --> 00:01:25.870 A:middle L:90%
think I need to put a stool, so see

25
00:01:26.099 --> 00:01:34.560 A:middle L:90%
the IRS and put in store and we also need

26
00:01:34.750 --> 00:01:36.269 A:middle L:90%
to add a little bit of native code to IOS

27
00:01:36.799 --> 00:01:39.170 A:middle L:90%
So we've been getting off easy with us so far

28
00:01:39.939 --> 00:01:43.640 A:middle L:90%
, but if you open up delegate dot mm So

29
00:01:44.000 --> 00:01:46.239 A:middle L:90%
it's this once and not the head of file and

30
00:01:46.420 --> 00:01:49.000 A:middle L:90%
then we add an import at the top of the

31
00:01:49.090 --> 00:01:57.530 A:middle L:90%
file and here on the application we show the splash

32
00:01:57.909 --> 00:02:04.409 A:middle L:90%
screen. This will be just underneath here indeed.

33
00:02:06.629 --> 00:02:13.759 A:middle L:90%
In the application. Excellent. So basically what we're

34
00:02:13.870 --> 00:02:18.030 A:middle L:90%
doing is we're using react native splash screen to explicitly

35
00:02:18.490 --> 00:02:20.560 A:middle L:90%
show the splash screen and then we can use it

36
00:02:20.680 --> 00:02:23.060 A:middle L:90%
to hide it. So in our app to tsx

37
00:02:31.240 --> 00:02:34.639 A:middle L:90%
we will import splash screen from repeated splash screen and

38
00:02:34.849 --> 00:02:41.030 A:middle L:90%
then we'll do a react dot use effect with an

39
00:02:41.180 --> 00:02:45.819 A:middle L:90%
empty dependencies array. And we will do splash screen

40
00:02:46.840 --> 00:02:56.689 A:middle L:90%
, dots height to explicitly hide it. Now put

41
00:02:56.849 --> 00:02:59.439 A:middle L:90%
in a used effect because basically once we reach reach

42
00:02:59.990 --> 00:03:02.169 A:middle L:90%
this point, JavaScript has loaded because we're in javascript

43
00:03:02.900 --> 00:03:05.180 A:middle L:90%
and then we hide it. Now if your app

44
00:03:05.560 --> 00:03:08.219 A:middle L:90%
does need to do some extra things behind the scene

45
00:03:08.740 --> 00:03:10.240 A:middle L:90%
. For example, if you need to update something

46
00:03:10.810 --> 00:03:13.520 A:middle L:90%
or if you need to maybe fetch some user data

47
00:03:14.080 --> 00:03:15.770 A:middle L:90%
or you need to set up both from aging storage

48
00:03:16.349 --> 00:03:19.599 A:middle L:90%
or anything like that. You can delay when you

49
00:03:19.719 --> 00:03:21.569 A:middle L:90%
hide this. So you can do something else.

50
00:03:21.930 --> 00:03:24.349 A:middle L:90%
You could like fetch the data um like fetch user

51
00:03:24.550 --> 00:03:26.740 A:middle L:90%
data for mating storage or something like that and then

52
00:03:26.990 --> 00:03:28.349 A:middle L:90%
hide the splash screen. So that's how you achieve

53
00:03:28.629 --> 00:03:33.189 A:middle L:90%
that. All right. So this is finished.

54
00:03:34.319 --> 00:03:38.669 A:middle L:90%
And let's do jan IOS again. Let me just

55
00:03:38.949 --> 00:03:49.889 A:middle L:90%
close it from here. It's complaining because I haven't

56
00:03:50.150 --> 00:03:52.819 A:middle L:90%
actually rebuilt the native bundle yet. All right.

57
00:03:53.500 --> 00:03:54.759 A:middle L:90%
It's work. So let's try it. Let's look

58
00:03:54.909 --> 00:03:57.689 A:middle L:90%
at this again. So now when I launch the

59
00:03:57.840 --> 00:04:00.870 A:middle L:90%
app, you can see that it goes straight from

60
00:04:00.990 --> 00:04:02.830 A:middle L:90%
the splash screen, straight into our app, and

61
00:04:02.949 --> 00:04:04.439 A:middle L:90%
we don't get that wide screen in the middle.

62
%!s(<nil>) --> %!s(<nil>) A:middle L:90%



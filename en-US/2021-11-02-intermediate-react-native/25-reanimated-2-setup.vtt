WEBVTT

1
00:00:00.040 --> 00:00:03.319 A:middle L:90%
So react Native actually comes with its own animated API

2
00:00:03.879 --> 00:00:06.459 A:middle L:90%
So you can import this from react native and there

3
00:00:06.629 --> 00:00:08.900 A:middle L:90%
are loads of examples on the react native docs on

4
00:00:09.060 --> 00:00:11.470 A:middle L:90%
how you can use it for this course. We're

5
00:00:11.599 --> 00:00:14.910 A:middle L:90%
actually going to use reanimated. And in particular we're

6
00:00:15.000 --> 00:00:17.699 A:middle L:90%
going to use reanimated too. So just to give

7
00:00:17.850 --> 00:00:20.170 A:middle L:90%
you a little bit of history on reanimated. So

8
00:00:20.769 --> 00:00:25.559 A:middle L:90%
originally reanimated was created to address some performance deficiencies on

9
00:00:26.550 --> 00:00:29.510 A:middle L:90%
react Native's built in animated library. In particular,

10
00:00:30.079 --> 00:00:32.820 A:middle L:90%
it was around operating on the Ui thread versus the

11
00:00:32.909 --> 00:00:37.880 A:middle L:90%
main thread etcetera. And the reanimated one basically copied

12
00:00:38.450 --> 00:00:42.740 A:middle L:90%
exactly the Ap that react Native's Animated API was using

13
00:00:44.240 --> 00:00:46.670 A:middle L:90%
how a reanimated too, even though it's still in

14
00:00:46.780 --> 00:00:50.179 A:middle L:90%
beta, it kind of sidestepped that completely. And

15
00:00:50.549 --> 00:00:53.710 A:middle L:90%
the API for animated too is really nice to use

16
00:00:53.880 --> 00:00:56.670 A:middle L:90%
, especially for react hooks. So the reason I'm

17
00:00:56.820 --> 00:00:59.189 A:middle L:90%
using the animated too is because I genuinely think it's

18
00:00:59.450 --> 00:01:03.340 A:middle L:90%
the nicest to use animation library for react native and

19
00:01:03.789 --> 00:01:05.760 A:middle L:90%
that's where we are going to be using for all

20
00:01:05.879 --> 00:01:08.290 A:middle L:90%
of the animations in the future. It's a lot

21
00:01:08.519 --> 00:01:11.469 A:middle L:90%
less code than the animated Api. And also the

22
00:01:11.579 --> 00:01:15.849 A:middle L:90%
animated Api is declarative, um which which is a

23
00:01:15.920 --> 00:01:18.299 A:middle L:90%
little bit hard to read and also written about when

24
00:01:18.629 --> 00:01:21.739 A:middle L:90%
you're new to animations. So first let's install reanimated

25
00:01:22.340 --> 00:01:25.120 A:middle L:90%
too. So at the time of raising this,

26
00:01:26.439 --> 00:01:28.750 A:middle L:90%
uh, this is the latest version and because we're

27
00:01:28.840 --> 00:01:31.569 A:middle L:90%
still in Peter, I've also tagged the actual latest

28
00:01:31.939 --> 00:01:33.730 A:middle L:90%
version that I'm going to be using just to make

29
00:01:33.879 --> 00:01:35.879 A:middle L:90%
sure that we're all on the same page in the

30
00:01:35.969 --> 00:01:38.219 A:middle L:90%
future. This is going to not be in pizza

31
00:01:38.620 --> 00:01:40.659 A:middle L:90%
and you might have a different version. So just

32
00:01:41.049 --> 00:01:43.189 A:middle L:90%
just over all on the same version of the package

33
00:01:43.980 --> 00:01:46.680 A:middle L:90%
, let's install this particular version. So let's copy

34
00:01:46.969 --> 00:01:53.629 A:middle L:90%
it and paste it to a terminal. So for

35
00:01:53.870 --> 00:01:56.329 A:middle L:90%
reanimated we also need to add a Babel plug in

36
00:01:56.939 --> 00:01:58.799 A:middle L:90%
. So this is very important. So if you

37
00:01:58.920 --> 00:02:03.819 A:middle L:90%
open your babble conflict Js and then copy this line

38
00:02:04.079 --> 00:02:08.039 A:middle L:90%
of code. So that's so Babel config will be

39
00:02:08.219 --> 00:02:12.000 A:middle L:90%
at the root directory of your project and then we

40
00:02:12.139 --> 00:02:14.870 A:middle L:90%
need to add the reanimated plug in to our plug

41
00:02:15.159 --> 00:02:18.639 A:middle L:90%
ins list. So if you're working on an existing

42
00:02:19.069 --> 00:02:21.319 A:middle L:90%
project, you might already have some plug ins here

43
00:02:21.889 --> 00:02:24.020 A:middle L:90%
in this case. It's super important that this plug

44
00:02:24.319 --> 00:02:28.000 A:middle L:90%
in is the very last thing on diarra otherwise you're

45
00:02:28.139 --> 00:02:36.419 A:middle L:90%
gonna to enable this on android, we need to

46
00:02:36.509 --> 00:02:38.599 A:middle L:90%
do a couple of extra steps, just a little

47
00:02:38.770 --> 00:02:41.830 A:middle L:90%
bit of native code. Um so firstly we need

48
00:02:41.949 --> 00:02:44.860 A:middle L:90%
to turn on the Hermes engine which is disabled by

49
00:02:44.979 --> 00:02:48.800 A:middle L:90%
default. So Hermes is react native's or facebook's proprietary

50
00:02:50.069 --> 00:02:53.610 A:middle L:90%
JavaScript runtime which is optimized for mobile app. So

51
00:02:53.729 --> 00:02:56.960 A:middle L:90%
basically they are building their own JavaScript runtime which is

52
00:02:58.039 --> 00:03:02.740 A:middle L:90%
which should help your react native apps um mm load

53
00:03:03.169 --> 00:03:07.550 A:middle L:90%
faster and kind of generally generally being more optimized for

54
00:03:07.849 --> 00:03:11.009 A:middle L:90%
running JavaScript on the mobile device because obviously JavaScript is

55
00:03:11.150 --> 00:03:14.030 A:middle L:90%
generally meant for the web which has different restrictions and

56
00:03:14.319 --> 00:03:19.599 A:middle L:90%
different performance needs. So if we go to android

57
00:03:20.169 --> 00:03:27.340 A:middle L:90%
app build a cradle. So enjoyed up. Oops

58
00:03:28.840 --> 00:03:33.150 A:middle L:90%
build a cradle and here we got enabled Hermes falls

59
00:03:34.139 --> 00:03:36.340 A:middle L:90%
, we will turn this the trip. Yeah.

60
00:03:36.550 --> 00:03:38.210 A:middle L:90%
And then for Andrew if you also need to add

61
00:03:38.509 --> 00:03:41.139 A:middle L:90%
some code. Two main application dot java. So

62
00:03:41.740 --> 00:03:44.250 A:middle L:90%
we copy these two imports and then we go to

63
00:03:44.740 --> 00:03:49.740 A:middle L:90%
up source main job up main application, that job

64
00:03:51.139 --> 00:03:53.569 A:middle L:90%
and then we add these imports. Make sure you

65
00:03:53.680 --> 00:03:56.080 A:middle L:90%
remove the comments because they are not valid in java

66
00:03:56.370 --> 00:04:01.500 A:middle L:90%
land and we need to add this override method so

67
00:04:01.819 --> 00:04:07.069 A:middle L:90%
the whole method and we will paste it in here

68
00:04:13.539 --> 00:04:19.689 A:middle L:90%
. Mhm Yeah, just under up, just underneath

69
00:04:20.189 --> 00:04:25.420 A:middle L:90%
the get Js, what's your name? And also

70
00:04:25.699 --> 00:04:31.829 A:middle L:90%
remove this comment. Excellent. That's just rebuild the

71
00:04:32.100 --> 00:04:36.480 A:middle L:90%
android app as well. And then once installed for

72
00:04:36.680 --> 00:04:38.269 A:middle L:90%
IOS we always you want to go to the irish

73
00:04:38.540 --> 00:04:44.699 A:middle L:90%
directory, everyone put in store and after that's done

74
00:04:45.069 --> 00:04:52.769 A:middle L:90%
we're also going to rebuild their up so young girls

75
00:04:53.060 --> 00:04:56.779 A:middle L:90%
to rebuild. So just to tell you a little

76
00:04:57.019 --> 00:05:00.850 A:middle L:90%
bit about how reanimated to works. So the best

77
00:05:01.500 --> 00:05:05.819 A:middle L:90%
place to start is the api documentation. So we

78
00:05:06.079 --> 00:05:10.699 A:middle L:90%
look at api reference and hooks. So these are

79
00:05:11.110 --> 00:05:13.230 A:middle L:90%
kind of the hooks that you can use. So

80
00:05:13.819 --> 00:05:16.529 A:middle L:90%
reanimated too is completely hooks based. So this fits

81
00:05:16.959 --> 00:05:20.170 A:middle L:90%
perfectly in how we already think about data and things

82
00:05:20.420 --> 00:05:24.389 A:middle L:90%
moving around. Whereas the animated api not so much

83
00:05:26.240 --> 00:05:28.569 A:middle L:90%
. So the things that you'll be using most frequently

84
00:05:29.310 --> 00:05:32.600 A:middle L:90%
is use animated style. So this is basically a

85
00:05:32.779 --> 00:05:35.920 A:middle L:90%
hook that allows you to create a style which you

86
00:05:36.000 --> 00:05:40.240 A:middle L:90%
can then use in an animated component. Um And

87
00:05:40.629 --> 00:05:43.519 A:middle L:90%
in his hook you can use animated values or you

88
00:05:43.610 --> 00:05:46.660 A:middle L:90%
can animate any of these styles from one value to

89
00:05:46.769 --> 00:05:47.779 A:middle L:90%
the next. Which is what we're going to do

90
00:05:51.339 --> 00:05:54.379 A:middle L:90%
. There's a another central component is a used shared

91
00:05:54.819 --> 00:05:57.680 A:middle L:90%
value. So this is a value that you can

92
00:05:57.839 --> 00:06:01.620 A:middle L:90%
animate and then use within your animated style And this

93
00:06:01.740 --> 00:06:03.879 A:middle L:90%
will be hand. This is especially handy if um

94
00:06:04.449 --> 00:06:06.139 A:middle L:90%
this will be especially handy later on when we're doing

95
00:06:06.360 --> 00:06:10.509 A:middle L:90%
gestures where basically we're setting the position of the view

96
00:06:10.949 --> 00:06:12.699 A:middle L:90%
that we're looking at in a shared value and then

97
00:06:12.829 --> 00:06:17.709 A:middle L:90%
animating that view correspondingly. Then used to write value

98
00:06:18.439 --> 00:06:20.240 A:middle L:90%
. This is basically what you use if you have

99
00:06:21.040 --> 00:06:25.800 A:middle L:90%
values that you want to calculate. So if you

100
00:06:25.920 --> 00:06:29.079 A:middle L:90%
want to do a calculation in a shared value.

101
00:06:29.459 --> 00:06:30.910 A:middle L:90%
So here we have a shared value which might change

102
00:06:31.560 --> 00:06:34.399 A:middle L:90%
and then you want to like multiply this. For

103
00:06:34.509 --> 00:06:37.339 A:middle L:90%
example something that's outside of the animators like world,

104
00:06:37.990 --> 00:06:39.860 A:middle L:90%
like the state value, then you can use it

105
00:06:39.939 --> 00:06:44.740 A:middle L:90%
the right value here and then a bunch of these

106
00:06:45.060 --> 00:06:48.139 A:middle L:90%
are like if you want to use the on scroll

107
00:06:48.589 --> 00:06:51.639 A:middle L:90%
event on a scroll view within your animation there's a

108
00:06:51.699 --> 00:06:54.459 A:middle L:90%
built in scroll handler and there's also a gesture handle

109
00:06:54.750 --> 00:06:58.339 A:middle L:90%
that works great with react native gesture handler. Um

110
00:06:58.910 --> 00:07:03.759 A:middle L:90%
there's animals props drafts, um animated reactions and you

111
00:07:03.959 --> 00:07:05.759 A:middle L:90%
can explore these on your own time. So yeah

112
00:07:05.930 --> 00:07:07.800 A:middle L:90%
, we're going to look at use animated style and

113
00:07:08.269 --> 00:07:14.660 A:middle L:90%
use animated just your handler later on. So when

114
00:07:14.790 --> 00:07:17.500 A:middle L:90%
it comes to animations, you have these helper functions

115
00:07:18.089 --> 00:07:20.939 A:middle L:90%
with timing, with spring with decay with sequence,

116
00:07:21.430 --> 00:07:23.410 A:middle L:90%
with repeat. And as you'll see later, this

117
00:07:23.600 --> 00:07:25.689 A:middle L:90%
is these are what we're going to basically using to

118
00:07:26.009 --> 00:07:28.769 A:middle L:90%
animate a value from uh, one of you to

119
00:07:28.879 --> 00:07:30.879 A:middle L:90%
the next and now the last thing. So we

120
00:07:30.980 --> 00:07:33.769 A:middle L:90%
haven't had to do this before, but because we

121
00:07:34.149 --> 00:07:37.350 A:middle L:90%
added something to our bible conflict, we also need

122
00:07:37.579 --> 00:07:41.189 A:middle L:90%
to restart the metro bundler. So in your tab

123
00:07:41.779 --> 00:07:44.279 A:middle L:90%
, wherever you have, wherever you run, john

124
00:07:44.560 --> 00:07:47.529 A:middle L:90%
start at the very beginning, just close it and

125
00:07:47.720 --> 00:07:55.139 A:middle L:90%
redo it just to restart the Metro bundler. All

126
00:07:55.339 --> 00:07:57.290 A:middle L:90%
right now, we should be able to use reanimated

127
%!s(<nil>) --> %!s(<nil>) A:middle L:90%



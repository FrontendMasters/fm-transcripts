WEBVTT

1
00:00:00.250 --> 00:00:05.414
This is kind of fun, this is a new thing
in vitest, so copy this one with me.

2
00:00:05.414 --> 00:00:09.790
Come in here and you can stop this.

3
00:00:09.790 --> 00:00:15.169
We're gonna say npm install

4
00:00:15.169 --> 00:00:21.450
-D @vitest/ui@2.1.3

5
00:00:26.562 --> 00:00:28.898
&gt;&gt; Brian Holt: And in our scripts here,

6
00:00:28.898 --> 00:00:36.239
we're just gonna add another one here,
that's it's gonna be test:ui,

7
00:00:36.239 --> 00:00:40.148
and it's gonna be vitest --ui.

8
00:00:42.913 --> 00:00:44.370
&gt;&gt; Brian Holt: There's nothing
special about this colon.

9
00:00:44.370 --> 00:00:46.462
That's just like the way that I
like structuring my commands.

10
00:00:46.462 --> 00:00:49.792
This is a test, but
we want the UI version of it.

11
00:00:49.792 --> 00:00:51.457
You could also call this
test:coverage,

12
00:00:51.457 --> 00:00:53.502
that's actually probably
what I would call it.

13
00:00:53.502 --> 00:00:57.392
But everyone else calls coverage, so,
I just I stick to the convention.

14
00:00:58.682 --> 00:01:03.797
But we have test UI here,
let's go try that npm run test:ui.

15
00:01:05.803 --> 00:01:08.990
&gt;&gt; Brian Holt: And you get this kind
of like nice in browser experience with

16
00:01:08.990 --> 00:01:09.509
vitest.

17
00:01:10.619 --> 00:01:15.679
So you can see it ran my tests, they
all passed the amount of time it took.

18
00:01:15.679 --> 00:01:20.338
You can only look at the failing ones, you
can run them individually if you want to.

19
00:01:21.724 --> 00:01:23.435
&gt;&gt; Brian Holt: No,
you can't run the snapshot one,

20
00:01:23.435 --> 00:01:24.889
because it's a snapshot test.

21
00:01:26.609 --> 00:01:30.670
But all that stuff, there's a module
graph, you can see what it depends on,

22
00:01:30.670 --> 00:01:31.869
which is kind of cool.

23
00:01:33.689 --> 00:01:36.041
They move around,
this is extremely useful.

24
00:01:36.041 --> 00:01:37.649
You can see the code behind them.

25
00:01:37.649 --> 00:01:42.075
You can see what they log out to the
console, you don't have anything in there,

26
00:01:42.075 --> 00:01:46.284
so, it won't do that, but,
yeah, it's kinda cool, right?

27
00:01:46.284 --> 00:01:48.299
That's it, that's the whole thing,
I just like, this is neat.

28
00:01:48.299 --> 00:01:49.379
I should show people this, right?

29
00:01:49.379 --> 00:01:55.114
So that's the whole story.
You know what I haven't shown you so far?

30
00:01:55.114 --> 00:01:57.021
And let's just go ahead and do it now,

31
00:01:57.021 --> 00:02:01.024
we haven't downloaded the VS Code
extension for vitest, and it's very cool.

32
00:02:02.314 --> 00:02:08.554
So come to VS code,
come in here and do Vitest.

33
00:02:08.554 --> 00:02:13.369
I have it down here, so make sure
you're getting Vitest from VItest and

34
00:02:13.369 --> 00:02:14.784
install that.

35
00:02:14.784 --> 00:02:16.904
I'm gonna shut this down for
a second so I can show you this.

36
00:02:18.414 --> 00:02:21.638
Once you have that, you'll have this
testing thing here on the side, for

37
00:02:21.638 --> 00:02:23.617
whatever reason, mine wasn't showing up.

38
00:02:23.617 --> 00:02:27.642
So if you had the same problem as me, like
it wasn't showing up, with the Vitesting

39
00:02:27.642 --> 00:02:31.264
and saying, like you need to install
Python stuff or something like that,

40
00:02:31.264 --> 00:02:34.845
just navigate to it, disable it,
uninstall it, and then reinstall it.

41
00:02:34.845 --> 00:02:39.978
That should work, you can also always
say Shift Command P, or Control Shift P.

42
00:02:39.978 --> 00:02:44.778
And reload window here, that usually
fixes almost all my VSCode problems.

43
00:02:46.188 --> 00:02:48.405
All right, so
now I have here my source directory.

44
00:02:48.405 --> 00:02:51.796
In my test directory I
can see all of my tests,

45
00:02:51.796 --> 00:02:56.618
you can actually go and
see the individual tests in here as well,

46
00:02:56.618 --> 00:03:00.784
and let's just go ahead and
run everything, right?

47
00:03:00.784 --> 00:03:05.011
Let's just get crazy, It'll give you
all the test coverage stuff in here, so

48
00:03:05.011 --> 00:03:08.354
you can see all the various
things that it is covering.

49
00:03:08.354 --> 00:03:09.904
You can run test individually.

50
00:03:11.584 --> 00:03:16.166
Pretty cool to come in here and
let's use this one and just say,

51
00:03:16.166 --> 00:03:20.063
I don't know, not to be null or
something like that.

52
00:03:20.063 --> 00:03:24.523
That's something that's definitely gonna
fail, notice there's a check mark here,

53
00:03:24.523 --> 00:03:25.680
I'm gonna save this.

54
00:03:27.680 --> 00:03:31.640
And if I click to run this, it's actually
gonna run that test individually.

55
00:03:31.640 --> 00:03:34.520
And it's gonna tell me it broke
on this line, for this reason.

56
00:03:37.110 --> 00:03:42.169
Pretty cool to see that directly in your
browsers, this the thing that broke.

57
00:03:42.169 --> 00:03:43.922
I think it's pretty compelling, so

58
00:03:43.922 --> 00:03:46.584
a lot of times I won't even
run the command line client.

59
00:03:46.584 --> 00:03:51.839
I'll just rely on
the this to do it itself.

60
00:03:51.839 --> 00:03:54.299
And now I can run this again,
and it'll turn up just fine.

61
00:03:54.299 --> 00:03:56.089
And then you can do
the start continuous run.

62
00:04:00.340 --> 00:04:04.540
Let's do it this way, run, okay, or I
guess we can do the coverage, that's fine.

63
00:04:07.870 --> 00:04:12.229
And so now I'm not even gonna press
the button, I'm just gonna say not and

64
00:04:12.229 --> 00:04:12.800
save it.

65
00:04:16.060 --> 00:04:17.832
And it's gonna just immediately
run it in the background.

66
00:04:17.832 --> 00:04:20.470
Every time I save the file, it's gonna
keep running and re-running my tests.

67
00:04:20.470 --> 00:04:24.596
Which is kinda cool, and it's actually
smart enough to say this test only tests

68
00:04:24.596 --> 00:04:28.434
this file and it'll only run those
specific ones, which is pretty cool.

69
00:04:28.434 --> 00:04:31.444
It's kind of there's a there's
many ways to go about doing this.

70
00:04:31.444 --> 00:04:34.442
So just pick your favorite if you like
the CLI, by all means stick with that.

71
00:04:34.442 --> 00:04:38.760
If you like the UI version,
you can do everything through the UI.

72
00:04:38.760 --> 00:04:41.985
I'm in VSCode all day, so
I tend to use VSCode or the CLI, but

73
00:04:41.985 --> 00:04:43.890
that's that's totally up to you.


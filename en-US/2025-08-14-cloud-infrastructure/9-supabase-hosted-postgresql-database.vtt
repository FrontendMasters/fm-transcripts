WEBVTT

1
00:00:00.160 --> 00:00:02.379
&gt;&gt; Erik Reinert: If we go back to
our slides really quickly here,

2
00:00:02.379 --> 00:00:03.880
we want to get app runner set up.

3
00:00:03.880 --> 00:00:05.240
What was the first thing we wanted to do?

4
00:00:05.240 --> 00:00:06.520
We wanted to do a container image.

5
00:00:06.520 --> 00:00:08.000
So what's the next thing we want to do?

6
00:00:09.600 --> 00:00:10.200
Database.

7
00:00:10.200 --> 00:00:10.895
Exactly.
Yeah.

8
00:00:10.895 --> 00:00:11.920
So let's go ahead and do that.

9
00:00:11.920 --> 00:00:15.280
So what we're going to do is we're
actually going to go to Supabase.

10
00:00:15.280 --> 00:00:17.200
Now, this is not an ad for Supabase.

11
00:00:17.200 --> 00:00:20.000
I'm not saying that all of
you should use Supabase.

12
00:00:20.000 --> 00:00:24.014
I'm just simply saying that it's an easy
way to get started with a database,

13
00:00:24.014 --> 00:00:25.200
a postgres database.

14
00:00:25.200 --> 00:00:27.237
If you don't want to
do something like rds,

15
00:00:27.237 --> 00:00:29.560
there's a lot of really
great options out there.

16
00:00:29.560 --> 00:00:33.315
I just happen to like Supabase and
if Supabase wants to sponsor me,

17
00:00:33.315 --> 00:00:35.134
they're more than welcome to.

18
00:00:35.134 --> 00:00:40.014
But no, this is just,
I really do happen to like this platform.

19
00:00:40.014 --> 00:00:44.498
I've used them for a little while now, and
yeah, so anyways, what we're gonna do is

20
00:00:44.498 --> 00:00:49.760
you're gonna log in and then after you log
in, you're gonna go to your dashboard.

21
00:00:49.760 --> 00:00:53.588
Now, you'll notice that I already
have a few projects here and so

22
00:00:53.588 --> 00:00:58.111
really quickly what I can do is I can
show you what we're going to be creating,

23
00:00:58.111 --> 00:01:02.990
but basically we're going to be
creating a database in Supabase.

24
00:01:02.990 --> 00:01:08.510
What's really nice about Supabase, and
this is when you're a startup company,

25
00:01:08.510 --> 00:01:12.110
it's really important
to have good metrics.

26
00:01:12.110 --> 00:01:14.910
It's really important to be
able to have good metrics.

27
00:01:14.910 --> 00:01:15.630
Easy management.

28
00:01:17.070 --> 00:01:21.270
One of the things I learned when I was
working at startups was if there's not

29
00:01:21.270 --> 00:01:22.602
a control panel for it,

30
00:01:22.602 --> 00:01:26.630
you're probably not enabling
everyone to be able to do their job.

31
00:01:26.630 --> 00:01:31.190
Like, just because you can do CLI and
use CLI doesn't mean that everyone can.

32
00:01:31.190 --> 00:01:35.616
And so I've made decisions around
where to deploy and how to deploy,

33
00:01:35.616 --> 00:01:40.120
not realizing that if maybe I had
taken another approach or extended it

34
00:01:40.120 --> 00:01:45.110
a little bit more, I could have enabled
a lot of other people to do their jobs.

35
00:01:45.110 --> 00:01:50.739
And so one of the reasons why I actually
like Supabase is just that you have

36
00:01:50.739 --> 00:01:55.827
all of the database management
needs really at your fingertips.

37
00:01:55.827 --> 00:01:57.756
And so again, if you're a new company, and

38
00:01:57.756 --> 00:02:01.147
you don't want to have to worry about
setting up and managing all this stuff,

39
00:02:01.147 --> 00:02:04.250
your database is probably one of
your most important things, right?

40
00:02:04.250 --> 00:02:07.626
Like, that's where all of your user
data exists, that's where Every,

41
00:02:07.626 --> 00:02:09.450
all of your data exists there.

42
00:02:09.450 --> 00:02:13.971
And so using a service like this that
has like a nice UI on top of it,

43
00:02:13.971 --> 00:02:19.153
be able to manage the database,
really user friendly and well, can enable

44
00:02:19.153 --> 00:02:24.990
a lot of other parts of the company to
do things too if they need to as well.

45
00:02:24.990 --> 00:02:30.430
Whether it be other teams want to be able
to go in and manage data or whatever.

46
00:02:30.430 --> 00:02:33.869
It's a very approachable platform.

47
00:02:33.869 --> 00:02:37.119
And so yeah, like I said,
using tools like this is not bad,

48
00:02:37.119 --> 00:02:41.539
especially in the future or in the early
on stages when you don't really know what

49
00:02:41.539 --> 00:02:43.230
you're going to be doing yet.

50
00:02:44.560 --> 00:02:46.553
So it's got a table editor,
you can see here,

51
00:02:46.553 --> 00:02:49.200
here's all the existing
tables that we have.

52
00:02:49.200 --> 00:02:51.640
It's also got an SQL editor
which is really nice.

53
00:02:51.640 --> 00:02:54.920
We'll be using that shortly where
you can just copy and paste scripts.

54
00:02:54.920 --> 00:02:57.840
You can literally just run SQL
commands right in the browser.

55
00:02:59.120 --> 00:03:00.960
It is really powerful.

56
00:03:00.960 --> 00:03:05.362
Again, if you're going to put your money
anywhere, I definitely think it's worth

57
00:03:05.362 --> 00:03:09.120
finding those valuable things
that can bring value back.

58
00:03:09.120 --> 00:03:12.680
We're going to go into, like I said,
we're going to go into Supabase.

59
00:03:12.680 --> 00:03:14.678
I'm going to go back to
my dashboard here and

60
00:03:14.678 --> 00:03:17.760
then what we're going to do is we're
going to create a new project.

61
00:03:17.760 --> 00:03:19.720
So I'm going to click New project.

62
00:03:19.720 --> 00:03:21.080
Keep it on free.

63
00:03:21.080 --> 00:03:24.793
Make sure that you have it on free.

64
00:03:24.793 --> 00:03:27.960
Okay, let me go ahead and
delete one of these really quickly.

65
00:03:27.960 --> 00:03:29.560
I'll just delete this really fast.

66
00:03:30.920 --> 00:03:36.817
Project settings and I didn't realize

67
00:03:36.817 --> 00:03:41.810
that I was going to have a limit.

68
00:03:41.810 --> 00:03:43.090
I actually pay for it.

69
00:03:45.890 --> 00:03:46.750
Cool.
Okay,

70
00:03:46.750 --> 00:03:51.657
so we're going to go back to New project
and we're going to enter our project name.

71
00:03:51.657 --> 00:03:56.290
It's going to be fem md service, right?

72
00:03:57.490 --> 00:03:59.850
You're going to want to
generate a password for it.

73
00:03:59.850 --> 00:04:01.570
Something pretty decently strong.

74
00:04:01.570 --> 00:04:04.530
I use a password generator
most of the time anyways.

75
00:04:04.530 --> 00:04:09.410
So what I would do is I would come over
here and generate something like this.

76
00:04:09.410 --> 00:04:11.490
I'm not going to generate
it on screen though.

77
00:04:12.690 --> 00:04:16.982
I don't want you to access this database.

78
00:04:16.982 --> 00:04:20.092
I'm just gonna copy and
paste this password in, and

79
00:04:20.092 --> 00:04:22.290
then I'm going to keep it for later.

80
00:04:25.730 --> 00:04:27.490
I would recommend you doing the same.

81
00:04:27.490 --> 00:04:32.298
Open up a tab in neovim or Visual Studio
code, whatever editor you're using and

82
00:04:32.298 --> 00:04:36.606
just keep these credentials available
because this is not the first and

83
00:04:36.606 --> 00:04:39.650
last time we're going to
use all of these things.

84
00:04:41.730 --> 00:04:42.578
Cool.
Okay, so

85
00:04:42.578 --> 00:04:46.446
the next thing we're going to do is we're
going to pick a region, let's do Ohio,

86
00:04:46.446 --> 00:04:48.930
that's fine,
it doesn't really matter anyways.

87
00:04:51.090 --> 00:04:52.015
Then once you do that,

88
00:04:52.015 --> 00:04:55.275
the last thing you're going to do is
you're going to click Security Options and

89
00:04:55.275 --> 00:04:58.370
you'll see here that it says what
connections do you plan to use?

90
00:04:58.370 --> 00:05:02.700
Data API connection string or
only connection string?

91
00:05:02.700 --> 00:05:07.582
What's actually nice about Supabase is
that it has an API built on top of it

92
00:05:07.582 --> 00:05:09.330
in front of your schemas.

93
00:05:09.330 --> 00:05:12.045
So you have out of the box rest API calls,
so

94
00:05:12.045 --> 00:05:15.593
if you don't want to have to
make postgres connection,

95
00:05:15.593 --> 00:05:20.620
you want to just start grabbing data
immediately from your database.

96
00:05:20.620 --> 00:05:24.620
Again, think about the ability
that others now have.

97
00:05:24.620 --> 00:05:26.820
You don't even have to worry
about giving them a connection.

98
00:05:26.820 --> 00:05:29.709
They can just immediately
start working with the data,

99
00:05:29.709 --> 00:05:33.970
which again is very powerful for
even metrics and all that stuff.

100
00:05:33.970 --> 00:05:36.170
In this case we're just going
to say only connection string.

101
00:05:36.170 --> 00:05:38.570
We are going to try and
make it a little secure, obviously.

102
00:05:38.570 --> 00:05:41.210
So that's why we're going to
say we want to make it so

103
00:05:41.210 --> 00:05:44.690
that that data API is turned off and
only connection string is there.

104
00:05:45.730 --> 00:05:50.862
So I'm going to hit create new project and
then once I do that,

105
00:05:50.862 --> 00:05:54.330
I should be brought into this dashboard.

106
00:05:54.330 --> 00:05:55.810
So this is going to take a few seconds.

107
00:05:55.810 --> 00:05:57.337
It is setting up the project,

108
00:05:57.337 --> 00:06:01.690
but underneath the hood they're going out
and doing what you would have been doing.

109
00:06:01.690 --> 00:06:03.761
They're creating that
database instance for

110
00:06:03.761 --> 00:06:07.330
you, they're setting up all the ACLs and
all the permissions and everything.

111
00:06:07.330 --> 00:06:12.208
Like they're doing all the work that you
would have been doing anyways underneath

112
00:06:12.208 --> 00:06:12.850
the hood.

113
00:06:12.850 --> 00:06:16.505
Once the project is set up, you basically
should be landed on a page like this.

114
00:06:16.505 --> 00:06:21.141
And if we go to our database, for example,
we will see that there, I'm sorry,

115
00:06:21.141 --> 00:06:26.008
our table editor, we'll see that there's
no tables there, SQL editor is blank.

116
00:06:26.008 --> 00:06:29.270
So what we need to do now is we actually
need to start working with the database.

117
00:06:29.270 --> 00:06:31.990
We need to actually start
setting it up and whatnot.

118
00:06:33.590 --> 00:06:39.579
What we're going to do is we're
going to go to the SQL editor and

119
00:06:39.579 --> 00:06:44.438
just like before,
not even changing the process,

120
00:06:44.438 --> 00:06:51.110
we're going to copy that SQL out of
the readme Txt and into the editor.

121
00:06:52.800 --> 00:06:57.728
So I'm going to go up here,
start, go here, copy,

122
00:06:57.728 --> 00:07:02.080
and I'm just going to paste it into there.

123
00:07:02.080 --> 00:07:06.800
Again, it not making fun at all.

124
00:07:06.800 --> 00:07:10.000
But in all seriousness,
it's a common approach.

125
00:07:10.000 --> 00:07:11.072
A lot of people do.

126
00:07:11.072 --> 00:07:14.160
There's still a lot of just
manual database work and

127
00:07:14.160 --> 00:07:17.680
that requirement of just copying and
pasting and scripts.

128
00:07:17.680 --> 00:07:23.360
In having this ability out of the box
again, it already paid for itself.

129
00:07:23.360 --> 00:07:25.520
I don't have to figure
out how to run this.

130
00:07:25.520 --> 00:07:26.400
That saves time.

131
00:07:26.400 --> 00:07:30.640
That literally just saved us time,
which is nice.

132
00:07:30.640 --> 00:07:36.560
Once you paste that in and
then you hit run, it will run the query.

133
00:07:36.560 --> 00:07:39.120
It should say success, no rows returned.

134
00:07:39.120 --> 00:07:42.322
But then if I go to my table editor and
there we go,

135
00:07:42.322 --> 00:07:44.680
I can see all of my tables now exist.

136
00:07:44.680 --> 00:07:48.390
If I click on one of them,
I can see administrators table.

137
00:07:48.390 --> 00:07:52.397
I can see my aspiration updates
comments followers now again,

138
00:07:52.397 --> 00:07:56.932
this is a completely empty database,
but the ability to have something

139
00:07:56.932 --> 00:08:01.990
out of the box that's so
easily usable is really, really nice.

140
00:08:01.990 --> 00:08:02.953
Again, there you go.

141
00:08:02.953 --> 00:08:04.612
Now, we didn't need to change anything,

142
00:08:04.612 --> 00:08:07.270
I didn't have to figure out how
to script a whole bunch of stuff.

143
00:08:07.270 --> 00:08:12.149
As I said before, there was a lot of
reason as to why we took this approach and

144
00:08:12.149 --> 00:08:15.570
we're starting to see it
now really take fruition.

145
00:08:17.170 --> 00:08:21.530
So after we do that, we're going
to just grab our connection URL.

146
00:08:21.530 --> 00:08:24.370
At the very, very top there's
a button that says connect.

147
00:08:24.370 --> 00:08:26.505
And please make sure
to write this down and

148
00:08:26.505 --> 00:08:28.770
put it somewhere because it's all unique.

149
00:08:30.770 --> 00:08:31.976
Once you click that button,

150
00:08:31.976 --> 00:08:35.250
it will show you all the different ways
that you can connect to your database.

151
00:08:36.850 --> 00:08:40.898
You'll see direct connection,
you'll see Transaction Pooler,

152
00:08:40.898 --> 00:08:42.680
Session Pooler on the right.

153
00:08:42.680 --> 00:08:44.560
You'll see each of how it works.

154
00:08:45.680 --> 00:08:49.152
The only challenge is
that Direct connection,

155
00:08:49.152 --> 00:08:54.198
even though it sounds like the default,
it's not IPv4 compliant.

156
00:08:54.198 --> 00:08:59.529
So they use direct IPv6 connections,
which means that if you don't provision or

157
00:08:59.529 --> 00:09:03.021
get a database or
service provisioned in IPv6 land.

158
00:09:03.021 --> 00:09:04.900
It won't be able to connect to it, or

159
00:09:04.900 --> 00:09:08.180
at least easily without making
some weird things work.

160
00:09:08.180 --> 00:09:11.380
So we won't be using Direct
connection in this case.

161
00:09:11.380 --> 00:09:13.620
We also won't be using Transaction Pooler.

162
00:09:13.620 --> 00:09:18.516
Transaction Poolers are a little
bit more focused for lambdas and

163
00:09:18.516 --> 00:09:21.460
a lot of connections simultaneously.

164
00:09:21.460 --> 00:09:22.860
We don't really need to worry about that.

165
00:09:22.860 --> 00:09:25.380
We know we're only really
connecting one service.

166
00:09:25.380 --> 00:09:30.402
The last one is the Shared pooler,
which is IPv4 compatible and

167
00:09:30.402 --> 00:09:33.100
really just a direct connection.

168
00:09:33.100 --> 00:09:38.377
But over IPv4 I can grab this little
button right here when I hover over it.

169
00:09:38.377 --> 00:09:42.230
Copy that, and then, we're just
going to put that in the notes too.

170
00:09:42.230 --> 00:09:45.154
Let's just put this in notes because
we're going to need this as well.

171
00:09:45.154 --> 00:09:47.857
So I'm just going to say
database URL in my notes, and

172
00:09:47.857 --> 00:09:50.390
then I'm just going to paste that.

173
00:09:50.390 --> 00:09:55.185
One thing I do want to point out is
you'll notice in the URL it does say

174
00:09:55.185 --> 00:09:56.375
your password.

175
00:09:56.375 --> 00:10:01.274
So I did not dox myself here,
just be aware that you're going to have to

176
00:10:01.274 --> 00:10:04.776
pass in the password that you generated,
right?

177
00:10:04.776 --> 00:10:10.320
With the password portion of that URL,
so that you've got the full URL.


WEBVTT

1
00:00:00.240 --> 00:00:02.331
&gt;&gt; Erik Reinert: For
everyone who has a successful deployment,

2
00:00:02.331 --> 00:00:06.160
at least while I'm waiting for mine,
there's a couple of things we need to do.

3
00:00:06.160 --> 00:00:07.040
So, we deployed.

4
00:00:07.040 --> 00:00:09.720
Yay, but if you click on it, what happens?

5
00:00:09.720 --> 00:00:11.560
What happens when you click on your URLs?

6
00:00:11.560 --> 00:00:13.200
Does the page actually load?

7
00:00:13.200 --> 00:00:14.320
Cool.
Awesome.

8
00:00:14.320 --> 00:00:15.120
So that's great.

9
00:00:15.120 --> 00:00:19.360
However, if you try going through
the Google process, what happens?

10
00:00:19.360 --> 00:00:20.320
&gt;&gt; Speaker 2: It's not going to work.

11
00:00:20.320 --> 00:00:21.920
&gt;&gt; Erik Reinert: Yeah,
it's not gonna work, yeah.

12
00:00:21.920 --> 00:00:25.840
So that's because we don't have
the domain set up properly for the.

13
00:00:27.000 --> 00:00:29.640
So what we want to do is we want
to go back to Google Cloud.

14
00:00:31.080 --> 00:00:34.760
So everybody go to Google Cloud,
get to your clients or

15
00:00:34.760 --> 00:00:39.400
get to your credentials,
click on clients, go to here.

16
00:00:39.400 --> 00:00:42.330
Then what we want to do is for
now, and again,

17
00:00:42.330 --> 00:00:47.498
I said earlier you probably wouldn't do
this, but for now, what I want you to do

18
00:00:47.498 --> 00:00:53.950
is effectively add a new URL with the base
being your service that you just deployed.

19
00:00:53.950 --> 00:00:59.070
If I go here, you can see my address
is nz, blah, blah, blah, blah, blah.

20
00:00:59.070 --> 00:00:59.790
Whatever.

21
00:00:59.790 --> 00:01:01.070
It's going to copy this.

22
00:01:02.590 --> 00:01:05.737
I'm going to go to here,
paste this in, and

23
00:01:05.737 --> 00:01:11.710
then I'm just gonna copy this little last
portion here, do that and then hit Save.

24
00:01:15.310 --> 00:01:18.051
The next thing you're going to
want to do before that, my bad,

25
00:01:18.051 --> 00:01:19.150
is go to Configuration.

26
00:01:21.900 --> 00:01:26.020
You're going to want to click on Edit for
your service again.

27
00:01:26.020 --> 00:01:30.220
This is how you would update service
configuration values in general Edit.

28
00:01:30.220 --> 00:01:34.060
Then it'll give you the ability
to change that URL as well.

29
00:01:34.060 --> 00:01:38.540
Your Google redirect URL
to the same thing too.

30
00:01:38.540 --> 00:01:42.113
Then you should see a button
that says Save and Deploy or

31
00:01:42.113 --> 00:01:44.140
Save and rebuild on the right.

32
00:01:44.140 --> 00:01:46.689
Just click that and
you'll get back to where I am,

33
00:01:46.689 --> 00:01:48.580
where I'm waiting on a deployment.

34
00:01:48.580 --> 00:01:51.500
Go to Configuration tab in App Runner.

35
00:01:51.500 --> 00:01:57.020
Go to Edit under Configure Service,
little button right there.

36
00:01:57.020 --> 00:01:58.460
Sorry, little button, right?

37
00:01:58.460 --> 00:01:59.740
Yeah.
You see it?

38
00:01:59.740 --> 00:02:00.420
Cool.
And

39
00:02:00.420 --> 00:02:05.180
then just update the URL here
as well to the exact same thing.

40
00:02:10.870 --> 00:02:11.990
&gt;&gt; Speaker 2: I think you just have the-.

41
00:02:11.990 --> 00:02:12.830
&gt;&gt; Erik Reinert: I do, yeah.

42
00:02:12.830 --> 00:02:13.710
I'm grabbing this.

43
00:02:13.710 --> 00:02:14.310
Thank you.

44
00:02:17.590 --> 00:02:19.030
Nice.

45
00:02:19.030 --> 00:02:19.750
There we go.

46
00:02:22.550 --> 00:02:23.990
And save changes.

47
00:02:25.990 --> 00:02:28.550
So this should deploy or
trigger another deployment.

48
00:02:28.550 --> 00:02:33.071
Basically, anytime you change
a configuration value or deploy an image,

49
00:02:33.071 --> 00:02:37.760
you will have to wait for
it to go through the deployment process.

50
00:02:37.760 --> 00:02:38.880
So, my deployment is done.

51
00:02:38.880 --> 00:02:46.160
We updated the credentials, meaning that
Google's credential OAuth should work now.

52
00:02:46.160 --> 00:02:47.480
And we also have a database.

53
00:02:47.480 --> 00:02:48.680
So we should have two expectations.

54
00:02:48.680 --> 00:02:53.360
The first expectation should
be that the page loads.

55
00:02:53.360 --> 00:02:58.290
I can go through the OAuth process,
and that I can also create a user or

56
00:02:58.290 --> 00:03:02.880
all that stuff, create all that
database entries and whatnot.

57
00:03:02.880 --> 00:03:04.440
I'm going to load the page right.

58
00:03:04.440 --> 00:03:05.480
I'm going to click get started.

59
00:03:06.520 --> 00:03:07.120
Awesome.

60
00:03:07.120 --> 00:03:08.080
I do see that.

61
00:03:08.080 --> 00:03:10.120
I'm gonna click on my login.

62
00:03:10.120 --> 00:03:11.440
Hey, look at that.

63
00:03:11.440 --> 00:03:12.440
Okay, cool.

64
00:03:12.440 --> 00:03:16.640
So after a decent amount of work
I was able to actually log in.

65
00:03:16.640 --> 00:03:17.960
Okay, very cool.

66
00:03:17.960 --> 00:03:21.160
I'm going to type in my
display name as Black Glasses.

67
00:03:21.160 --> 00:03:22.440
I'm gonna hit save changes.

68
00:03:22.440 --> 00:03:23.160
Does that work?

69
00:03:24.360 --> 00:03:25.240
There we go.

70
00:03:25.240 --> 00:03:25.840
Awesome.

71
00:03:25.840 --> 00:03:28.880
So yeah, so I'm seeing my username.

72
00:03:28.880 --> 00:03:32.010
Let's go in here and say something fun.

73
00:03:34.010 --> 00:03:34.970
Share update.

74
00:03:37.050 --> 00:03:37.770
There we go.

75
00:03:37.770 --> 00:03:40.650
Cool, cool.

76
00:03:40.650 --> 00:03:41.770
What do we have?

77
00:03:41.770 --> 00:03:44.220
Well, after a decent amount of working,

78
00:03:44.220 --> 00:03:47.370
we now have a fully running
application in the cloud.

79
00:03:48.410 --> 00:03:51.850
Now again,
this was a little tough the first time.

80
00:03:53.290 --> 00:03:56.890
Think about having deploy
a whole Kubernetes cluster.

81
00:03:58.330 --> 00:03:59.890
Compare that to what you just did.

82
00:03:59.890 --> 00:04:03.701
Even though what you just did was
obviously a little challenging because

83
00:04:03.701 --> 00:04:05.430
it's like new and whatever.

84
00:04:05.430 --> 00:04:10.677
But the reality of it is that most
people can do what we just did versus

85
00:04:10.677 --> 00:04:15.390
what a lot of other delivery and
deployment approaches are.

86
00:04:15.390 --> 00:04:17.910
Again, like ECS or Kubernetes even.

87
00:04:17.910 --> 00:04:22.190
There was no need or
knowledge of VPC or of networking.

88
00:04:22.190 --> 00:04:27.270
There was no need or
knowledge of any low level thing.

89
00:04:27.270 --> 00:04:31.663
It really just kept our focus entirely
on what we were trying to focus on,

90
00:04:31.663 --> 00:04:33.980
which is deploying our application.

91
00:04:35.340 --> 00:04:36.460
We've done that.

92
00:04:36.460 --> 00:04:37.900
We've successfully done that.

93
00:04:37.900 --> 00:04:40.860
I am on an application in the cloud.

94
00:04:40.860 --> 00:04:42.460
This is not hosted by me.

95
00:04:42.460 --> 00:04:45.020
We have a URL that's working.

96
00:04:45.020 --> 00:04:49.060
What's cool is now I can even go in and
start looking at those metrics.

97
00:04:49.060 --> 00:04:51.700
I should start seeing some
metrics slowly come in.

98
00:04:51.700 --> 00:04:53.591
You can see I have one little metric,

99
00:04:53.591 --> 00:04:58.680
one little guy right here that says I have
five requests that have been sent over.

100
00:04:58.680 --> 00:05:04.040
I could see the response count
which again, 204 requests.

101
00:05:04.040 --> 00:05:06.120
I'm guessing I had one.

102
00:05:06.120 --> 00:05:07.600
There's my request latency.

103
00:05:07.600 --> 00:05:11.080
I can see that on average
my requests are around 60.

104
00:05:11.080 --> 00:05:15.240
I'm guessing this is MS, so
60 milliseconds, which is really great.

105
00:05:15.240 --> 00:05:16.360
That's pretty fast.

106
00:05:17.560 --> 00:05:21.640
Then we can see my active instances and
utilization.

107
00:05:21.640 --> 00:05:23.360
CPU utilization is tiny.

108
00:05:23.360 --> 00:05:24.920
I don't have to worry about that at all.

109
00:05:24.920 --> 00:05:30.390
Memory utilization looks good and
concurrencies is pretty much dead.

110
00:05:30.390 --> 00:05:34.365
So yeah, I mean I have a running
application so the last thing we

111
00:05:34.365 --> 00:05:39.750
want to do really quickly is just make
sure that we commit those changes.

112
00:05:39.750 --> 00:05:42.912
So, what we're gonna do is
we're gonna to workshop or

113
00:05:42.912 --> 00:05:47.030
your branch that you're
working on if you haven't yet.

114
00:05:47.030 --> 00:05:51.190
I had to commit and push mine up
because I was pushing up that example.

115
00:05:51.190 --> 00:05:55.709
But if you do just git add a that
that will make sure to add everything

116
00:05:55.709 --> 00:05:57.090
to your branch.

117
00:05:57.090 --> 00:06:01.603
Does git commit M and then we'll just say

118
00:06:01.603 --> 00:06:06.610
added docker file for deployment, right?

119
00:06:06.610 --> 00:06:10.387
Hit enter and
then you'll do git push origin and

120
00:06:10.387 --> 00:06:13.890
then the branch name or
git push if you want.

121
00:06:13.890 --> 00:06:15.250
You can just do git push.

122
00:06:15.250 --> 00:06:17.410
So we'll do git push and
then there you go.

123
00:06:17.410 --> 00:06:18.610
Your code is up to date.

124
00:06:18.610 --> 00:06:21.196
So now if you go to your print,

125
00:06:21.196 --> 00:06:27.150
you should see basically
something that looks like mine.

126
00:06:27.150 --> 00:06:31.630
We'll go to my PR really quickly, make
sure that you have these changes as well.

127
00:06:31.630 --> 00:06:35.390
You will have probably a whole bunch of
template changes and stuff like that.

128
00:06:35.390 --> 00:06:36.750
Don't worry about that.

129
00:06:36.750 --> 00:06:41.255
The only change you really need
to worry about is the dockerfile

130
00:06:41.255 --> 00:06:42.790
change that we made.

131
00:06:42.790 --> 00:06:44.510
This is really it.

132
00:06:44.510 --> 00:06:48.510
You may have the docker compose change,
but that was a fix.

133
00:06:48.510 --> 00:06:51.097
That was something that realistically
would have been there at

134
00:06:51.097 --> 00:06:52.410
the beginning of the course.

135
00:06:52.410 --> 00:06:56.524
So if you think about like what would
have only been added in this case,

136
00:06:56.524 --> 00:07:00.650
all we needed was a docker file to
deploy our application to the cloud.


WEBVTT

1
00:00:00.480 --> 00:00:01.200
&gt;&gt; Erik Reinert: Okay, cool.

2
00:00:01.200 --> 00:00:06.040
So we have sourced our ENv,
we know that we have all of our values.

3
00:00:06.040 --> 00:00:10.140
So now what we're going
to do is we're just going

4
00:00:10.140 --> 00:00:13.040
to do Docker compose up, detach.

5
00:00:14.080 --> 00:00:16.560
So I'm gonna actually run a container now.

6
00:00:16.560 --> 00:00:19.845
Now we haven't even looked at the file, so

7
00:00:19.845 --> 00:00:24.240
we're just going to blindly
take the steps that the doc.

8
00:00:24.240 --> 00:00:26.700
The readme said and
just hope that it works, right?

9
00:00:26.700 --> 00:00:28.260
So you should see
something more like this.

10
00:00:28.260 --> 00:00:28.860
You'll see it.

11
00:00:28.860 --> 00:00:34.060
Start pulling the image and then run it.

12
00:00:34.060 --> 00:00:36.300
What is Orb Stack?

13
00:00:36.300 --> 00:00:36.940
Good question.

14
00:00:38.540 --> 00:00:42.940
So I'm a little bougie.

15
00:00:42.940 --> 00:00:44.460
It's the easiest way to put it.

16
00:00:46.220 --> 00:00:50.780
I use a Mac in my own personal
development experience.

17
00:00:50.780 --> 00:00:54.490
I really don't like having
to deal with stuff.

18
00:00:54.490 --> 00:00:58.970
And I hated Docker Desktop I hated it,
itwas a terrible experience.

19
00:00:58.970 --> 00:01:02.730
I didn't have a really good
experience just dealing with it.

20
00:01:02.730 --> 00:01:03.230
Whatever.

21
00:01:04.570 --> 00:01:07.850
A while ago I heard about
something called Orb Stack.

22
00:01:07.850 --> 00:01:10.890
It's a Mac only tool, from what I know.

23
00:01:10.890 --> 00:01:12.370
I don't know if it's available on Linux.

24
00:01:12.370 --> 00:01:16.570
It might be, but it's basically
an alternative to Docker Desktop.

25
00:01:16.570 --> 00:01:22.190
The thing that makes it really nice though
is that you can even manage VMs with it.

26
00:01:22.190 --> 00:01:25.070
This was something I always
wanted Docker Desktop to do.

27
00:01:25.070 --> 00:01:29.070
I always wanted Docker Desktop to be able
to make it so I could create VMs as well.

28
00:01:29.070 --> 00:01:30.910
But they didn't.

29
00:01:30.910 --> 00:01:33.350
The idea here is I can run containers.

30
00:01:33.350 --> 00:01:36.030
You'll see.
Here is my workshop postgres container.

31
00:01:36.030 --> 00:01:39.710
I have this nice UI,
I can run kubernetes as well.

32
00:01:39.710 --> 00:01:42.652
Now granted you can do that with
Docker Desktop, but this is,

33
00:01:42.652 --> 00:01:43.870
in my opinion, nicer.

34
00:01:43.870 --> 00:01:49.470
The next thing it tells us to do is
if we go back to this readme, right?

35
00:01:49.470 --> 00:01:55.190
It says, okay, M created credentials and
then go, run main, go.

36
00:01:55.190 --> 00:01:58.070
So if we do go, run main, go.

37
00:02:00.630 --> 00:02:02.390
Okay, cool.

38
00:02:02.390 --> 00:02:04.790
Does that do that for you guys?

39
00:02:04.790 --> 00:02:09.190
I got a password authentication failed for
Postgres.

40
00:02:12.230 --> 00:02:13.970
Okay, did you guys get that too?

41
00:02:13.970 --> 00:02:15.810
I did, you got that as well.

42
00:02:15.810 --> 00:02:17.170
So I did not realize this.

43
00:02:17.170 --> 00:02:18.930
I apologize.

44
00:02:18.930 --> 00:02:23.875
Orb Stack, I guess is their
networking works a little bit

45
00:02:23.875 --> 00:02:26.770
more like integrated, I guess.

46
00:02:28.130 --> 00:02:33.330
So in the Docker compose here,
it says network mode.

47
00:02:33.330 --> 00:02:35.330
We just did this to make our lives easier.

48
00:02:35.330 --> 00:02:40.210
But what I want you to do really quickly
is just change this to this right,

49
00:02:40.210 --> 00:02:41.100
right here.

50
00:02:41.100 --> 00:02:47.020
So get rid of the host and
simply change that.

51
00:02:47.020 --> 00:02:51.576
What's funny is you just went through
something that is very common in software

52
00:02:51.576 --> 00:02:55.800
development, which is I got code and
now it's not working on my machine.

53
00:02:55.800 --> 00:03:01.290
If you change that, and
then you just do Docker here,

54
00:03:01.290 --> 00:03:08.700
I'll just do down like this and
then bring it back up, then do go run.

55
00:03:08.700 --> 00:03:10.140
It should still work.

56
00:03:10.140 --> 00:03:11.292
You can see that for

57
00:03:11.292 --> 00:03:16.260
me, it worked in both scenarios because of
just how Docker Orb Stack works for me.

58
00:03:16.260 --> 00:03:19.324
But the results, again,
even though it's slightly different,

59
00:03:19.324 --> 00:03:20.780
it should be the same result.

60
00:03:20.780 --> 00:03:22.860
So try going to that URL.

61
00:03:25.180 --> 00:03:25.980
Do you get this?

62
00:03:27.100 --> 00:03:27.820
Yeah.

63
00:03:27.820 --> 00:03:32.549
So this is another fun part about
deploying applications is you may

64
00:03:32.549 --> 00:03:36.780
have it running, but
it doesn't mean that it's working.

65
00:03:38.600 --> 00:03:42.194
And so this is a scenario where this is
why I did it this way was because you're

66
00:03:42.194 --> 00:03:43.160
absolutely right.

67
00:03:43.160 --> 00:03:45.200
We didn't run any schema data migrate.

68
00:03:45.200 --> 00:03:47.440
We did nothing,
we just went up and worked.

69
00:03:47.440 --> 00:03:50.968
So this kind of goes back to that
whole readme SQL document and

70
00:03:50.968 --> 00:03:52.520
everything like that.

71
00:03:52.520 --> 00:03:55.367
If the user didn't realize
they had to do that or

72
00:03:55.367 --> 00:03:58.440
whatever, then they would
easily fall into this.

73
00:03:58.440 --> 00:04:00.881
And then you'd be hearing
somebody messaging Slack,

74
00:04:00.881 --> 00:04:02.640
why is this not working on my computer?

75
00:04:02.640 --> 00:04:08.006
So, yeah, it would be cool if in
the future we can just do up and

76
00:04:08.006 --> 00:04:13.067
then maybe something else so
that we know it gets seeded and

77
00:04:13.067 --> 00:04:17.600
then run so
that we know that we're all good to go.

78
00:04:17.600 --> 00:04:21.280
So I'm going to stop running
the application really quickly.

79
00:04:21.280 --> 00:04:24.303
The next thing I'm going to
do is I'm going to go back

80
00:04:24.303 --> 00:04:28.320
to the document because I realize,
okay, I got to run some stuff.

81
00:04:28.320 --> 00:04:33.800
Did you just do Docker Composer down,
or you left the containers running?

82
00:04:33.800 --> 00:04:36.560
Yeah, we wanna keep the containers
running in the background.

83
00:04:36.560 --> 00:04:39.695
And the reason for that, and
this is what I want you to try as well,

84
00:04:39.695 --> 00:04:43.400
is because in the setup, you'll notice
that there's a command right here.

85
00:04:43.400 --> 00:04:48.916
Docker, compose, exec, postgres, psql U,
blah, blah, blah right This makes it so

86
00:04:48.916 --> 00:04:52.960
that we can actually connect to
the instance and run some stuff.

87
00:04:52.960 --> 00:04:56.490
So I'm going to open up a new window or
a new tab and.

88
00:04:56.490 --> 00:04:59.197
And then I'm just gonna run that here,
actually source, and

89
00:04:59.197 --> 00:05:00.930
then I'm just gonna run that command.

90
00:05:00.930 --> 00:05:05.450
So make sure you source your M and
then run that command.

91
00:05:05.450 --> 00:05:07.770
Now if you run that command and you're.

92
00:05:07.770 --> 00:05:10.330
Again, I'm very curious to
see what happens for you.

93
00:05:10.330 --> 00:05:12.170
You should get this.

94
00:05:12.170 --> 00:05:18.519
The next thing we want to do really is
just copy this whole block of code here,

95
00:05:18.519 --> 00:05:23.879
all of the SQL from the first SQL
all the way down to the last line,

96
00:05:23.879 --> 00:05:28.941
then just paste that bad boy in
like that Once you copy that and

97
00:05:28.941 --> 00:05:34.893
then you hit exit, we now should be
able to go back, do go, run again and

98
00:05:34.893 --> 00:05:41.460
then if I refresh, yay,
my application loads up, I'm logged in.

99
00:05:41.460 --> 00:05:43.460
So that's the first thing.

100
00:05:43.460 --> 00:05:48.110
The next thing we want to do is
actually try the login process.

101
00:05:48.110 --> 00:05:52.990
So do me a favor, click on, get started,
go through that and there you go.

102
00:05:52.990 --> 00:05:55.310
Now I am logged in with my profile.

103
00:05:56.510 --> 00:05:57.010
Cool.

104
00:06:01.710 --> 00:06:02.350
Awesome.

105
00:06:02.350 --> 00:06:04.590
Then if I click logout,
I should go back to that.

106
00:06:04.590 --> 00:06:05.750
So what do we know?

107
00:06:05.750 --> 00:06:09.870
We know that we set up a database.

108
00:06:09.870 --> 00:06:14.430
We know that we gave it credentials or,
sorry, we gave it SQL.

109
00:06:14.430 --> 00:06:18.971
We know that we have our OAuth
client set up as long as we expose

110
00:06:18.971 --> 00:06:22.430
the environment variables the right way.

111
00:06:22.430 --> 00:06:26.532
And we know that if we run the application
with all of that stuff, precursor set up,

112
00:06:26.532 --> 00:06:27.870
it works.

113
00:06:27.870 --> 00:06:28.370
Cool.

114
00:06:29.550 --> 00:06:36.969
If we were in this scenario, we would then
say, okay, I now know how this app works,

115
00:06:36.969 --> 00:06:41.900
I know how it runs and
I know what I need to set it up again.

116
00:06:41.900 --> 00:06:45.926
The reason why we went through this is
that this is part of that understanding of

117
00:06:45.926 --> 00:06:48.980
you can't just take an application and
do nothing with it.

118
00:06:48.980 --> 00:06:52.686
You really have to get comfortable with it
a little bit to be able to maintain it and

119
00:06:52.686 --> 00:06:55.740
understand what are its parameters and
all of that.

120
00:06:55.740 --> 00:06:56.620
Cool, awesome.

121
00:06:56.620 --> 00:06:59.740
This works and we are moving forward.

122
00:07:02.380 --> 00:07:03.820
Let me see what we've got next.

123
00:07:05.340 --> 00:07:08.261
Now, if you want to, just to be sure, and

124
00:07:08.261 --> 00:07:12.180
I would even recommend this
is use it a little bit.

125
00:07:12.180 --> 00:07:16.980
So I'm going to go in here, let me
start running the application again.

126
00:07:18.260 --> 00:07:22.182
So I'm going to go in here,
I'm going to go back in,

127
00:07:22.182 --> 00:07:26.740
log back in again,
then I'm just going to share something.

128
00:07:28.580 --> 00:07:31.220
Hello World.

129
00:07:34.500 --> 00:07:35.380
Share, update.

130
00:07:38.240 --> 00:07:40.160
Okay, cool.
So database is even working.

131
00:07:40.160 --> 00:07:44.160
If I click on this, this is my comment.

132
00:07:46.560 --> 00:07:49.435
Cool.
Okay, so again, not only did we test

133
00:07:49.435 --> 00:07:54.320
login, we actually tried making
sure that functionality is working.

134
00:07:54.320 --> 00:07:57.720
I can update, I can add comments,
we're in a good spot.

135
00:07:57.720 --> 00:08:01.760
The database, everything is working and
we have successfully ran the application.


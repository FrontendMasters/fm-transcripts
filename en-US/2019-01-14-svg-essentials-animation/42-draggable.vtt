WEBVTT

1
00:00:00.340 --> 00:00:01.930
&gt;&gt; Sarah Drasner: There's
this thing called Draggable,

2
00:00:01.930 --> 00:00:03.750
that you can use with GreenSock.

3
00:00:03.750 --> 00:00:07.390
So Draggable is really easy to work with.

4
00:00:07.390 --> 00:00:11.910
It's a plugin that we mentioned before
in those code pen safe plugins.

5
00:00:11.910 --> 00:00:14.630
So it's a device enabled for touch screen.

6
00:00:14.630 --> 00:00:16.450
You can impose bounce.

7
00:00:16.450 --> 00:00:21.434
So you can either have the bounds
be like this div of a container, or

8
00:00:21.434 --> 00:00:27.130
you can say, top left width and height,
and kind of impose bounds that way.

9
00:00:27.130 --> 00:00:30.635
You can have momentum,
if you have the ThrowPropsPlugin as well.

10
00:00:30.635 --> 00:00:33.075
You can do hit test to see
if elements hit each other.

11
00:00:33.075 --> 00:00:36.455
If you ever want to make a game or
something, you can use it that way.

12
00:00:36.455 --> 00:00:39.395
It honors transform origin,
which is really cool,

13
00:00:39.395 --> 00:00:41.495
a lot of other Draggable things don't.

14
00:00:41.495 --> 00:00:44.925
It still works on transformed elements,
you can lock an axis,

15
00:00:44.925 --> 00:00:47.785
it's GPU accelerated and
request animation frame driven.

16
00:00:47.785 --> 00:00:51.400
And really, all you need to make
it work Is this Draggable.create.

17
00:00:53.490 --> 00:00:57.050
So if I have a Mr.
Potato Head, I can kind of move,

18
00:00:57.050 --> 00:01:00.990
okay, I'm gonna make myself here,
I don't have a mustache.

19
00:01:00.990 --> 00:01:05.410
I'm gonna put this eyes on there,
and I'm like, generally,

20
00:01:05.410 --> 00:01:10.290
kind of smiley, and then now I have
brown hair, but before I had blond hair.

21
00:01:10.290 --> 00:01:11.189
So I'll just put both.

22
00:01:12.370 --> 00:01:17.250
And a hat, I'll put that up there, okay?

23
00:01:17.250 --> 00:01:22.740
So I could also decide I needed contacts,
and put blue eyes in there.

24
00:01:22.740 --> 00:01:24.620
So you could kinda play around with it,

25
00:01:24.620 --> 00:01:27.360
it's not actually that much
code to make this work.

26
00:01:28.860 --> 00:01:31.630
I'm just like, grab everything in there.

27
00:01:31.630 --> 00:01:35.360
They each have to be separate, right,
because I want them to move separately.

28
00:01:35.360 --> 00:01:40.360
So I'm like, go get all of them,
and Draggable.create them, and

29
00:01:40.360 --> 00:01:46.570
then make them fun to play with for
people who are immature, like me.

30
00:01:46.570 --> 00:01:52.230
[LAUGH] And there's a bunch of
nerds on CodePen that do these

31
00:01:52.230 --> 00:01:56.820
creative coding weekends and challenges,
and there was a pastel dots weekend.

32
00:01:56.820 --> 00:02:02.152
So I made these little guys, and really,
I could've made them hit testable and

33
00:02:02.152 --> 00:02:06.129
things like that, but
I kind of liked when they, you know,

34
00:02:06.129 --> 00:02:09.420
landed on each other, and
went over each other.

35
00:02:09.420 --> 00:02:12.870
And again, code is super simple.

36
00:02:12.870 --> 00:02:16.280
I'm staggering back and forth.

37
00:02:16.280 --> 00:02:18.970
I'm just basically saying,
repeat negative one.

38
00:02:18.970 --> 00:02:20.592
This part I didn't mention before.

39
00:02:20.592 --> 00:02:22.893
Yo-yo true will make it go back and
forth, if it's repeated.

40
00:02:22.893 --> 00:02:29.990
So I'm just saying, do this and then do
this, and then do this and then do this.

41
00:02:29.990 --> 00:02:32.317
And then Draggable.create all of them and
then we're done, and

42
00:02:32.317 --> 00:02:33.260
we have this pastel dots.

43
00:02:35.500 --> 00:02:39.268
So there's also call back, so you don't
just have to work, like if you wanna,

44
00:02:39.268 --> 00:02:43.180
you don't have to just play with hit test,
you could work with all sorts of stuff.

45
00:02:43.180 --> 00:02:48.070
You could work with onPress,
onDragStart, onDragEnd, on Release.

46
00:02:48.070 --> 00:02:50.550
You could really make
a game with Draggable.

47
00:02:50.550 --> 00:02:54.685
So this refers to the Draggable
instance itself, so

48
00:02:54.685 --> 00:02:57.645
you don't have to wonder
what this is referring to.

49
00:02:57.645 --> 00:03:01.745
Have you ever heard that joke that's like,
every time I work with

50
00:03:01.745 --> 00:03:06.385
JavaScript I wanna say this is bullshit,
but I don't remember what this refers to.

51
00:03:06.385 --> 00:03:11.175
[LAUGH] So this is, that's kind of
nice that you know what this is.

52
00:03:11.175 --> 00:03:14.854
So it also dispatches events, so
you can do at event listener, and

53
00:03:14.854 --> 00:03:15.983
that kind of stuff.

54
00:03:19.677 --> 00:03:22.910
&gt;&gt; Sarah Drasner: It's loading, loading.

55
00:03:22.910 --> 00:03:25.410
This is one of GreenSock's pens,
but I really like it.

56
00:03:25.410 --> 00:03:27.956
It shows how you can have droppable logic.

57
00:03:27.956 --> 00:03:32.790
So with hit test, you can kind of see,
but one thing about this is, watch,

58
00:03:32.790 --> 00:03:38.450
it's not actually happening until 50% or
more across.

59
00:03:38.450 --> 00:03:44.980
Which is really great, because when you're
working with elements inside of the dom,

60
00:03:44.980 --> 00:03:49.360
the dom will always see everything
inside of it as a box, and

61
00:03:49.360 --> 00:03:52.900
we're going to dive into that in
more detail a little bit later on.

62
00:03:52.900 --> 00:03:57.860
But if you have a star or something
that's pointy, it will look like it's

63
00:03:57.860 --> 00:04:03.150
not hitting each other until
a little while, even though it is.

64
00:04:03.150 --> 00:04:06.480
So sometimes you have to compensate for
what you see with your eye,

65
00:04:06.480 --> 00:04:09.840
is different from what the dorm
actually thinks is going on.

66
00:04:09.840 --> 00:04:15.790
And there is also this new thing
that is called Snap Point,

67
00:04:15.790 --> 00:04:19.469
so you can throw these around and
they'll like kind of come back.

68
00:04:21.070 --> 00:04:22.630
That's pretty cool.

69
00:04:22.630 --> 00:04:26.680
Other possibilities for
game development, if you want.

70
00:04:28.960 --> 00:04:32.660
And, of course, we have a Draggable
to create a timeline interaction.

71
00:04:32.660 --> 00:04:37.480
So I basically created a Draggable
thing with this gear, and

72
00:04:37.480 --> 00:04:40.150
I set it to 360, not 100.

73
00:04:40.150 --> 00:04:44.320
And then I plotted that to
the progress of the timeline.

74
00:04:44.320 --> 00:04:49.390
And so then, you can steer a ship,
and all sorts of stuff with it.

75
00:04:49.390 --> 00:04:53.100
And then Play is really what you would
think, it just restarts the timeline.

76
00:04:53.100 --> 00:04:56.670
That's just kind of a fairly
normal interaction.

77
00:04:56.670 --> 00:05:00.460
So here we're setting all of
those to visibility: visible.

78
00:05:00.460 --> 00:05:06.926
We make the entire animation first, and
then once we have access to that master,

79
00:05:06.926 --> 00:05:11.492
I say Draggable.create,
bounds from 0 to 360, and

80
00:05:11.492 --> 00:05:16.651
onDrag master.progress
this.rotation over 360, cool.

81
00:05:16.651 --> 00:05:20.986
We can also do interpolation
with style bindings.

82
00:05:20.986 --> 00:05:22.490
There's this Pen.

83
00:05:22.490 --> 00:05:24.320
This is done with Vue and SVG.

84
00:05:24.320 --> 00:05:29.660
So basically I'm changing the coordinates,
and I'm tracking the coordinates, and

85
00:05:29.660 --> 00:05:35.640
using those inline in this inline style
to change the perspective origin.

86
00:05:35.640 --> 00:05:38.970
If you don't know what perspective origin
is, it's a really cool thing to check out.

87
00:05:40.140 --> 00:05:43.030
So I have in the instance,
I start with zero.

88
00:05:43.030 --> 00:05:47.670
You know, x at zero, y at zero, and
then I change it bound to eclient x, and

89
00:05:47.670 --> 00:05:50.970
then I change that,
based on the perspective origin.

90
00:05:52.430 --> 00:05:56.120
So we can also do things like
this cute little Wall-E.

91
00:05:56.120 --> 00:05:57.590
I think he makes noises.

92
00:05:57.590 --> 00:06:01.014
[SOUND] Chrome made this
major change recently,

93
00:06:01.014 --> 00:06:05.992
where you can't play audio unless
the user interacts with the site.

94
00:06:05.992 --> 00:06:08.725
So a bunch of my pens broke this morning.

95
00:06:08.725 --> 00:06:13.260
[LAUGH] So if you're just automatically
playing audio, it won't let you.

96
00:06:13.260 --> 00:06:15.480
You have to trigger the audio.

97
00:06:15.480 --> 00:06:19.744
So I think there's another sound
that's not happening right now, but

98
00:06:19.744 --> 00:06:22.455
the one that I trigger,
[SOUND] [LAUGH] Happen.

99
00:06:22.455 --> 00:06:25.175
So basically Wall-E has
this repeated thing,

100
00:06:25.175 --> 00:06:28.779
where he kind of looks around,
and he kind of blinks and stuff,

101
00:06:28.779 --> 00:06:33.440
because regular things in regular
life don't just sit there, still.

102
00:06:33.440 --> 00:06:37.042
And then, basically, for this animation.

103
00:06:37.042 --> 00:06:41.092
[SOUND] For this animation,
I have his arms reaching out, so

104
00:06:41.092 --> 00:06:45.304
I basically made the animation,
with his arms reaching out.

105
00:06:45.304 --> 00:06:50.177
And then I pause it, and
then I scrub that animation,

106
00:06:50.177 --> 00:06:54.680
as you scrub from here
to here in the client.

107
00:06:54.680 --> 00:06:58.518
And then when I get past
that certain point, [SOUND],

108
00:06:58.518 --> 00:07:02.458
I flip him with the scale
negative one on the x-axis.

109
00:07:02.458 --> 00:07:05.494
And so he looks over here instead,
and he stops moving his arms.

110
00:07:08.375 --> 00:07:10.690
&gt;&gt; Sarah Drasner: So basically,
this is mouse move coordinates.

111
00:07:10.690 --> 00:07:12.480
There's a lot more stuff
going on than that,

112
00:07:12.480 --> 00:07:16.950
but this is kind of where the magic
happens, where I have this progress, and

113
00:07:16.950 --> 00:07:19.890
I have the coordinates,
but I keep it paused.

114
00:07:19.890 --> 00:07:23.230
Cuz I don't want the animation
to play from that point,

115
00:07:23.230 --> 00:07:26.810
I want it to stay paused, and
for us to scrub the progress.

116
00:07:26.810 --> 00:07:30.500
If you don't have it paused, and
this is something I ran into,

117
00:07:30.500 --> 00:07:33.670
it will keep trying to play, and
then it gets this stuttery thing.

118
00:07:33.670 --> 00:07:35.430
I'm like, what is going on?

119
00:07:35.430 --> 00:07:37.440
So you need to chain that
pause with the progress.


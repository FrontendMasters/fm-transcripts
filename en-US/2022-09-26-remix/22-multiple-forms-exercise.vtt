WEBVTT

1
00:00:00.240 --> 00:00:03.123
Let's say node dev 7.

2
00:00:04.823 --> 00:00:10.704
Should be on port 4007 and

3
00:00:10.704 --> 00:00:14.001
in read me 07.

4
00:00:14.001 --> 00:00:18.795
Multiple forms, exercise 7,
I did one thing for

5
00:00:18.795 --> 00:00:23.702
you to change the app that I
need you to know about and

6
00:00:23.702 --> 00:00:28.140
that is I moved our
routes just a tiny bit.

7
00:00:28.140 --> 00:00:32.165
So in admin, we no longer have
a new route, we have a slug route.

8
00:00:32.165 --> 00:00:37.357
This login route is going
to handle loading data for

9
00:00:37.357 --> 00:00:41.295
the post that we're looking at.

10
00:00:41.295 --> 00:00:45.785
But if the slug is new, then it just
renders or it sends back a post of null.

11
00:00:45.785 --> 00:00:49.175
So that's how we're gonna
just reuse this route.

12
00:00:49.175 --> 00:00:52.135
Typically, you don't do that typically for
sharing code,

13
00:00:52.135 --> 00:00:55.974
you're gonna put this component in this
file and then you import it from both.

14
00:00:55.974 --> 00:01:00.190
But this just made so much sense to
me that I went with this direction.

15
00:01:00.190 --> 00:01:02.350
This is how I develop software.

16
00:01:02.350 --> 00:01:05.799
I implement it twice,
I choose the one I hate the least.

17
00:01:05.799 --> 00:01:07.140
This is the one I hated the least.

18
00:01:07.140 --> 00:01:10.750
So that's what we're going with today.

19
00:01:10.750 --> 00:01:12.070
But that's pretty much all I changed.

20
00:01:12.070 --> 00:01:18.165
I added, of course,
the ability to load that post and

21
00:01:18.165 --> 00:01:21.860
then display it in our form.

22
00:01:21.860 --> 00:01:26.630
And so I added this default value
prop as well as this key prop.

23
00:01:26.630 --> 00:01:31.272
So that as you're navigating
between these two that value

24
00:01:31.272 --> 00:01:34.720
will update to whatever the one is.

25
00:01:34.720 --> 00:01:39.010
But you'll notice that this still says
create post and I cannot edit this slug.

26
00:01:39.010 --> 00:01:42.535
So if I try that then well,
it says Slug is required.

27
00:01:42.535 --> 00:01:45.028
It also just won't work cuz
the database is like, hey,

28
00:01:45.028 --> 00:01:48.550
you're trying to create something that
has already got an idea of this thing.

29
00:01:48.550 --> 00:01:50.550
So we're not gonna be able to do that.

30
00:01:50.550 --> 00:01:55.012
Your job is to make it so
that when I'm on or rendering this and

31
00:01:55.012 --> 00:01:58.773
I have post data that this
should say update post and

32
00:01:58.773 --> 00:02:02.560
the action should
actually update the post.

33
00:02:02.560 --> 00:02:07.520
And then if I'm on a new, and
also that it should have a delete button.

34
00:02:07.520 --> 00:02:10.161
So you're gonna implement
the delete button as well.

35
00:02:10.161 --> 00:02:13.213
And then when I'm on the new post page,
it should still say create posts and

36
00:02:13.213 --> 00:02:14.770
still work the way that it always has.

